var W3=Object.defineProperty;var B3=(t,e,n)=>e in t?W3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ze=(t,e,n)=>B3(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function sd(...t){if(t){let e=[];for(let n=0;n<t.length;n++){const r=t[n];if(!r)continue;const i=typeof r;if(i==="string"||i==="number")e.push(r);else if(i==="object"){const o=Array.isArray(r)?[sd(...r)]:Object.entries(r).map(([s,a])=>a?s:void 0);e=o.length?e.concat(o.filter(s=>!!s)):e}}return e.join(" ").trim()}}function j3(t,e){return t?t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className):!1}function U3(t,e){if(t&&e){const n=r=>{j3(t,r)||(t.classList?t.classList.add(r):t.className+=" "+r)};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(n))}}function wS(t,e){if(t&&e){const n=r=>{t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(n))}}function QI(t){return t?Math.abs(t.scrollLeft):0}function z3(t,e){return t instanceof HTMLElement?t.offsetWidth:0}function Y3(t){if(t){let e=t.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function G3(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&Y3(t))}function mp(t){return typeof Element<"u"?t instanceof Element:t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}function Bb(t,e={}){if(mp(t)){const n=(r,i)=>{var o,s;const a=(o=t==null?void 0:t.$attrs)!=null&&o[r]?[(s=t==null?void 0:t.$attrs)==null?void 0:s[r]]:[];return[i].flat().reduce((l,u)=>{if(u!=null){const c=typeof u;if(c==="string"||c==="number")l.push(u);else if(c==="object"){const h=Array.isArray(u)?n(r,u):Object.entries(u).map(([d,f])=>r==="style"&&(f||f===0)?`${d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?d:void 0);l=h.length?l.concat(h.filter(d=>!!d)):l}}return l},a)};Object.entries(e).forEach(([r,i])=>{if(i!=null){const o=r.match(/^on(.+)/);o?t.addEventListener(o[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?Bb(t,i):(i=r==="class"?[...new Set(n("class",i))].join(" ").trim():r==="style"?n("style",i).join(";").trim():i,(t.$attrs=t.$attrs||{})&&(t.$attrs[r]=i),t.setAttribute(r,i))}})}}function K3(t,e={},...n){{const r=document.createElement(t);return Bb(r,e),r.append(...n),r}}function q3(t,e){return mp(t)?t.matches(e)?t:t.querySelector(e):null}function X3(t,e){if(mp(t)){const n=t.getAttribute(e);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}function eA(t){if(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}return 0}function Z3(t){if(t){const e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||QI(document.documentElement)||QI(document.body)||0)}}return{top:"auto",left:"auto"}}function J3(t,e){return t?t.offsetHeight:0}function tA(t){if(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}return 0}function Q3(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function eq(t,e="",n){mp(t)&&n!==null&&n!==void 0&&t.setAttribute(e,n)}function $B(){const t=new Map;return{on(e,n){let r=t.get(e);return r?r.push(n):r=[n],t.set(e,r),this},off(e,n){const r=t.get(e);return r&&r.splice(r.indexOf(n)>>>0,1),this},emit(e,n){const r=t.get(e);r&&r.forEach(i=>{i(n)})},clear(){t.clear()}}}var tq=Object.defineProperty,nA=Object.getOwnPropertySymbols,nq=Object.prototype.hasOwnProperty,rq=Object.prototype.propertyIsEnumerable,rA=(t,e,n)=>e in t?tq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iq=(t,e)=>{for(var n in e||(e={}))nq.call(e,n)&&rA(t,n,e[n]);if(nA)for(var n of nA(e))rq.call(e,n)&&rA(t,n,e[n]);return t};function Dc(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0}function gM(t){return typeof t=="function"&&"call"in t&&"apply"in t}function kt(t){return!Dc(t)}function ks(t,e=!0){return t instanceof Object&&t.constructor===Object&&(e||Object.keys(t).length!==0)}function LB(t={},e={}){const n=iq({},t);return Object.keys(e).forEach(r=>{const i=r;ks(e[i])&&i in t&&ks(t[i])?n[i]=LB(t[i],e[i]):n[i]=e[i]}),n}function oq(...t){return t.reduce((e,n,r)=>r===0?n:LB(e,n),{})}function Gi(t,...e){return gM(t)?t(...e):t}function si(t,e=!0){return typeof t=="string"&&(e||t!=="")}function Rs(t){return si(t)?t.replace(/(-|_)/g,"").toLowerCase():t}function mM(t,e="",n={}){const r=Rs(e).split("."),i=r.shift();if(i){if(ks(t)){const o=Object.keys(t).find(s=>Rs(s)===i)||"";return mM(Gi(t[o],n),r.join("."),n)}return}return Gi(t,n)}function tC(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}function sq(t){return kt(t)&&!isNaN(t)}function Ra(t,e){if(e){const n=e.test(t);return e.lastIndex=0,n}return!1}function aq(...t){return oq(...t)}function Dg(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function lq(t){return si(t,!1)?t[0].toUpperCase()+t.slice(1):t}function FB(t){return si(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,n)=>n===0?e:"-"+e.toLowerCase()).toLowerCase():t}function iA(t){return si(t)?t.replace(/[A-Z]/g,(e,n)=>n===0?e:"."+e.toLowerCase()).toLowerCase():t}var nv={};function uq(t="pui_id_"){return Object.hasOwn(nv,t)||(nv[t]=0),nv[t]++,`${t}${nv[t]}`}var cq=Object.defineProperty,hq=Object.defineProperties,dq=Object.getOwnPropertyDescriptors,jb=Object.getOwnPropertySymbols,VB=Object.prototype.hasOwnProperty,WB=Object.prototype.propertyIsEnumerable,oA=(t,e,n)=>e in t?cq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Po=(t,e)=>{for(var n in e||(e={}))VB.call(e,n)&&oA(t,n,e[n]);if(jb)for(var n of jb(e))WB.call(e,n)&&oA(t,n,e[n]);return t},bS=(t,e)=>hq(t,dq(e)),Us=(t,e)=>{var n={};for(var r in t)VB.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&jb)for(var r of jb(t))e.indexOf(r)<0&&WB.call(t,r)&&(n[r]=t[r]);return n},fq=$B(),nr=fq;function sA(t,e){tC(t)?t.push(...e||[]):ks(t)&&Object.assign(t,e)}function gq(t){return ks(t)&&t.hasOwnProperty("$value")&&t.hasOwnProperty("$type")?t.$value:t}function mq(t){return t.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Wx(t="",e=""){return mq(`${si(t,!1)&&si(e,!1)?`${t}-`:t}${e}`)}function BB(t="",e=""){return`--${Wx(t,e)}`}function pq(t=""){const e=(t.match(/{/g)||[]).length,n=(t.match(/}/g)||[]).length;return(e+n)%2!==0}function jB(t,e="",n="",r=[],i){if(si(t)){const o=/{([^}]*)}/g,s=t.trim();if(pq(s))return;if(Ra(s,o)){const a=s.replaceAll(o,c=>{const d=c.replace(/{|}/g,"").split(".").filter(f=>!r.some(g=>Ra(f,g)));return`var(${BB(n,FB(d.join("-")))}${kt(i)?`, ${i}`:""})`}),l=/(\d+\s+[\+\-\*\/]\s+\d+)/g,u=/var\([^)]+\)/g;return Ra(a.replace(u,"0"),l)?`calc(${a})`:a}return s}else if(sq(t))return t}function vq(t,e,n){si(e,!1)&&t.push(`${e}:${n};`)}function Lh(t,e){return t?`${t}{${e}}`:""}var $g=(...t)=>wq(At.getTheme(),...t),wq=(t={},e,n,r)=>{if(e){const{variable:i,options:o}=At.defaults||{},{prefix:s,transform:a}=(t==null?void 0:t.options)||o||{},u=Ra(e,/{([^}]*)}/g)?e:`{${e}}`;return r==="value"||Dc(r)&&a==="strict"?At.getTokenValue(e):jB(u,void 0,s,[i.excludedKeyRegex],n)}return""};function bq(t,e={}){const n=At.defaults.variable,{prefix:r=n.prefix,selector:i=n.selector,excludedKeyRegex:o=n.excludedKeyRegex}=e,s=(u,c="")=>Object.entries(u).reduce((h,[d,f])=>{const g=Ra(d,o)?Wx(c):Wx(c,FB(d)),m=gq(f);if(ks(m)){const{variables:p,tokens:y}=s(m,g);sA(h.tokens,y),sA(h.variables,p)}else h.tokens.push((r?g.replace(`${r}-`,""):g).replaceAll("-",".")),vq(h.variables,BB(g),jB(m,g,r,[o]));return h},{variables:[],tokens:[]}),{variables:a,tokens:l}=s(t,r);return{value:a,tokens:l,declarations:a.join(""),css:Lh(i,a.join(""))}}var lo={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(t){return{type:"class",selector:t,matched:this.pattern.test(t.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(t){return{type:"attr",selector:`:root${t}`,matched:this.pattern.test(t.trim())}}},media:{pattern:/^@media (.*)$/,resolve(t){return{type:"media",selector:`${t}{:root{[CSS]}}`,matched:this.pattern.test(t.trim())}}},system:{pattern:/^system$/,resolve(t){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(t.trim())}}},custom:{resolve(t){return{type:"custom",selector:t,matched:!0}}}},resolve(t){const e=Object.keys(this.rules).filter(n=>n!=="custom").map(n=>this.rules[n]);return[t].flat().map(n=>{var r;return(r=e.map(i=>i.resolve(n)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(n)})}},_toVariables(t,e){return bq(t,{prefix:e==null?void 0:e.prefix})},getCommon({name:t="",theme:e={},params:n,set:r,defaults:i}){var o,s,a,l,u,c,h;const{preset:d,options:f}=e;let g,m,p,y,b,T,E;if(kt(d)&&f.transform!=="strict"){const{primitive:P,semantic:I,extend:H}=d,U=I||{},{colorScheme:K}=U,j=Us(U,["colorScheme"]),q=H||{},{colorScheme:Z}=q,ie=Us(q,["colorScheme"]),ee=K||{},{dark:re}=ee,pe=Us(ee,["dark"]),se=Z||{},{dark:ce}=se,He=Us(se,["dark"]),Ne=kt(P)?this._toVariables({primitive:P},f):{},Re=kt(j)?this._toVariables({semantic:j},f):{},w=kt(pe)?this._toVariables({light:pe},f):{},S=kt(re)?this._toVariables({dark:re},f):{},C=kt(ie)?this._toVariables({semantic:ie},f):{},F=kt(He)?this._toVariables({light:He},f):{},B=kt(ce)?this._toVariables({dark:ce},f):{},[k,Y]=[(o=Ne.declarations)!=null?o:"",Ne.tokens],[G,R]=[(s=Re.declarations)!=null?s:"",Re.tokens||[]],[M,v]=[(a=w.declarations)!=null?a:"",w.tokens||[]],[_,x]=[(l=S.declarations)!=null?l:"",S.tokens||[]],[A,D]=[(u=C.declarations)!=null?u:"",C.tokens||[]],[O,N]=[(c=F.declarations)!=null?c:"",F.tokens||[]],[L,$]=[(h=B.declarations)!=null?h:"",B.tokens||[]];g=this.transformCSS(t,k,"light","variable",f,r,i),m=Y;const V=this.transformCSS(t,`${G}${M}`,"light","variable",f,r,i),J=this.transformCSS(t,`${_}`,"dark","variable",f,r,i);p=`${V}${J}`,y=[...new Set([...R,...v,...x])];const X=this.transformCSS(t,`${A}${O}color-scheme:light`,"light","variable",f,r,i),oe=this.transformCSS(t,`${L}color-scheme:dark`,"dark","variable",f,r,i);b=`${X}${oe}`,T=[...new Set([...D,...N,...$])],E=Gi(d.css,{dt:$g})}return{primitive:{css:g,tokens:m},semantic:{css:p,tokens:y},global:{css:b,tokens:T},style:E}},getPreset({name:t="",preset:e={},options:n,params:r,set:i,defaults:o,selector:s}){var a,l,u;let c,h,d;if(kt(e)&&n.transform!=="strict"){const f=t.replace("-directive",""),g=e,{colorScheme:m,extend:p,css:y}=g,b=Us(g,["colorScheme","extend","css"]),T=p||{},{colorScheme:E}=T,P=Us(T,["colorScheme"]),I=m||{},{dark:H}=I,U=Us(I,["dark"]),K=E||{},{dark:j}=K,q=Us(K,["dark"]),Z=kt(b)?this._toVariables({[f]:Po(Po({},b),P)},n):{},ie=kt(U)?this._toVariables({[f]:Po(Po({},U),q)},n):{},ee=kt(H)?this._toVariables({[f]:Po(Po({},H),j)},n):{},[re,pe]=[(a=Z.declarations)!=null?a:"",Z.tokens||[]],[se,ce]=[(l=ie.declarations)!=null?l:"",ie.tokens||[]],[He,Ne]=[(u=ee.declarations)!=null?u:"",ee.tokens||[]],Re=this.transformCSS(f,`${re}${se}`,"light","variable",n,i,o,s),w=this.transformCSS(f,He,"dark","variable",n,i,o,s);c=`${Re}${w}`,h=[...new Set([...pe,...ce,...Ne])],d=Gi(y,{dt:$g})}return{css:c,tokens:h,style:d}},getPresetC({name:t="",theme:e={},params:n,set:r,defaults:i}){var o;const{preset:s,options:a}=e,l=(o=s==null?void 0:s.components)==null?void 0:o[t];return this.getPreset({name:t,preset:l,options:a,params:n,set:r,defaults:i})},getPresetD({name:t="",theme:e={},params:n,set:r,defaults:i}){var o,s;const a=t.replace("-directive",""),{preset:l,options:u}=e,c=((o=l==null?void 0:l.components)==null?void 0:o[a])||((s=l==null?void 0:l.directives)==null?void 0:s[a]);return this.getPreset({name:a,preset:c,options:u,params:n,set:r,defaults:i})},applyDarkColorScheme(t){return!(t.darkModeSelector==="none"||t.darkModeSelector===!1)},getColorSchemeOption(t,e){var n;return this.applyDarkColorScheme(t)?this.regex.resolve(t.darkModeSelector===!0?e.options.darkModeSelector:(n=t.darkModeSelector)!=null?n:e.options.darkModeSelector):[]},getLayerOrder(t,e={},n,r){const{cssLayer:i}=e;return i?`@layer ${Gi(i.order||"primeui",n)}`:""},getCommonStyleSheet({name:t="",theme:e={},params:n,props:r={},set:i,defaults:o}){const s=this.getCommon({name:t,theme:e,params:n,set:i,defaults:o}),a=Object.entries(r).reduce((l,[u,c])=>l.push(`${u}="${c}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[u,c])=>{if(c!=null&&c.css){const h=Dg(c==null?void 0:c.css),d=`${u}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${d}" ${a}>${h}</style>`)}return l},[]).join("")},getStyleSheet({name:t="",theme:e={},params:n,props:r={},set:i,defaults:o}){var s;const a={name:t,theme:e,params:n,set:i,defaults:o},l=(s=t.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:s.css,u=Object.entries(r).reduce((c,[h,d])=>c.push(`${h}="${d}"`)&&c,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${t}-variables" ${u}>${Dg(l)}</style>`:""},createTokens(t={},e,n="",r="",i={}){return Object.entries(t).forEach(([o,s])=>{const a=Ra(o,e.variable.excludedKeyRegex)?n:n?`${n}.${iA(o)}`:iA(o),l=r?`${r}.${o}`:o;ks(s)?this.createTokens(s,e,a,l,i):(i[a]||(i[a]={paths:[],computed(u,c={}){var h,d;return this.paths.length===1?(h=this.paths[0])==null?void 0:h.computed(this.paths[0].scheme,c.binding):u&&u!=="none"?(d=this.paths.find(f=>f.scheme===u))==null?void 0:d.computed(u,c.binding):this.paths.map(f=>f.computed(f.scheme,c[f.scheme]))}}),i[a].paths.push({path:l,value:s,scheme:l.includes("colorScheme.light")?"light":l.includes("colorScheme.dark")?"dark":"none",computed(u,c={}){const h=/{([^}]*)}/g;let d=s;if(c.name=this.path,c.binding||(c.binding={}),Ra(s,h)){const g=s.trim().replaceAll(h,y=>{var b;const T=y.replace(/{|}/g,""),E=(b=i[T])==null?void 0:b.computed(u,c);return tC(E)&&E.length===2?`light-dark(${E[0].value},${E[1].value})`:E==null?void 0:E.value}),m=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,p=/var\([^)]+\)/g;d=Ra(g.replace(p,"0"),m)?`calc(${g})`:g}return Dc(c.binding)&&delete c.binding,{colorScheme:u,path:this.path,paths:c,value:d.includes("undefined")?void 0:d}}}))}),i},getTokenValue(t,e,n){var r;const o=(l=>l.split(".").filter(c=>!Ra(c.toLowerCase(),n.variable.excludedKeyRegex)).join("."))(e),s=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,a=[(r=t[o])==null?void 0:r.computed(s)].flat().filter(l=>l);return a.length===1?a[0].value:a.reduce((l={},u)=>{const c=u,{colorScheme:h}=c,d=Us(c,["colorScheme"]);return l[h]=d,l},void 0)},getSelectorRule(t,e,n,r){return n==="class"||n==="attr"?Lh(kt(e)?`${t}${e},${t} ${e}`:t,r):Lh(t,kt(e)?Lh(e,r):r)},transformCSS(t,e,n,r,i={},o,s,a){if(kt(e)){const{cssLayer:l}=i;if(r!=="style"){const u=this.getColorSchemeOption(i,s);e=n==="dark"?u.reduce((c,{type:h,selector:d})=>(kt(d)&&(c+=d.includes("[CSS]")?d.replace("[CSS]",e):this.getSelectorRule(d,a,h,e)),c),""):Lh(a??":root",e)}if(l){const u={name:"primeui"};ks(l)&&(u.name=Gi(l.name,{name:t,type:r})),kt(u.name)&&(e=Lh(`@layer ${u.name}`,e),o==null||o.layerNames(u.name))}return e}return""}},At={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(t={}){const{theme:e}=t;e&&(this._theme=bS(Po({},e),{options:Po(Po({},this.defaults.options),e.options)}),this._tokens=lo.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var t;return((t=this.theme)==null?void 0:t.preset)||{}},get options(){var t;return((t=this.theme)==null?void 0:t.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(t){this.update({theme:t}),nr.emit("theme:change",t)},getPreset(){return this.preset},setPreset(t){this._theme=bS(Po({},this.theme),{preset:t}),this._tokens=lo.createTokens(t,this.defaults),this.clearLoadedStyleNames(),nr.emit("preset:change",t),nr.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(t){this._theme=bS(Po({},this.theme),{options:t}),this.clearLoadedStyleNames(),nr.emit("options:change",t),nr.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(t){this._layerNames.add(t)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(t){return lo.getTokenValue(this.tokens,t,this.defaults)},getCommon(t="",e){return lo.getCommon({name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(t="",e){const n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return lo.getPresetC(n)},getDirective(t="",e){const n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return lo.getPresetD(n)},getCustomPreset(t="",e,n,r){const i={name:t,preset:e,options:this.options,selector:n,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return lo.getPreset(i)},getLayerOrderCSS(t=""){return lo.getLayerOrder(t,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(t="",e,n="style",r){return lo.transformCSS(t,e,r,n,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(t="",e,n={}){return lo.getCommonStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(t,e,n={}){return lo.getStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(t){this._loadingStyles.add(t)},onStyleUpdated(t){this._loadingStyles.add(t)},onStyleLoaded(t,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),nr.emit(`theme:${e}:load`,t),!this._loadingStyles.size&&nr.emit("theme:load"))}},Rl={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}},yq=({dt:t})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${t("disabled.opacity")};
}

.pi {
    font-size: ${t("icon.size")};
}

.p-icon {
    width: ${t("icon.size")};
    height: ${t("icon.size")};
}

.p-overlay-mask {
    background: ${t("mask.background")};
    color: ${t("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${t("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${t("mask.transition.duration")} forwards;
}

@keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${t("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${t("mask.background")};
    }
    to {
        background: transparent;
    }
}
`;/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pM(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Dt={},ad=[],Is=()=>{},Cq=()=>!1,nC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),vM=t=>t.startsWith("onUpdate:"),Sr=Object.assign,wM=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Sq=Object.prototype.hasOwnProperty,Et=(t,e)=>Sq.call(t,e),Ie=Array.isArray,ld=t=>pp(t)==="[object Map]",Fd=t=>pp(t)==="[object Set]",aA=t=>pp(t)==="[object Date]",Fe=t=>typeof t=="function",En=t=>typeof t=="string",No=t=>typeof t=="symbol",jt=t=>t!==null&&typeof t=="object",UB=t=>(jt(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),zB=Object.prototype.toString,pp=t=>zB.call(t),_q=t=>pp(t).slice(8,-1),YB=t=>pp(t)==="[object Object]",bM=t=>En(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Lg=pM(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rC=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Rq=/-(\w)/g,Ji=rC(t=>t.replace(Rq,(e,n)=>n?n.toUpperCase():"")),Eq=/\B([A-Z])/g,$c=rC(t=>t.replace(Eq,"-$1").toLowerCase()),iC=rC(t=>t.charAt(0).toUpperCase()+t.slice(1)),yS=rC(t=>t?`on${iC(t)}`:""),Ll=(t,e)=>!Object.is(t,e),lb=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},GB=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Ub=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let lA;const oC=()=>lA||(lA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yM(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=En(r)?Pq(r):yM(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(En(t)||jt(t))return t}const xq=/;(?![^(]*\))/g,Tq=/:([^]+)/,Mq=/\/\*[^]*?\*\//g;function Pq(t){const e={};return t.replace(Mq,"").split(xq).forEach(n=>{if(n){const r=n.split(Tq);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Sc(t){let e="";if(En(t))e=t;else if(Ie(t))for(let n=0;n<t.length;n++){const r=Sc(t[n]);r&&(e+=r+" ")}else if(jt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Oq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Iq=pM(Oq);function KB(t){return!!t||t===""}function Aq(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=vp(t[r],e[r]);return n}function vp(t,e){if(t===e)return!0;let n=aA(t),r=aA(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=No(t),r=No(e),n||r)return t===e;if(n=Ie(t),r=Ie(e),n||r)return n&&r?Aq(t,e):!1;if(n=jt(t),r=jt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!vp(t[s],e[s]))return!1}}return String(t)===String(e)}function CM(t,e){return t.findIndex(n=>vp(n,e))}const qB=t=>!!(t&&t.__v_isRef===!0),wn=t=>En(t)?t:t==null?"":Ie(t)||jt(t)&&(t.toString===zB||!Fe(t.toString))?qB(t)?wn(t.value):JSON.stringify(t,XB,2):String(t),XB=(t,e)=>qB(e)?XB(t,e.value):ld(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[CS(r,o)+" =>"]=i,n),{})}:Fd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>CS(n))}:No(e)?CS(e):jt(e)&&!Ie(e)&&!YB(e)?String(e):e,CS=(t,e="")=>{var n;return No(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bi;class Hq{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=bi,!e&&bi&&(this.index=(bi.scopes||(bi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=bi;try{return bi=this,e()}finally{bi=n}}}on(){bi=this}off(){bi=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function kq(){return bi}let Wt;const SS=new WeakSet;class ZB{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,bi&&bi.active&&bi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,SS.has(this)&&(SS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||QB(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,uA(this),ej(this);const e=Wt,n=Ao;Wt=this,Ao=!0;try{return this.fn()}finally{tj(this),Wt=e,Ao=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)RM(e);this.deps=this.depsTail=void 0,uA(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?SS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Bx(this)&&this.run()}get dirty(){return Bx(this)}}let JB=0,Fg,Vg;function QB(t,e=!1){if(t.flags|=8,e){t.next=Vg,Vg=t;return}t.next=Fg,Fg=t}function SM(){JB++}function _M(){if(--JB>0)return;if(Vg){let e=Vg;for(Vg=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Fg;){let e=Fg;for(Fg=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function ej(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function tj(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),RM(r),Nq(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Bx(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(nj(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function nj(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Sm))return;t.globalVersion=Sm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Bx(t)){t.flags&=-3;return}const n=Wt,r=Ao;Wt=t,Ao=!0;try{ej(t);const i=t.fn(t._value);(e.version===0||Ll(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Wt=n,Ao=r,tj(t),t.flags&=-3}}function RM(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)RM(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Nq(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ao=!0;const rj=[];function Kl(){rj.push(Ao),Ao=!1}function ql(){const t=rj.pop();Ao=t===void 0?!0:t}function uA(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Wt;Wt=void 0;try{e()}finally{Wt=n}}}let Sm=0;class Dq{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class EM{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Wt||!Ao||Wt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Wt)n=this.activeLink=new Dq(Wt,this),Wt.deps?(n.prevDep=Wt.depsTail,Wt.depsTail.nextDep=n,Wt.depsTail=n):Wt.deps=Wt.depsTail=n,ij(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Wt.depsTail,n.nextDep=void 0,Wt.depsTail.nextDep=n,Wt.depsTail=n,Wt.deps===n&&(Wt.deps=r)}return n}trigger(e){this.version++,Sm++,this.notify(e)}notify(e){SM();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_M()}}}function ij(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ij(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const jx=new WeakMap,mc=Symbol(""),Ux=Symbol(""),_m=Symbol("");function mr(t,e,n){if(Ao&&Wt){let r=jx.get(t);r||jx.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new EM),i.map=r,i.key=n),i.track()}}function ya(t,e,n,r,i,o){const s=jx.get(t);if(!s){Sm++;return}const a=l=>{l&&l.trigger()};if(SM(),e==="clear")s.forEach(a);else{const l=Ie(t),u=l&&bM(n);if(l&&n==="length"){const c=Number(r);s.forEach((h,d)=>{(d==="length"||d===_m||!No(d)&&d>=c)&&a(h)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),u&&a(s.get(_m)),e){case"add":l?u&&a(s.get("length")):(a(s.get(mc)),ld(t)&&a(s.get(Ux)));break;case"delete":l||(a(s.get(mc)),ld(t)&&a(s.get(Ux)));break;case"set":ld(t)&&a(s.get(mc));break}}_M()}function Zc(t){const e=dt(t);return e===t?e:(mr(e,"iterate",_m),Xi(t)?e:e.map(pr))}function sC(t){return mr(t=dt(t),"iterate",_m),t}const $q={__proto__:null,[Symbol.iterator](){return _S(this,Symbol.iterator,pr)},concat(...t){return Zc(this).concat(...t.map(e=>Ie(e)?Zc(e):e))},entries(){return _S(this,"entries",t=>(t[1]=pr(t[1]),t))},every(t,e){return zs(this,"every",t,e,void 0,arguments)},filter(t,e){return zs(this,"filter",t,e,n=>n.map(pr),arguments)},find(t,e){return zs(this,"find",t,e,pr,arguments)},findIndex(t,e){return zs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zs(this,"findLast",t,e,pr,arguments)},findLastIndex(t,e){return zs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zs(this,"forEach",t,e,void 0,arguments)},includes(...t){return RS(this,"includes",t)},indexOf(...t){return RS(this,"indexOf",t)},join(t){return Zc(this).join(t)},lastIndexOf(...t){return RS(this,"lastIndexOf",t)},map(t,e){return zs(this,"map",t,e,void 0,arguments)},pop(){return af(this,"pop")},push(...t){return af(this,"push",t)},reduce(t,...e){return cA(this,"reduce",t,e)},reduceRight(t,...e){return cA(this,"reduceRight",t,e)},shift(){return af(this,"shift")},some(t,e){return zs(this,"some",t,e,void 0,arguments)},splice(...t){return af(this,"splice",t)},toReversed(){return Zc(this).toReversed()},toSorted(t){return Zc(this).toSorted(t)},toSpliced(...t){return Zc(this).toSpliced(...t)},unshift(...t){return af(this,"unshift",t)},values(){return _S(this,"values",pr)}};function _S(t,e,n){const r=sC(t),i=r[e]();return r!==t&&!Xi(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const Lq=Array.prototype;function zs(t,e,n,r,i,o){const s=sC(t),a=s!==t&&!Xi(t),l=s[e];if(l!==Lq[e]){const h=l.apply(t,o);return a?pr(h):h}let u=n;s!==t&&(a?u=function(h,d){return n.call(this,pr(h),d,t)}:n.length>2&&(u=function(h,d){return n.call(this,h,d,t)}));const c=l.call(s,u,r);return a&&i?i(c):c}function cA(t,e,n,r){const i=sC(t);let o=n;return i!==t&&(Xi(t)?n.length>3&&(o=function(s,a,l){return n.call(this,s,a,l,t)}):o=function(s,a,l){return n.call(this,s,pr(a),l,t)}),i[e](o,...r)}function RS(t,e,n){const r=dt(t);mr(r,"iterate",_m);const i=r[e](...n);return(i===-1||i===!1)&&bp(n[0])?(n[0]=dt(n[0]),r[e](...n)):i}function af(t,e,n=[]){Kl(),SM();const r=dt(t)[e].apply(t,n);return _M(),ql(),r}const Fq=pM("__proto__,__v_isRef,__isVue"),oj=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(No));function Vq(t){No(t)||(t=String(t));const e=dt(this);return mr(e,"has",t),e.hasOwnProperty(t)}class sj{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?Xq:cj:o?uj:lj).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=Ie(e);if(!i){let l;if(s&&(l=$q[n]))return l;if(n==="hasOwnProperty")return Vq}const a=Reflect.get(e,n,yr(e)?e:r);return(No(n)?oj.has(n):Fq(n))||(i||mr(e,"get",n),o)?a:yr(a)?s&&bM(n)?a:a.value:jt(a)?i?TM(a):wp(a):a}}class aj extends sj{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=_c(o);if(!Xi(r)&&!_c(r)&&(o=dt(o),r=dt(r)),!Ie(e)&&yr(o)&&!yr(r))return l?!1:(o.value=r,!0)}const s=Ie(e)&&bM(n)?Number(n)<e.length:Et(e,n),a=Reflect.set(e,n,r,yr(e)?e:i);return e===dt(i)&&(s?Ll(r,o)&&ya(e,"set",n,r):ya(e,"add",n,r)),a}deleteProperty(e,n){const r=Et(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ya(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!No(n)||!oj.has(n))&&mr(e,"has",n),r}ownKeys(e){return mr(e,"iterate",Ie(e)?"length":mc),Reflect.ownKeys(e)}}class Wq extends sj{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Bq=new aj,jq=new Wq,Uq=new aj(!0);const zx=t=>t,rv=t=>Reflect.getPrototypeOf(t);function zq(t,e,n){return function(...r){const i=this.__v_raw,o=dt(i),s=ld(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...r),c=n?zx:e?Yx:pr;return!e&&mr(o,"iterate",l?Ux:mc),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function iv(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Yq(t,e){const n={get(i){const o=this.__v_raw,s=dt(o),a=dt(i);t||(Ll(i,a)&&mr(s,"get",i),mr(s,"get",a));const{has:l}=rv(s),u=e?zx:t?Yx:pr;if(l.call(s,i))return u(o.get(i));if(l.call(s,a))return u(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!t&&mr(dt(i),"iterate",mc),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=dt(o),a=dt(i);return t||(Ll(i,a)&&mr(s,"has",i),mr(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,l=dt(a),u=e?zx:t?Yx:pr;return!t&&mr(l,"iterate",mc),a.forEach((c,h)=>i.call(o,u(c),u(h),s))}};return Sr(n,t?{add:iv("add"),set:iv("set"),delete:iv("delete"),clear:iv("clear")}:{add(i){!e&&!Xi(i)&&!_c(i)&&(i=dt(i));const o=dt(this);return rv(o).has.call(o,i)||(o.add(i),ya(o,"add",i,i)),this},set(i,o){!e&&!Xi(o)&&!_c(o)&&(o=dt(o));const s=dt(this),{has:a,get:l}=rv(s);let u=a.call(s,i);u||(i=dt(i),u=a.call(s,i));const c=l.call(s,i);return s.set(i,o),u?Ll(o,c)&&ya(s,"set",i,o):ya(s,"add",i,o),this},delete(i){const o=dt(this),{has:s,get:a}=rv(o);let l=s.call(o,i);l||(i=dt(i),l=s.call(o,i)),a&&a.call(o,i);const u=o.delete(i);return l&&ya(o,"delete",i,void 0),u},clear(){const i=dt(this),o=i.size!==0,s=i.clear();return o&&ya(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=zq(i,t,e)}),n}function xM(t,e){const n=Yq(t,e);return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Et(n,i)&&i in r?n:r,i,o)}const Gq={get:xM(!1,!1)},Kq={get:xM(!1,!0)},qq={get:xM(!0,!1)};const lj=new WeakMap,uj=new WeakMap,cj=new WeakMap,Xq=new WeakMap;function Zq(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jq(t){return t.__v_skip||!Object.isExtensible(t)?0:Zq(_q(t))}function wp(t){return _c(t)?t:MM(t,!1,Bq,Gq,lj)}function hj(t){return MM(t,!1,Uq,Kq,uj)}function TM(t){return MM(t,!0,jq,qq,cj)}function MM(t,e,n,r,i){if(!jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Jq(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function ud(t){return _c(t)?ud(t.__v_raw):!!(t&&t.__v_isReactive)}function _c(t){return!!(t&&t.__v_isReadonly)}function Xi(t){return!!(t&&t.__v_isShallow)}function bp(t){return t?!!t.__v_raw:!1}function dt(t){const e=t&&t.__v_raw;return e?dt(e):t}function dj(t){return!Et(t,"__v_skip")&&Object.isExtensible(t)&&GB(t,"__v_skip",!0),t}const pr=t=>jt(t)?wp(t):t,Yx=t=>jt(t)?TM(t):t;function yr(t){return t?t.__v_isRef===!0:!1}function Ha(t){return fj(t,!1)}function PM(t){return fj(t,!0)}function fj(t,e){return yr(t)?t:new Qq(t,e)}class Qq{constructor(e,n){this.dep=new EM,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:dt(e),this._value=n?e:pr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Xi(e)||_c(e);e=r?e:dt(e),Ll(e,n)&&(this._rawValue=e,this._value=r?e:pr(e),this.dep.trigger())}}function cd(t){return yr(t)?t.value:t}const e4={get:(t,e,n)=>e==="__v_raw"?t:cd(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return yr(i)&&!yr(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function gj(t){return ud(t)?t:new Proxy(t,e4)}class t4{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new EM(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Sm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Wt!==this)return QB(this,!0),!0}get value(){const e=this.dep.track();return nj(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function n4(t,e,n=!1){let r,i;return Fe(t)?r=t:(r=t.get,i=t.set),new t4(r,i,n)}const ov={},zb=new WeakMap;let Xu;function r4(t,e=!1,n=Xu){if(n){let r=zb.get(n);r||zb.set(n,r=[]),r.push(t)}}function i4(t,e,n=Dt){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:l}=n,u=E=>i?E:Xi(E)||i===!1||i===0?Ca(E,1):Ca(E);let c,h,d,f,g=!1,m=!1;if(yr(t)?(h=()=>t.value,g=Xi(t)):ud(t)?(h=()=>u(t),g=!0):Ie(t)?(m=!0,g=t.some(E=>ud(E)||Xi(E)),h=()=>t.map(E=>{if(yr(E))return E.value;if(ud(E))return u(E);if(Fe(E))return l?l(E,2):E()})):Fe(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Kl();try{d()}finally{ql()}}const E=Xu;Xu=c;try{return l?l(t,3,[f]):t(f)}finally{Xu=E}}:h=Is,e&&i){const E=h,P=i===!0?1/0:i;h=()=>Ca(E(),P)}const p=kq(),y=()=>{c.stop(),p&&p.active&&wM(p.effects,c)};if(o&&e){const E=e;e=(...P)=>{E(...P),y()}}let b=m?new Array(t.length).fill(ov):ov;const T=E=>{if(!(!(c.flags&1)||!c.dirty&&!E))if(e){const P=c.run();if(i||g||(m?P.some((I,H)=>Ll(I,b[H])):Ll(P,b))){d&&d();const I=Xu;Xu=c;try{const H=[P,b===ov?void 0:m&&b[0]===ov?[]:b,f];l?l(e,3,H):e(...H),b=P}finally{Xu=I}}}else c.run()};return a&&a(T),c=new ZB(h),c.scheduler=s?()=>s(T,!1):T,f=E=>r4(E,!1,c),d=c.onStop=()=>{const E=zb.get(c);if(E){if(l)l(E,4);else for(const P of E)P();zb.delete(c)}},e?r?T(!0):b=c.run():s?s(T.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Ca(t,e=1/0,n){if(e<=0||!jt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,yr(t))Ca(t.value,e,n);else if(Ie(t))for(let r=0;r<t.length;r++)Ca(t[r],e,n);else if(Fd(t)||ld(t))t.forEach(r=>{Ca(r,e,n)});else if(YB(t)){for(const r in t)Ca(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ca(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yp(t,e,n,r){try{return r?t(...r):t()}catch(i){aC(i,e,n)}}function Ns(t,e,n,r){if(Fe(t)){const i=yp(t,e,n,r);return i&&UB(i)&&i.catch(o=>{aC(o,e,n)}),i}if(Ie(t)){const i=[];for(let o=0;o<t.length;o++)i.push(Ns(t[o],e,n,r));return i}}function aC(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Dt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(o){Kl(),yp(o,null,10,[t,l,u]),ql();return}}o4(t,n,i,r,s)}function o4(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const kr=[];let ms=-1;const hd=[];let pl=null,Fh=0;const mj=Promise.resolve();let Yb=null;function Cp(t){const e=Yb||mj;return t?e.then(this?t.bind(this):t):e}function s4(t){let e=ms+1,n=kr.length;for(;e<n;){const r=e+n>>>1,i=kr[r],o=Rm(i);o<t||o===t&&i.flags&2?e=r+1:n=r}return e}function OM(t){if(!(t.flags&1)){const e=Rm(t),n=kr[kr.length-1];!n||!(t.flags&2)&&e>=Rm(n)?kr.push(t):kr.splice(s4(e),0,t),t.flags|=1,pj()}}function pj(){Yb||(Yb=mj.then(wj))}function a4(t){Ie(t)?hd.push(...t):pl&&t.id===-1?pl.splice(Fh+1,0,t):t.flags&1||(hd.push(t),t.flags|=1),pj()}function hA(t,e,n=ms+1){for(;n<kr.length;n++){const r=kr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;kr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function vj(t){if(hd.length){const e=[...new Set(hd)].sort((n,r)=>Rm(n)-Rm(r));if(hd.length=0,pl){pl.push(...e);return}for(pl=e,Fh=0;Fh<pl.length;Fh++){const n=pl[Fh];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}pl=null,Fh=0}}const Rm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function wj(t){try{for(ms=0;ms<kr.length;ms++){const e=kr[ms];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),yp(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ms<kr.length;ms++){const e=kr[ms];e&&(e.flags&=-2)}ms=-1,kr.length=0,vj(),Yb=null,(kr.length||hd.length)&&wj()}}let qn=null,bj=null;function Gb(t){const e=qn;return qn=t,bj=t&&t.type.__scopeId||null,e}function Xh(t,e=qn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&CA(-1);const o=Gb(e);let s;try{s=t(...i)}finally{Gb(o),r._d&&CA(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Wg(t,e){if(qn===null)return t;const n=hC(qn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=Dt]=e[i];o&&(Fe(o)&&(o={mounted:o,updated:o}),o.deep&&Ca(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function ou(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Kl(),Ns(l,n,8,[t.el,a,t,e]),ql())}}const l4=Symbol("_vte"),u4=t=>t.__isTeleport;function IM(t,e){t.shapeFlag&6&&t.component?(t.transition=e,IM(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Vd(t,e){return Fe(t)?Sr({name:t.name},e,{setup:t}):t}function c4(){const t=Zx();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function yj(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Kb(t,e,n,r,i=!1){if(Ie(t)){t.forEach((g,m)=>Kb(g,e&&(Ie(e)?e[m]:e),n,r,i));return}if(dd(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Kb(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?hC(r.component):r.el,s=i?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Dt?a.refs={}:a.refs,h=a.setupState,d=dt(h),f=h===Dt?()=>!1:g=>Et(d,g);if(u!=null&&u!==l&&(En(u)?(c[u]=null,f(u)&&(h[u]=null)):yr(u)&&(u.value=null)),Fe(l))yp(l,a,12,[s,c]);else{const g=En(l),m=yr(l);if(g||m){const p=()=>{if(t.f){const y=g?f(l)?h[l]:c[l]:l.value;i?Ie(y)&&wM(y,o):Ie(y)?y.includes(o)||y.push(o):g?(c[l]=[o],f(l)&&(h[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else g?(c[l]=s,f(l)&&(h[l]=s)):m&&(l.value=s,t.k&&(c[t.k]=s))};s?(p.id=-1,mi(p,n)):p()}}}oC().requestIdleCallback;oC().cancelIdleCallback;const dd=t=>!!t.type.__asyncLoader,Cj=t=>t.type.__isKeepAlive;function h4(t,e){Sj(t,"a",e)}function d4(t,e){Sj(t,"da",e)}function Sj(t,e,n=ir){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(lC(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Cj(i.parent.vnode)&&f4(r,e,n,i),i=i.parent}}function f4(t,e,n,r){const i=lC(e,t,r,!0);_p(()=>{wM(r[e],i)},n)}function lC(t,e,n=ir,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{Kl();const a=Rp(n),l=Ns(e,n,t,s);return a(),ql(),l});return r?i.unshift(o):i.push(o),o}}const Ua=t=>(e,n=ir)=>{(!Tm||t==="sp")&&lC(t,(...r)=>e(...r),n)},g4=Ua("bm"),Sp=Ua("m"),m4=Ua("bu"),p4=Ua("u"),v4=Ua("bum"),_p=Ua("um"),w4=Ua("sp"),b4=Ua("rtg"),y4=Ua("rtc");function C4(t,e=ir){lC("ec",t,e)}const AM="components",S4="directives";function Ps(t,e){return HM(AM,t,!0,e)||t}const _j=Symbol.for("v-ndc");function _4(t){return En(t)?HM(AM,t,!1)||t:t||_j}function R4(t){return HM(S4,t)}function HM(t,e,n=!0,r=!1){const i=qn||ir;if(i){const o=i.type;if(t===AM){const a=c5(o,!1);if(a&&(a===e||a===Ji(e)||a===iC(Ji(e))))return o}const s=dA(i[t]||o[t],e)||dA(i.appContext[t],e);return!s&&r?o:s}}function dA(t,e){return t&&(t[e]||t[Ji(e)]||t[iC(Ji(e))])}function fd(t,e,n,r){let i;const o=n,s=Ie(t);if(s||En(t)){const a=s&&ud(t);let l=!1;a&&(l=!Xi(t),t=sC(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?pr(t[u]):t[u],u,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,o)}else if(jt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,o)}}else i=[];return i}function Zh(t,e,n={},r,i){if(qn.ce||qn.parent&&dd(qn.parent)&&qn.parent.ce)return e!=="default"&&(n.name=e),Ae(),pc(Yn,null,[qt("slot",n,r&&r())],64);let o=t[e];o&&o._c&&(o._d=!1),Ae();const s=o&&Rj(o(n)),a=n.key||s&&s.key,l=pc(Yn,{key:(a&&!No(a)?a:`_${e}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Rj(t){return t.some(e=>xm(e)?!(e.type===Ul||e.type===Yn&&!Rj(e.children)):!0)?t:null}const Gx=t=>t?zj(t)?hC(t):Gx(t.parent):null,Bg=Sr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gx(t.parent),$root:t=>Gx(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xj(t),$forceUpdate:t=>t.f||(t.f=()=>{OM(t.update)}),$nextTick:t=>t.n||(t.n=Cp.bind(t.proxy)),$watch:t=>z4.bind(t)}),ES=(t,e)=>t!==Dt&&!t.__isScriptSetup&&Et(t,e),E4={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(ES(r,e))return s[e]=1,r[e];if(i!==Dt&&Et(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&Et(u,e))return s[e]=3,o[e];if(n!==Dt&&Et(n,e))return s[e]=4,n[e];Kx&&(s[e]=0)}}const c=Bg[e];let h,d;if(c)return e==="$attrs"&&mr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Dt&&Et(n,e))return s[e]=4,n[e];if(d=l.config.globalProperties,Et(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return ES(i,e)?(i[e]=n,!0):r!==Dt&&Et(r,e)?(r[e]=n,!0):Et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==Dt&&Et(t,s)||ES(e,s)||(a=o[0])&&Et(a,s)||Et(r,s)||Et(Bg,s)||Et(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Et(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function fA(t){return Ie(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Kx=!0;function x4(t){const e=xj(t),n=t.proxy,r=t.ctx;Kx=!1,e.beforeCreate&&gA(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:m,deactivated:p,beforeDestroy:y,beforeUnmount:b,destroyed:T,unmounted:E,render:P,renderTracked:I,renderTriggered:H,errorCaptured:U,serverPrefetch:K,expose:j,inheritAttrs:q,components:Z,directives:ie,filters:ee}=e;if(u&&T4(u,r,null),s)for(const se in s){const ce=s[se];Fe(ce)&&(r[se]=ce.bind(n))}if(i){const se=i.call(n,n);jt(se)&&(t.data=wp(se))}if(Kx=!0,o)for(const se in o){const ce=o[se],He=Fe(ce)?ce.bind(n,n):Fe(ce.get)?ce.get.bind(n,n):Is,Ne=!Fe(ce)&&Fe(ce.set)?ce.set.bind(n):Is,Re=zi({get:He,set:Ne});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>Re.value,set:w=>Re.value=w})}if(a)for(const se in a)Ej(a[se],r,n,se);if(l){const se=Fe(l)?l.call(n):l;Reflect.ownKeys(se).forEach(ce=>{ub(ce,se[ce])})}c&&gA(c,t,"c");function pe(se,ce){Ie(ce)?ce.forEach(He=>se(He.bind(n))):ce&&se(ce.bind(n))}if(pe(g4,h),pe(Sp,d),pe(m4,f),pe(p4,g),pe(h4,m),pe(d4,p),pe(C4,U),pe(y4,I),pe(b4,H),pe(v4,b),pe(_p,E),pe(w4,K),Ie(j))if(j.length){const se=t.exposed||(t.exposed={});j.forEach(ce=>{Object.defineProperty(se,ce,{get:()=>n[ce],set:He=>n[ce]=He})})}else t.exposed||(t.exposed={});P&&t.render===Is&&(t.render=P),q!=null&&(t.inheritAttrs=q),Z&&(t.components=Z),ie&&(t.directives=ie),K&&yj(t)}function T4(t,e,n=Is){Ie(t)&&(t=qx(t));for(const r in t){const i=t[r];let o;jt(i)?"default"in i?o=ka(i.from||r,i.default,!0):o=ka(i.from||r):o=ka(i),yr(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function gA(t,e,n){Ns(Ie(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ej(t,e,n,r){let i=r.includes(".")?Vj(n,r):()=>n[r];if(En(t)){const o=e[t];Fe(o)&&Os(i,o)}else if(Fe(t))Os(i,t.bind(n));else if(jt(t))if(Ie(t))t.forEach(o=>Ej(o,e,n,r));else{const o=Fe(t.handler)?t.handler.bind(n):e[t.handler];Fe(o)&&Os(i,o,t)}}function xj(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>qb(l,u,s,!0)),qb(l,e,s)),jt(e)&&o.set(e,l),l}function qb(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&qb(t,o,n,!0),i&&i.forEach(s=>qb(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=M4[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const M4={data:mA,props:pA,emits:pA,methods:Cg,computed:Cg,beforeCreate:Mr,created:Mr,beforeMount:Mr,mounted:Mr,beforeUpdate:Mr,updated:Mr,beforeDestroy:Mr,beforeUnmount:Mr,destroyed:Mr,unmounted:Mr,activated:Mr,deactivated:Mr,errorCaptured:Mr,serverPrefetch:Mr,components:Cg,directives:Cg,watch:O4,provide:mA,inject:P4};function mA(t,e){return e?t?function(){return Sr(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function P4(t,e){return Cg(qx(t),qx(e))}function qx(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mr(t,e){return t?[...new Set([].concat(t,e))]:e}function Cg(t,e){return t?Sr(Object.create(null),t,e):e}function pA(t,e){return t?Ie(t)&&Ie(e)?[...new Set([...t,...e])]:Sr(Object.create(null),fA(t),fA(e??{})):e}function O4(t,e){if(!t)return e;if(!e)return t;const n=Sr(Object.create(null),t);for(const r in e)n[r]=Mr(t[r],e[r]);return n}function Tj(){return{app:null,config:{isNativeTag:Cq,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let I4=0;function A4(t,e){return function(r,i=null){Fe(r)||(r=Sr({},r)),i!=null&&!jt(i)&&(i=null);const o=Tj(),s=new WeakSet,a=[];let l=!1;const u=o.app={_uid:I4++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Gj,get config(){return o.config},set config(c){},use(c,...h){return s.has(c)||(c&&Fe(c.install)?(s.add(c),c.install(u,...h)):Fe(c)&&(s.add(c),c(u,...h))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,h){return h?(o.components[c]=h,u):o.components[c]},directive(c,h){return h?(o.directives[c]=h,u):o.directives[c]},mount(c,h,d){if(!l){const f=u._ceVNode||qt(r,i);return f.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),t(f,c,d),l=!0,u._container=c,c.__vue_app__=u,hC(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ns(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return o.provides[c]=h,u},runWithContext(c){const h=gd;gd=u;try{return c()}finally{gd=h}}};return u}}let gd=null;function ub(t,e){if(ir){let n=ir.provides;const r=ir.parent&&ir.parent.provides;r===n&&(n=ir.provides=Object.create(r)),n[t]=e}}function ka(t,e,n=!1){const r=ir||qn;if(r||gd){const i=gd?gd._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Fe(e)?e.call(r&&r.proxy):e}}const Mj={},Pj=()=>Object.create(Mj),Oj=t=>Object.getPrototypeOf(t)===Mj;function H4(t,e,n,r=!1){const i={},o=Pj();t.propsDefaults=Object.create(null),Ij(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:hj(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function k4(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=dt(i),[l]=t.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(uC(t.emitsOptions,d))continue;const f=e[d];if(l)if(Et(o,d))f!==o[d]&&(o[d]=f,u=!0);else{const g=Ji(d);i[g]=Xx(l,a,g,f,t,!1)}else f!==o[d]&&(o[d]=f,u=!0)}}}else{Ij(t,e,i,o)&&(u=!0);let c;for(const h in a)(!e||!Et(e,h)&&((c=$c(h))===h||!Et(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=Xx(l,a,h,void 0,t,!0)):delete i[h]);if(o!==a)for(const h in o)(!e||!Et(e,h))&&(delete o[h],u=!0)}u&&ya(t.attrs,"set","")}function Ij(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Lg(l))continue;const u=e[l];let c;i&&Et(i,c=Ji(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:uC(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=dt(n),u=a||Dt;for(let c=0;c<o.length;c++){const h=o[c];n[h]=Xx(i,l,h,u[h],t,!Et(u,h))}}return s}function Xx(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=Et(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Fe(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=Rp(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===$c(n))&&(r=!0))}return r}const N4=new WeakMap;function Aj(t,e,n=!1){const r=n?N4:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Fe(t)){const c=h=>{l=!0;const[d,f]=Aj(h,e,!0);Sr(s,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return jt(t)&&r.set(t,ad),ad;if(Ie(o))for(let c=0;c<o.length;c++){const h=Ji(o[c]);vA(h)&&(s[h]=Dt)}else if(o)for(const c in o){const h=Ji(c);if(vA(h)){const d=o[c],f=s[h]=Ie(d)||Fe(d)?{type:d}:Sr({},d),g=f.type;let m=!1,p=!0;if(Ie(g))for(let y=0;y<g.length;++y){const b=g[y],T=Fe(b)&&b.name;if(T==="Boolean"){m=!0;break}else T==="String"&&(p=!1)}else m=Fe(g)&&g.name==="Boolean";f[0]=m,f[1]=p,(m||Et(f,"default"))&&a.push(h)}}const u=[s,a];return jt(t)&&r.set(t,u),u}function vA(t){return t[0]!=="$"&&!Lg(t)}const Hj=t=>t[0]==="_"||t==="$stable",kM=t=>Ie(t)?t.map(_s):[_s(t)],D4=(t,e,n)=>{if(e._n)return e;const r=Xh((...i)=>kM(e(...i)),n);return r._c=!1,r},kj=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Hj(i))continue;const o=t[i];if(Fe(o))e[i]=D4(i,o,r);else if(o!=null){const s=kM(o);e[i]=()=>s}}},Nj=(t,e)=>{const n=kM(e);t.slots.default=()=>n},Dj=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},$4=(t,e,n)=>{const r=t.slots=Pj();if(t.vnode.shapeFlag&32){const i=e._;i?(Dj(r,e,n),n&&GB(r,"_",i,!0)):kj(e,r)}else e&&Nj(t,e)},L4=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Dt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Dj(i,e,n):(o=!e.$stable,kj(e,i)),s=e}else e&&(Nj(t,e),s={default:1});if(o)for(const a in i)!Hj(a)&&s[a]==null&&delete i[a]},mi=J4;function F4(t){return V4(t)}function V4(t,e){const n=oC();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:f=Is,insertStaticContent:g}=t,m=(v,_,x,A=null,D=null,O=null,N=void 0,L=null,$=!!_.dynamicChildren)=>{if(v===_)return;v&&!lf(v,_)&&(A=k(v),w(v,D,O,!0),v=null),_.patchFlag===-2&&($=!1,_.dynamicChildren=null);const{type:V,ref:J,shapeFlag:X}=_;switch(V){case cC:p(v,_,x,A);break;case Ul:y(v,_,x,A);break;case cb:v==null&&b(_,x,A,N);break;case Yn:Z(v,_,x,A,D,O,N,L,$);break;default:X&1?P(v,_,x,A,D,O,N,L,$):X&6?ie(v,_,x,A,D,O,N,L,$):(X&64||X&128)&&V.process(v,_,x,A,D,O,N,L,$,R)}J!=null&&D&&Kb(J,v&&v.ref,O,_||v,!_)},p=(v,_,x,A)=>{if(v==null)r(_.el=a(_.children),x,A);else{const D=_.el=v.el;_.children!==v.children&&u(D,_.children)}},y=(v,_,x,A)=>{v==null?r(_.el=l(_.children||""),x,A):_.el=v.el},b=(v,_,x,A)=>{[v.el,v.anchor]=g(v.children,_,x,A,v.el,v.anchor)},T=({el:v,anchor:_},x,A)=>{let D;for(;v&&v!==_;)D=d(v),r(v,x,A),v=D;r(_,x,A)},E=({el:v,anchor:_})=>{let x;for(;v&&v!==_;)x=d(v),i(v),v=x;i(_)},P=(v,_,x,A,D,O,N,L,$)=>{_.type==="svg"?N="svg":_.type==="math"&&(N="mathml"),v==null?I(_,x,A,D,O,N,L,$):K(v,_,D,O,N,L,$)},I=(v,_,x,A,D,O,N,L)=>{let $,V;const{props:J,shapeFlag:X,transition:oe,dirs:ue}=v;if($=v.el=s(v.type,O,J&&J.is,J),X&8?c($,v.children):X&16&&U(v.children,$,null,A,D,xS(v,O),N,L),ue&&ou(v,null,A,"created"),H($,v,v.scopeId,N,A),J){for(const ge in J)ge!=="value"&&!Lg(ge)&&o($,ge,null,J[ge],O,A);"value"in J&&o($,"value",null,J.value,O),(V=J.onVnodeBeforeMount)&&Go(V,A,v)}ue&&ou(v,null,A,"beforeMount");const me=W4(D,oe);me&&oe.beforeEnter($),r($,_,x),((V=J&&J.onVnodeMounted)||me||ue)&&mi(()=>{V&&Go(V,A,v),me&&oe.enter($),ue&&ou(v,null,A,"mounted")},D)},H=(v,_,x,A,D)=>{if(x&&f(v,x),A)for(let O=0;O<A.length;O++)f(v,A[O]);if(D){let O=D.subTree;if(_===O||Bj(O.type)&&(O.ssContent===_||O.ssFallback===_)){const N=D.vnode;H(v,N,N.scopeId,N.slotScopeIds,D.parent)}}},U=(v,_,x,A,D,O,N,L,$=0)=>{for(let V=$;V<v.length;V++){const J=v[V]=L?vl(v[V]):_s(v[V]);m(null,J,_,x,A,D,O,N,L)}},K=(v,_,x,A,D,O,N)=>{const L=_.el=v.el;let{patchFlag:$,dynamicChildren:V,dirs:J}=_;$|=v.patchFlag&16;const X=v.props||Dt,oe=_.props||Dt;let ue;if(x&&su(x,!1),(ue=oe.onVnodeBeforeUpdate)&&Go(ue,x,_,v),J&&ou(_,v,x,"beforeUpdate"),x&&su(x,!0),(X.innerHTML&&oe.innerHTML==null||X.textContent&&oe.textContent==null)&&c(L,""),V?j(v.dynamicChildren,V,L,x,A,xS(_,D),O):N||ce(v,_,L,null,x,A,xS(_,D),O,!1),$>0){if($&16)q(L,X,oe,x,D);else if($&2&&X.class!==oe.class&&o(L,"class",null,oe.class,D),$&4&&o(L,"style",X.style,oe.style,D),$&8){const me=_.dynamicProps;for(let ge=0;ge<me.length;ge++){const ve=me[ge],Ze=X[ve],Lt=oe[ve];(Lt!==Ze||ve==="value")&&o(L,ve,Ze,Lt,D,x)}}$&1&&v.children!==_.children&&c(L,_.children)}else!N&&V==null&&q(L,X,oe,x,D);((ue=oe.onVnodeUpdated)||J)&&mi(()=>{ue&&Go(ue,x,_,v),J&&ou(_,v,x,"updated")},A)},j=(v,_,x,A,D,O,N)=>{for(let L=0;L<_.length;L++){const $=v[L],V=_[L],J=$.el&&($.type===Yn||!lf($,V)||$.shapeFlag&70)?h($.el):x;m($,V,J,null,A,D,O,N,!0)}},q=(v,_,x,A,D)=>{if(_!==x){if(_!==Dt)for(const O in _)!Lg(O)&&!(O in x)&&o(v,O,_[O],null,D,A);for(const O in x){if(Lg(O))continue;const N=x[O],L=_[O];N!==L&&O!=="value"&&o(v,O,L,N,D,A)}"value"in x&&o(v,"value",_.value,x.value,D)}},Z=(v,_,x,A,D,O,N,L,$)=>{const V=_.el=v?v.el:a(""),J=_.anchor=v?v.anchor:a("");let{patchFlag:X,dynamicChildren:oe,slotScopeIds:ue}=_;ue&&(L=L?L.concat(ue):ue),v==null?(r(V,x,A),r(J,x,A),U(_.children||[],x,J,D,O,N,L,$)):X>0&&X&64&&oe&&v.dynamicChildren?(j(v.dynamicChildren,oe,x,D,O,N,L),(_.key!=null||D&&_===D.subTree)&&$j(v,_,!0)):ce(v,_,x,J,D,O,N,L,$)},ie=(v,_,x,A,D,O,N,L,$)=>{_.slotScopeIds=L,v==null?_.shapeFlag&512?D.ctx.activate(_,x,A,N,$):ee(_,x,A,D,O,N,$):re(v,_,$)},ee=(v,_,x,A,D,O,N)=>{const L=v.component=o5(v,A,D);if(Cj(v)&&(L.ctx.renderer=R),s5(L,!1,N),L.asyncDep){if(D&&D.registerDep(L,pe,N),!v.el){const $=L.subTree=qt(Ul);y(null,$,_,x)}}else pe(L,v,_,x,D,O,N)},re=(v,_,x)=>{const A=_.component=v.component;if(X4(v,_,x))if(A.asyncDep&&!A.asyncResolved){se(A,_,x);return}else A.next=_,A.update();else _.el=v.el,A.vnode=_},pe=(v,_,x,A,D,O,N)=>{const L=()=>{if(v.isMounted){let{next:X,bu:oe,u:ue,parent:me,vnode:ge}=v;{const nn=Lj(v);if(nn){X&&(X.el=ge.el,se(v,X,N)),nn.asyncDep.then(()=>{v.isUnmounted||L()});return}}let ve=X,Ze;su(v,!1),X?(X.el=ge.el,se(v,X,N)):X=ge,oe&&lb(oe),(Ze=X.props&&X.props.onVnodeBeforeUpdate)&&Go(Ze,me,X,ge),su(v,!0);const Lt=bA(v),Mn=v.subTree;v.subTree=Lt,m(Mn,Lt,h(Mn.el),k(Mn),v,D,O),X.el=Lt.el,ve===null&&Z4(v,Lt.el),ue&&mi(ue,D),(Ze=X.props&&X.props.onVnodeUpdated)&&mi(()=>Go(Ze,me,X,ge),D)}else{let X;const{el:oe,props:ue}=_,{bm:me,m:ge,parent:ve,root:Ze,type:Lt}=v,Mn=dd(_);su(v,!1),me&&lb(me),!Mn&&(X=ue&&ue.onVnodeBeforeMount)&&Go(X,ve,_),su(v,!0);{Ze.ce&&Ze.ce._injectChildStyle(Lt);const nn=v.subTree=bA(v);m(null,nn,x,A,v,D,O),_.el=nn.el}if(ge&&mi(ge,D),!Mn&&(X=ue&&ue.onVnodeMounted)){const nn=_;mi(()=>Go(X,ve,nn),D)}(_.shapeFlag&256||ve&&dd(ve.vnode)&&ve.vnode.shapeFlag&256)&&v.a&&mi(v.a,D),v.isMounted=!0,_=x=A=null}};v.scope.on();const $=v.effect=new ZB(L);v.scope.off();const V=v.update=$.run.bind($),J=v.job=$.runIfDirty.bind($);J.i=v,J.id=v.uid,$.scheduler=()=>OM(J),su(v,!0),V()},se=(v,_,x)=>{_.component=v;const A=v.vnode.props;v.vnode=_,v.next=null,k4(v,_.props,A,x),L4(v,_.children,x),Kl(),hA(v),ql()},ce=(v,_,x,A,D,O,N,L,$=!1)=>{const V=v&&v.children,J=v?v.shapeFlag:0,X=_.children,{patchFlag:oe,shapeFlag:ue}=_;if(oe>0){if(oe&128){Ne(V,X,x,A,D,O,N,L,$);return}else if(oe&256){He(V,X,x,A,D,O,N,L,$);return}}ue&8?(J&16&&B(V,D,O),X!==V&&c(x,X)):J&16?ue&16?Ne(V,X,x,A,D,O,N,L,$):B(V,D,O,!0):(J&8&&c(x,""),ue&16&&U(X,x,A,D,O,N,L,$))},He=(v,_,x,A,D,O,N,L,$)=>{v=v||ad,_=_||ad;const V=v.length,J=_.length,X=Math.min(V,J);let oe;for(oe=0;oe<X;oe++){const ue=_[oe]=$?vl(_[oe]):_s(_[oe]);m(v[oe],ue,x,null,D,O,N,L,$)}V>J?B(v,D,O,!0,!1,X):U(_,x,A,D,O,N,L,$,X)},Ne=(v,_,x,A,D,O,N,L,$)=>{let V=0;const J=_.length;let X=v.length-1,oe=J-1;for(;V<=X&&V<=oe;){const ue=v[V],me=_[V]=$?vl(_[V]):_s(_[V]);if(lf(ue,me))m(ue,me,x,null,D,O,N,L,$);else break;V++}for(;V<=X&&V<=oe;){const ue=v[X],me=_[oe]=$?vl(_[oe]):_s(_[oe]);if(lf(ue,me))m(ue,me,x,null,D,O,N,L,$);else break;X--,oe--}if(V>X){if(V<=oe){const ue=oe+1,me=ue<J?_[ue].el:A;for(;V<=oe;)m(null,_[V]=$?vl(_[V]):_s(_[V]),x,me,D,O,N,L,$),V++}}else if(V>oe)for(;V<=X;)w(v[V],D,O,!0),V++;else{const ue=V,me=V,ge=new Map;for(V=me;V<=oe;V++){const je=_[V]=$?vl(_[V]):_s(_[V]);je.key!=null&&ge.set(je.key,V)}let ve,Ze=0;const Lt=oe-me+1;let Mn=!1,nn=0;const vt=new Array(Lt);for(V=0;V<Lt;V++)vt[V]=0;for(V=ue;V<=X;V++){const je=v[V];if(Ze>=Lt){w(je,D,O,!0);continue}let et;if(je.key!=null)et=ge.get(je.key);else for(ve=me;ve<=oe;ve++)if(vt[ve-me]===0&&lf(je,_[ve])){et=ve;break}et===void 0?w(je,D,O,!0):(vt[et-me]=V+1,et>=nn?nn=et:Mn=!0,m(je,_[et],x,null,D,O,N,L,$),Ze++)}const rn=Mn?B4(vt):ad;for(ve=rn.length-1,V=Lt-1;V>=0;V--){const je=me+V,et=_[je],Ue=je+1<J?_[je+1].el:A;vt[V]===0?m(null,et,x,Ue,D,O,N,L,$):Mn&&(ve<0||V!==rn[ve]?Re(et,x,Ue,2):ve--)}}},Re=(v,_,x,A,D=null)=>{const{el:O,type:N,transition:L,children:$,shapeFlag:V}=v;if(V&6){Re(v.component.subTree,_,x,A);return}if(V&128){v.suspense.move(_,x,A);return}if(V&64){N.move(v,_,x,R);return}if(N===Yn){r(O,_,x);for(let X=0;X<$.length;X++)Re($[X],_,x,A);r(v.anchor,_,x);return}if(N===cb){T(v,_,x);return}if(A!==2&&V&1&&L)if(A===0)L.beforeEnter(O),r(O,_,x),mi(()=>L.enter(O),D);else{const{leave:X,delayLeave:oe,afterLeave:ue}=L,me=()=>r(O,_,x),ge=()=>{X(O,()=>{me(),ue&&ue()})};oe?oe(O,me,ge):ge()}else r(O,_,x)},w=(v,_,x,A=!1,D=!1)=>{const{type:O,props:N,ref:L,children:$,dynamicChildren:V,shapeFlag:J,patchFlag:X,dirs:oe,cacheIndex:ue}=v;if(X===-2&&(D=!1),L!=null&&Kb(L,null,x,v,!0),ue!=null&&(_.renderCache[ue]=void 0),J&256){_.ctx.deactivate(v);return}const me=J&1&&oe,ge=!dd(v);let ve;if(ge&&(ve=N&&N.onVnodeBeforeUnmount)&&Go(ve,_,v),J&6)F(v.component,x,A);else{if(J&128){v.suspense.unmount(x,A);return}me&&ou(v,null,_,"beforeUnmount"),J&64?v.type.remove(v,_,x,R,A):V&&!V.hasOnce&&(O!==Yn||X>0&&X&64)?B(V,_,x,!1,!0):(O===Yn&&X&384||!D&&J&16)&&B($,_,x),A&&S(v)}(ge&&(ve=N&&N.onVnodeUnmounted)||me)&&mi(()=>{ve&&Go(ve,_,v),me&&ou(v,null,_,"unmounted")},x)},S=v=>{const{type:_,el:x,anchor:A,transition:D}=v;if(_===Yn){C(x,A);return}if(_===cb){E(v);return}const O=()=>{i(x),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(v.shapeFlag&1&&D&&!D.persisted){const{leave:N,delayLeave:L}=D,$=()=>N(x,O);L?L(v.el,O,$):$()}else O()},C=(v,_)=>{let x;for(;v!==_;)x=d(v),i(v),v=x;i(_)},F=(v,_,x)=>{const{bum:A,scope:D,job:O,subTree:N,um:L,m:$,a:V}=v;wA($),wA(V),A&&lb(A),D.stop(),O&&(O.flags|=8,w(N,v,_,x)),L&&mi(L,_),mi(()=>{v.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},B=(v,_,x,A=!1,D=!1,O=0)=>{for(let N=O;N<v.length;N++)w(v[N],_,x,A,D)},k=v=>{if(v.shapeFlag&6)return k(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const _=d(v.anchor||v.el),x=_&&_[l4];return x?d(x):_};let Y=!1;const G=(v,_,x)=>{v==null?_._vnode&&w(_._vnode,null,null,!0):m(_._vnode||null,v,_,null,null,null,x),_._vnode=v,Y||(Y=!0,hA(),vj(),Y=!1)},R={p:m,um:w,m:Re,r:S,mt:ee,mc:U,pc:ce,pbc:j,n:k,o:t};return{render:G,hydrate:void 0,createApp:A4(G)}}function xS({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function su({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function W4(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $j(t,e,n=!1){const r=t.children,i=e.children;if(Ie(r)&&Ie(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=vl(i[o]),a.el=s.el),!n&&a.patchFlag!==-2&&$j(s,a)),a.type===cC&&(a.el=s.el)}}function B4(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function Lj(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Lj(e)}function wA(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const j4=Symbol.for("v-scx"),U4=()=>ka(j4);function Os(t,e,n){return Fj(t,e,n)}function Fj(t,e,n=Dt){const{immediate:r,deep:i,flush:o,once:s}=n,a=Sr({},n),l=e&&r||!e&&o!=="post";let u;if(Tm){if(o==="sync"){const f=U4();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Is,f.resume=Is,f.pause=Is,f}}const c=ir;a.call=(f,g,m)=>Ns(f,c,g,m);let h=!1;o==="post"?a.scheduler=f=>{mi(f,c&&c.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():OM(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const d=i4(t,e,a);return Tm&&(u?u.push(d):l&&d()),d}function z4(t,e,n){const r=this.proxy,i=En(t)?t.includes(".")?Vj(r,t):()=>r[t]:t.bind(r,r);let o;Fe(e)?o=e:(o=e.handler,n=e);const s=Rp(this),a=Fj(i,o.bind(r),n);return s(),a}function Vj(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Y4=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ji(e)}Modifiers`]||t[`${$c(e)}Modifiers`];function G4(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Dt;let i=n;const o=e.startsWith("update:"),s=o&&Y4(r,e.slice(7));s&&(s.trim&&(i=n.map(c=>En(c)?c.trim():c)),s.number&&(i=n.map(Ub)));let a,l=r[a=yS(e)]||r[a=yS(Ji(e))];!l&&o&&(l=r[a=yS($c(e))]),l&&Ns(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ns(u,t,6,i)}}function Wj(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Fe(t)){const l=u=>{const c=Wj(u,e,!0);c&&(a=!0,Sr(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(jt(t)&&r.set(t,null),null):(Ie(o)?o.forEach(l=>s[l]=null):Sr(s,o),jt(t)&&r.set(t,s),s)}function uC(t,e){return!t||!nC(e)?!1:(e=e.slice(2).replace(/Once$/,""),Et(t,e[0].toLowerCase()+e.slice(1))||Et(t,$c(e))||Et(t,e))}function bA(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:f,ctx:g,inheritAttrs:m}=t,p=Gb(t);let y,b;try{if(n.shapeFlag&4){const E=i||r,P=E;y=_s(u.call(P,E,c,h,f,d,g)),b=a}else{const E=e;y=_s(E.length>1?E(h,{attrs:a,slots:s,emit:l}):E(h,null)),b=e.props?a:K4(a)}}catch(E){jg.length=0,aC(E,t,1),y=qt(Ul)}let T=y;if(b&&m!==!1){const E=Object.keys(b),{shapeFlag:P}=T;E.length&&P&7&&(o&&E.some(vM)&&(b=q4(b,o)),T=Ed(T,b,!1,!0))}return n.dirs&&(T=Ed(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&IM(T,n.transition),y=T,Gb(p),y}const K4=t=>{let e;for(const n in t)(n==="class"||n==="style"||nC(n))&&((e||(e={}))[n]=t[n]);return e},q4=(t,e)=>{const n={};for(const r in t)(!vM(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function X4(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?yA(r,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(s[d]!==r[d]&&!uC(u,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?yA(r,s,u):!0:!!s;return!1}function yA(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!uC(n,o))return!0}return!1}function Z4({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Bj=t=>t.__isSuspense;function J4(t,e){e&&e.pendingBranch?Ie(t)?e.effects.push(...t):e.effects.push(t):a4(t)}const Yn=Symbol.for("v-fgt"),cC=Symbol.for("v-txt"),Ul=Symbol.for("v-cmt"),cb=Symbol.for("v-stc"),jg=[];let Ri=null;function Ae(t=!1){jg.push(Ri=t?null:[])}function Q4(){jg.pop(),Ri=jg[jg.length-1]||null}let Em=1;function CA(t,e=!1){Em+=t,t<0&&Ri&&e&&(Ri.hasOnce=!0)}function jj(t){return t.dynamicChildren=Em>0?Ri||ad:null,Q4(),Em>0&&Ri&&Ri.push(t),t}function Ve(t,e,n,r,i,o){return jj(te(t,e,n,r,i,o,!0))}function pc(t,e,n,r,i){return jj(qt(t,e,n,r,i,!0))}function xm(t){return t?t.__v_isVNode===!0:!1}function lf(t,e){return t.type===e.type&&t.key===e.key}const Uj=({key:t})=>t??null,hb=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?En(t)||yr(t)||Fe(t)?{i:qn,r:t,k:e,f:!!n}:t:null);function te(t,e=null,n=null,r=0,i=null,o=t===Yn?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Uj(e),ref:e&&hb(e),scopeId:bj,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qn};return a?(NM(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=En(n)?8:16),Em>0&&!s&&Ri&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ri.push(l),l}const qt=e5;function e5(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===_j)&&(t=Ul),xm(t)){const a=Ed(t,e,!0);return n&&NM(a,n),Em>0&&!o&&Ri&&(a.shapeFlag&6?Ri[Ri.indexOf(t)]=a:Ri.push(a)),a.patchFlag=-2,a}if(h5(t)&&(t=t.__vccOpts),e){e=t5(e);let{class:a,style:l}=e;a&&!En(a)&&(e.class=Sc(a)),jt(l)&&(bp(l)&&!Ie(l)&&(l=Sr({},l)),e.style=yM(l))}const s=En(t)?1:Bj(t)?128:u4(t)?64:jt(t)?4:Fe(t)?2:0;return te(t,e,n,r,i,s,o,!0)}function t5(t){return t?bp(t)||Oj(t)?Sr({},t):t:null}function Ed(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=t,u=e?rr(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Uj(u),ref:e&&e.ref?n&&o?Ie(o)?o.concat(hb(e)):[o,hb(e)]:hb(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Yn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ed(t.ssContent),ssFallback:t.ssFallback&&Ed(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&IM(c,l.clone(c)),c}function Jh(t=" ",e=0){return qt(cC,null,t,e)}function n5(t,e){const n=qt(cb,null,t);return n.staticCount=e,n}function Rc(t="",e=!1){return e?(Ae(),pc(Ul,null,t)):qt(Ul,null,t)}function _s(t){return t==null||typeof t=="boolean"?qt(Ul):Ie(t)?qt(Yn,null,t.slice()):xm(t)?vl(t):qt(cC,null,String(t))}function vl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ed(t)}function NM(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ie(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),NM(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Oj(e)?e._ctx=qn:i===3&&qn&&(qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:qn},n=32):(e=String(e),r&64?(n=16,e=[Jh(e)]):n=8);t.children=e,t.shapeFlag|=n}function rr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Sc([e.class,r.class]));else if(i==="style")e.style=yM([e.style,r.style]);else if(nC(i)){const o=e[i],s=r[i];s&&o!==s&&!(Ie(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Go(t,e,n,r=null){Ns(t,e,7,[n,r])}const r5=Tj();let i5=0;function o5(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||r5,o={uid:i5++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Aj(r,i),emitsOptions:Wj(r,i),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:r.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=G4.bind(null,o),t.ce&&t.ce(o),o}let ir=null;const Zx=()=>ir||qn;let Xb,Jx;{const t=oC(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Xb=e("__VUE_INSTANCE_SETTERS__",n=>ir=n),Jx=e("__VUE_SSR_SETTERS__",n=>Tm=n)}const Rp=t=>{const e=ir;return Xb(t),t.scope.on(),()=>{t.scope.off(),Xb(e)}},SA=()=>{ir&&ir.scope.off(),Xb(null)};function zj(t){return t.vnode.shapeFlag&4}let Tm=!1;function s5(t,e=!1,n=!1){e&&Jx(e);const{props:r,children:i}=t.vnode,o=zj(t);H4(t,r,o,e),$4(t,i,n);const s=o?a5(t,e):void 0;return e&&Jx(!1),s}function a5(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,E4);const{setup:r}=n;if(r){Kl();const i=t.setupContext=r.length>1?u5(t):null,o=Rp(t),s=yp(r,t,0,[t.props,i]),a=UB(s);if(ql(),o(),(a||t.sp)&&!dd(t)&&yj(t),a){if(s.then(SA,SA),e)return s.then(l=>{_A(t,l)}).catch(l=>{aC(l,t,0)});t.asyncDep=s}else _A(t,s)}else Yj(t)}function _A(t,e,n){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:jt(e)&&(t.setupState=gj(e)),Yj(t)}function Yj(t,e,n){const r=t.type;t.render||(t.render=r.render||Is);{const i=Rp(t);Kl();try{x4(t)}finally{ql(),i()}}}const l5={get(t,e){return mr(t,"get",""),t[e]}};function u5(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,l5),slots:t.slots,emit:t.emit,expose:e}}function hC(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(gj(dj(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bg)return Bg[n](t)},has(e,n){return n in e||n in Bg}})):t.proxy}function c5(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}function h5(t){return Fe(t)&&"__vccOpts"in t}const zi=(t,e)=>n4(t,e,Tm);function Mm(t,e,n){const r=arguments.length;return r===2?jt(e)&&!Ie(e)?xm(e)?qt(t,null,[e]):qt(t,e):qt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&xm(n)&&(n=[n]),qt(t,e,n))}const Gj="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qx;const RA=typeof window<"u"&&window.trustedTypes;if(RA)try{Qx=RA.createPolicy("vue",{createHTML:t=>t})}catch{}const Kj=Qx?t=>Qx.createHTML(t):t=>t,d5="http://www.w3.org/2000/svg",f5="http://www.w3.org/1998/Math/MathML",ga=typeof document<"u"?document:null,EA=ga&&ga.createElement("template"),g5={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ga.createElementNS(d5,t):e==="mathml"?ga.createElementNS(f5,t):n?ga.createElement(t,{is:n}):ga.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ga.createTextNode(t),createComment:t=>ga.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ga.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{EA.innerHTML=Kj(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=EA.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},m5=Symbol("_vtc");function p5(t,e,n){const r=t[m5];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xA=Symbol("_vod"),v5=Symbol("_vsh"),w5=Symbol(""),b5=/(^|;)\s*display\s*:/;function y5(t,e,n){const r=t.style,i=En(n);let o=!1;if(n&&!i){if(e)if(En(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&db(r,a,"")}else for(const s in e)n[s]==null&&db(r,s,"");for(const s in n)s==="display"&&(o=!0),db(r,s,n[s])}else if(i){if(e!==n){const s=r[w5];s&&(n+=";"+s),r.cssText=n,o=b5.test(n)}}else e&&t.removeAttribute("style");xA in t&&(t[xA]=o?r.display:"",t[v5]&&(r.display="none"))}const TA=/\s*!important$/;function db(t,e,n){if(Ie(n))n.forEach(r=>db(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=C5(t,e);TA.test(n)?t.setProperty($c(r),n.replace(TA,""),"important"):t[r]=n}}const MA=["Webkit","Moz","ms"],TS={};function C5(t,e){const n=TS[e];if(n)return n;let r=Ji(e);if(r!=="filter"&&r in t)return TS[e]=r;r=iC(r);for(let i=0;i<MA.length;i++){const o=MA[i]+r;if(o in t)return TS[e]=o}return e}const PA="http://www.w3.org/1999/xlink";function OA(t,e,n,r,i,o=Iq(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(PA,e.slice(6,e.length)):t.setAttributeNS(PA,e,n):n==null||o&&!KB(n)?t.removeAttribute(e):t.setAttribute(e,o?"":No(n)?String(n):n)}function IA(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Kj(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=KB(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(i||e)}function El(t,e,n,r){t.addEventListener(e,n,r)}function S5(t,e,n,r){t.removeEventListener(e,n,r)}const AA=Symbol("_vei");function _5(t,e,n,r,i=null){const o=t[AA]||(t[AA]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=R5(e);if(r){const u=o[e]=T5(r,i);El(t,a,u,l)}else s&&(S5(t,a,s,l),o[e]=void 0)}}const HA=/(?:Once|Passive|Capture)$/;function R5(t){let e;if(HA.test(t)){e={};let r;for(;r=t.match(HA);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$c(t.slice(2)),e]}let MS=0;const E5=Promise.resolve(),x5=()=>MS||(E5.then(()=>MS=0),MS=Date.now());function T5(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ns(M5(r,n.value),e,5,[r])};return n.value=t,n.attached=x5(),n}function M5(t,e){if(Ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const kA=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,P5=(t,e,n,r,i,o)=>{const s=i==="svg";e==="class"?p5(t,r,s):e==="style"?y5(t,n,r):nC(e)?vM(e)||_5(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):O5(t,e,r,s))?(IA(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&OA(t,e,r,s,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!En(r))?IA(t,Ji(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),OA(t,e,r,s))};function O5(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&kA(e)&&Fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return kA(e)&&En(n)?!1:e in t}const xd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ie(e)?n=>lb(e,n):e};function I5(t){t.target.composing=!0}function NA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Na=Symbol("_assign"),qj={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Na]=xd(i);const o=r||i.props&&i.props.type==="number";El(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Ub(a)),t[Na](a)}),n&&El(t,"change",()=>{t.value=t.value.trim()}),e||(El(t,"compositionstart",I5),El(t,"compositionend",NA),El(t,"change",NA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(t[Na]=xd(s),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?Ub(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},A5={deep:!0,created(t,e,n){t[Na]=xd(n),El(t,"change",()=>{const r=t._modelValue,i=Pm(t),o=t.checked,s=t[Na];if(Ie(r)){const a=CM(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(Fd(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Xj(t,o))})},mounted:DA,beforeUpdate(t,e,n){t[Na]=xd(n),DA(t,e,n)}};function DA(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(Ie(e))i=CM(e,r.props.value)>-1;else if(Fd(e))i=e.has(r.props.value);else{if(e===n)return;i=vp(e,Xj(t,!0))}t.checked!==i&&(t.checked=i)}const H5={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Fd(e);El(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?Ub(Pm(s)):Pm(s));t[Na](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Cp(()=>{t._assigning=!1})}),t[Na]=xd(r)},mounted(t,{value:e}){$A(t,e)},beforeUpdate(t,e,n){t[Na]=xd(n)},updated(t,{value:e}){t._assigning||$A(t,e)}};function $A(t,e){const n=t.multiple,r=Ie(e);if(!(n&&!r&&!Fd(e))){for(let i=0,o=t.options.length;i<o;i++){const s=t.options[i],a=Pm(s);if(n)if(r){const l=typeof a;l==="string"||l==="number"?s.selected=e.some(u=>String(u)===String(a)):s.selected=CM(e,a)>-1}else s.selected=e.has(a);else if(vp(Pm(s),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Pm(t){return"_value"in t?t._value:t.value}function Xj(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const k5=["ctrl","shift","alt","meta"],N5={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>k5.some(n=>t[`${n}Key`]&&!e.includes(n))},Zj=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const a=N5[e[s]];if(a&&a(i,e))return}return t(i,...o)})},D5=Sr({patchProp:P5},g5);let LA;function $5(){return LA||(LA=F4(D5))}const L5=(...t)=>{const e=$5().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=V5(r);if(!i)return;const o=e._component;!Fe(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,F5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function F5(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function V5(t){return En(t)?document.querySelector(t):t}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){W5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W5(t,e,n){return(e=B5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B5(t){var e=j5(t,"string");return Om(e)=="symbol"?e:e+""}function j5(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Zx()&&Zx().components?Sp(t):e?t():Cp(t)}var z5=0;function Y5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ha(!1),r=Ha(t),i=Ha(null),o=Q3()?window.document:void 0,s=e.document,a=s===void 0?o:s,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,d=e.name,f=d===void 0?"style_".concat(++z5):d,g=e.id,m=g===void 0?void 0:g,p=e.media,y=p===void 0?void 0:p,b=e.nonce,T=b===void 0?void 0:b,E=e.first,P=E===void 0?!1:E,I=e.onMounted,H=I===void 0?void 0:I,U=e.onUpdated,K=U===void 0?void 0:U,j=e.onLoad,q=j===void 0?void 0:j,Z=e.props,ie=Z===void 0?{}:Z,ee=function(){},re=function(ce){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var Ne=VA(VA({},ie),He),Re=Ne.name||f,w=Ne.id||m,S=Ne.nonce||T;i.value=a.querySelector('style[data-primevue-style-id="'.concat(Re,'"]'))||a.getElementById(w)||a.createElement("style"),i.value.isConnected||(r.value=ce||t,Bb(i.value,{type:"text/css",id:w,media:y,nonce:S}),P?a.head.prepend(i.value):a.head.appendChild(i.value),eq(i.value,"data-primevue-style-id",Re),Bb(i.value,Ne),i.value.onload=function(C){return q==null?void 0:q(C,{name:Re})},H==null||H(Re)),!n.value&&(ee=Os(r,function(C){i.value.textContent=C,K==null||K(Re)},{immediate:!0}),n.value=!0)}},pe=function(){!a||!n.value||(ee(),G3(i.value)&&a.head.removeChild(i.value),n.value=!1,i.value=null)};return u&&!h&&U5(re),{id:m,name:f,el:i,css:r,unload:pe,load:re,isLoaded:TM(n)}}function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function WA(t,e){return X5(t)||q5(t,e)||K5(t,e)||G5()}function G5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5(t,e){if(t){if(typeof t=="string")return BA(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BA(t,e):void 0}}function BA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function q5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function X5(t){if(Array.isArray(t))return t}function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(n),!0).forEach(function(r){Z5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z5(t,e,n){return(e=J5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J5(t){var e=Q5(t,"string");return Im(e)=="symbol"?e:e+""}function Q5(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e6=function(e){var n=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(n("scrollbar.width"),`;
}
`)},t6={},n6={},Kt={name:"base",css:e6,style:yq,classes:t6,inlineStyles:n6,load:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(o){return o},i=r(Gi(e,{dt:$g}));return kt(i)?Y5(Dg(i),PS({name:this.name},n)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadStyle:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.style,n,function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return At.transformCSS(n.name||e.name,"".concat(i).concat(r))})},getCommonTheme:function(e){return At.getCommon(this.name,e)},getComponentTheme:function(e){return At.getComponent(this.name,e)},getDirectiveTheme:function(e){return At.getDirective(this.name,e)},getPresetTheme:function(e,n,r){return At.getCustomPreset(this.name,e,n,r)},getLayerOrderThemeCSS:function(){return At.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Gi(this.css,{dt:$g})||"",i=Dg("".concat(r).concat(e)),o=Object.entries(n).reduce(function(s,a){var l=WA(a,2),u=l[0],c=l[1];return s.push("".concat(u,'="').concat(c,'"'))&&s},[]).join(" ");return kt(i)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(o,">").concat(i,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return At.getCommonStyleSheet(this.name,e,n)},getThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[At.getStyleSheet(this.name,e,n)];if(this.style){var i=this.name==="base"?"global-style":"".concat(this.name,"-style"),o=Gi(this.style,{dt:$g}),s=Dg(At.transformCSS(i,o)),a=Object.entries(n).reduce(function(l,u){var c=WA(u,2),h=c[0],d=c[1];return l.push("".concat(h,'="').concat(d,'"'))&&l},[]).join(" ");kt(s)&&r.push('<style type="text/css" data-primevue-style-id="'.concat(i,'" ').concat(a,">").concat(s,"</style>"))}return r.join("")},extend:function(e){return PS(PS({},this),{},{css:void 0,style:void 0},e)}};function r6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pc",e=c4();return"".concat(t).concat(e.replace("v-","").replaceAll("-","_"))}var UA=Kt.extend({name:"common"});function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function i6(t){return e2(t)||o6(t)||Qj(t)||Jj()}function o6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uf(t,e){return e2(t)||s6(t,e)||Qj(t,e)||Jj()}function Jj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qj(t,e){if(t){if(typeof t=="string")return zA(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zA(t,e):void 0}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function e2(t){if(Array.isArray(t))return t}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){Sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sg(t,e,n){return(e=a6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6(t){var e=l6(t,"string");return Am(e)=="symbol"?e:e+""}function l6(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dC={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){nr.off("theme:change",this._loadCoreStyles),e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e,n){var r=this;nr.off("theme:change",this._themeScopedListener),e?(this._loadScopedThemeStyles(e),this._themeScopedListener=function(){return r._loadScopedThemeStyles(e)},this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,uid:void 0,$attrSelector:void 0,beforeCreate:function(){var e,n,r,i,o,s,a,l,u,c,h,d=(e=this.pt)===null||e===void 0?void 0:e._usept,f=d?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=d?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||f)===null||i===void 0||(i=i.hooks)===null||i===void 0||(o=i.onBeforeCreate)===null||o===void 0||o.call(i);var m=(s=this.$primevueConfig)===null||s===void 0||(s=s.pt)===null||s===void 0?void 0:s._usept,p=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,y=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=y||p)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c),this.$attrSelector=r6(),this.uid=this.$attrs.id||this.$attrSelector.replace("pc","pv_id_")},created:function(){this._hook("onCreated")},beforeMount:function(){var e;this.rootEl=q3(mp(this.$el)?this.$el:(e=this.$el)===null||e===void 0?void 0:e.parentElement,"[".concat(this.$attrSelector,"]")),this.rootEl&&(this.rootEl.$pc=tt({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return gM(e)?e.apply(void 0,r):rr.apply(void 0,r)},_load:function(){Rl.isStyleNameLoaded("base")||(Kt.loadCSS(this.$styleOptions),this._loadGlobalStyles(),Rl.setLoadedStyleName("base")),this._loadThemeStyles()},_loadStyles:function(){this._load(),this._themeChangeListener(this._load)},_loadCoreStyles:function(){var e,n;!Rl.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name&&(UA.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),Rl.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);kt(e)&&Kt.load(e,tt({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,n;if(!(this.isUnstyled||this.$theme==="none")){if(!At.isStyleNameLoaded("common")){var r,i,o=((r=this.$style)===null||r===void 0||(i=r.getCommonTheme)===null||i===void 0?void 0:i.call(r))||{},s=o.primitive,a=o.semantic,l=o.global,u=o.style;Kt.load(s==null?void 0:s.css,tt({name:"primitive-variables"},this.$styleOptions)),Kt.load(a==null?void 0:a.css,tt({name:"semantic-variables"},this.$styleOptions)),Kt.load(l==null?void 0:l.css,tt({name:"global-variables"},this.$styleOptions)),Kt.loadStyle(tt({name:"global-style"},this.$styleOptions),u),At.setLoadedStyleName("common")}if(!At.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name){var c,h,d,f,g=((c=this.$style)===null||c===void 0||(h=c.getComponentTheme)===null||h===void 0?void 0:h.call(c))||{},m=g.css,p=g.style;(d=this.$style)===null||d===void 0||d.load(m,tt({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(f=this.$style)===null||f===void 0||f.loadStyle(tt({name:"".concat(this.$style.name,"-style")},this.$styleOptions),p),At.setLoadedStyleName(this.$style.name)}if(!At.isStyleNameLoaded("layer-order")){var y,b,T=(y=this.$style)===null||y===void 0||(b=y.getLayerOrderThemeCSS)===null||b===void 0?void 0:b.call(y);Kt.load(T,tt({name:"layer-order",first:!0},this.$styleOptions)),At.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var n,r,i,o=((n=this.$style)===null||n===void 0||(r=n.getPresetTheme)===null||r===void 0?void 0:r.call(n,e,"[".concat(this.$attrSelector,"]")))||{},s=o.css,a=(i=this.$style)===null||i===void 0?void 0:i.load(s,tt({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=a.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Rl.clearLoadedStyleNames(),nr.on("theme:change",e)},_removeThemeListeners:function(){nr.off("theme:change",this._loadCoreStyles),nr.off("theme:change",this._load),nr.off("theme:change",this._themeScopedListener)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return mM(e,n,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,d=o?s?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,f=s?void 0:this._getPTSelf(n,this._getPTClassValue,r,tt(tt({},i),{},{global:d||{}})),g=this._getPTDatasets(r);return u||!u&&f?h?this._mergeProps(h,d,f,g):tt(tt(tt({},d),f),g):tt(tt({},f),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return rr(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",o=r==="root"&&kt((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&tt(tt({},r==="root"&&tt(tt(Sg({},"".concat(i,"name"),Rs(o?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),o&&Sg({},"".concat(i,"extend"),Rs(this.$.type.name))),{},Sg({},"".concat(this.$attrSelector),""))),{},Sg({},"".concat(i,"section"),Rs(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return si(e)||tC(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,o=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=Rs(r),d=Rs(n.$name);return(l=u?h!==d?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:o(e.originalValue),value:o(e.value)}:o(e,!0)},_usePT:function(e,n,r,i){var o=function(m){return n(m,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var s,a=e._usept||((s=this.$primevueConfig)===null||s===void 0?void 0:s.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,d=o(e.originalValue),f=o(e.value);return d===void 0&&f===void 0?void 0:si(f)?f:si(d)?d:u||!u&&f?h?this._mergeProps(h,d,f):tt(tt({},d),f):f}return o(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,tt(tt({},this.$params),n))},ptmi:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=rr(this.$_attrsWithoutPT,this.ptm(n,r));return i!=null&&i.hasOwnProperty("id")&&((e=i.id)!==null&&e!==void 0||(i.id=this.$id)),i},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,tt({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,tt(tt({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,tt(tt({},this.$params),r)),o=this._getOptionValue(UA.inlineStyles,e,tt(tt({},this.$params),r));return[o,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return Gi(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,tt({},n.$params))||Gi(r,tt({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$id:function(){return this.$attrs.id||this.uid},$inProps:function(){var e,n=Object.keys(((e=this.$.vnode)===null||e===void 0?void 0:e.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(r){var i=uf(r,1),o=i[0];return n==null?void 0:n.includes(o)}))},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return tt(tt({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=uf(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=uf(n,2),i=r[0],o=r[1],s=i.split(":"),a=i6(s),l=a.slice(1);return l==null||l.reduce(function(u,c,h,d){return!u[c]&&(u[c]=h===d.length-1?o:{}),u[c]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=uf(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=uf(n,2),i=r[0],o=r[1];return e[i]=o,e},{})}}},u6=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,c6=Kt.extend({name:"baseicon",css:u6});function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){h6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h6(t,e,n){return(e=d6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d6(t){var e=f6(t,"string");return Hm(e)=="symbol"?e:e+""}function f6(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g6={name:"BaseIcon",extends:dC,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:c6,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=Dc(this.label);return KA(KA({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},t2={name:"SpinnerIcon",extends:g6};function m6(t,e,n,r,i,o){return Ae(),Ve("svg",rr({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[te("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}t2.render=m6;var p6=({dt:t})=>`
.p-badge {
    display: inline-flex;
    border-radius: ${t("badge.border.radius")};
    align-items: center;
    justify-content: center;
    padding: ${t("badge.padding")};
    background: ${t("badge.primary.background")};
    color: ${t("badge.primary.color")};
    font-size: ${t("badge.font.size")};
    font-weight: ${t("badge.font.weight")};
    min-width: ${t("badge.min.width")};
    height: ${t("badge.height")};
}

.p-badge-dot {
    width: ${t("badge.dot.size")};
    min-width: ${t("badge.dot.size")};
    height: ${t("badge.dot.size")};
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: ${t("badge.secondary.background")};
    color: ${t("badge.secondary.color")};
}

.p-badge-success {
    background: ${t("badge.success.background")};
    color: ${t("badge.success.color")};
}

.p-badge-info {
    background: ${t("badge.info.background")};
    color: ${t("badge.info.color")};
}

.p-badge-warn {
    background: ${t("badge.warn.background")};
    color: ${t("badge.warn.color")};
}

.p-badge-danger {
    background: ${t("badge.danger.background")};
    color: ${t("badge.danger.color")};
}

.p-badge-contrast {
    background: ${t("badge.contrast.background")};
    color: ${t("badge.contrast.color")};
}

.p-badge-sm {
    font-size: ${t("badge.sm.font.size")};
    min-width: ${t("badge.sm.min.width")};
    height: ${t("badge.sm.height")};
}

.p-badge-lg {
    font-size: ${t("badge.lg.font.size")};
    min-width: ${t("badge.lg.min.width")};
    height: ${t("badge.lg.height")};
}

.p-badge-xl {
    font-size: ${t("badge.xl.font.size")};
    min-width: ${t("badge.xl.min.width")};
    height: ${t("badge.xl.height")};
}
`,v6={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-circle":kt(n.value)&&String(n.value).length===1,"p-badge-dot":Dc(n.value)&&!r.$slots.default,"p-badge-sm":n.size==="small","p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warn":n.severity==="warn","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},w6=Kt.extend({name:"badge",style:p6,classes:v6}),b6={name:"BaseBadge",extends:dC,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:w6,provide:function(){return{$pcBadge:this,$parentInstance:this}}};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function qA(t,e,n){return(e=y6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6(t){var e=C6(t,"string");return km(e)=="symbol"?e:e+""}function C6(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n2={name:"Badge",extends:b6,inheritAttrs:!1,computed:{dataP:function(){return sd(qA(qA({circle:this.value!=null&&String(this.value).length===1,empty:this.value==null&&!this.$slots.default},this.severity,this.severity),this.size,this.size))}}},S6=["data-p"];function _6(t,e,n,r,i,o){return Ae(),Ve("span",rr({class:t.cx("root"),"data-p":o.dataP},t.ptmi("root")),[Zh(t.$slots,"default",{},function(){return[Jh(wn(t.value),1)]})],16,S6)}n2.render=_6;var Pl=$B();function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function XA(t,e){return T6(t)||x6(t,e)||E6(t,e)||R6()}function R6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6(t,e){if(t){if(typeof t=="string")return ZA(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZA(t,e):void 0}}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function x6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function T6(t){if(Array.isArray(t))return t}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){eT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eT(t,e,n){return(e=M6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t){var e=P6(t,"string");return Nm(e)=="symbol"?e:e+""}function P6(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ye={_getMeta:function(){return[ks(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Gi(ks(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,o;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(o=n.ctx)===null||o===void 0||(o=o.appContext)===null||o===void 0||(o=o.config)===null||o===void 0||(o=o.globalProperties)===null||o===void 0?void 0:o.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:mM,_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var b=Ye._getOptionValue.apply(Ye,arguments);return si(b)||tC(b)?{class:b}:b},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,d=u.mergeProps,f=d===void 0?!1:d,g=a?Ye._useDefaultPT(r,r.defaultPT(),l,o,s):void 0,m=Ye._usePT(r,Ye._getPT(i,r.$name),l,o,ct(ct({},s),{},{global:g||{}})),p=Ye._getPTDatasets(r,o);return h||!h&&m?f?Ye._mergeProps(r,f,g,m,p):ct(ct(ct({},g),m),p):ct(ct({},m),p)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return ct(ct({},n==="root"&&eT({},"".concat(r,"name"),Rs(e.$name))),{},eT({},"".concat(r,"section"),Rs(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(s){var a,l=r?r(s):s,u=Rs(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e&&Object.hasOwn(e,"_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=function(p){return r(p,i,o)};if(n&&Object.hasOwn(n,"_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,d=h===void 0?!1:h,f=s(n.originalValue),g=s(n.value);return f===void 0&&g===void 0?void 0:si(g)?g:si(f)?f:c||!c&&g?d?Ye._mergeProps(e,d,f,g):ct(ct({},f),g):g}return s(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Ye._usePT(e,n,r,i,o)},_loadStyles:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=Ye._getConfig(r,i),s={nonce:o==null||(e=o.csp)===null||e===void 0?void 0:e.nonce};Ye._loadCoreStyles(n,s),Ye._loadThemeStyles(n,s),Ye._loadScopedThemeStyles(n,s),Ye._removeThemeListeners(n),n.$loadStyles=function(){return Ye._loadThemeStyles(n,s)},Ye._themeChangeListener(n.$loadStyles)},_loadCoreStyles:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(!Rl.isStyleNameLoaded((e=r.$style)===null||e===void 0?void 0:e.name)&&(n=r.$style)!==null&&n!==void 0&&n.name){var o;Kt.loadCSS(i),(o=r.$style)===null||o===void 0||o.loadCSS(i),Rl.setLoadedStyleName(r.$style.name)}},_loadThemeStyles:function(){var e,n,r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(!(i!=null&&i.isUnstyled()||(i==null||(e=i.theme)===null||e===void 0?void 0:e.call(i))==="none")){if(!At.isStyleNameLoaded("common")){var s,a,l=((s=i.$style)===null||s===void 0||(a=s.getCommonTheme)===null||a===void 0?void 0:a.call(s))||{},u=l.primitive,c=l.semantic,h=l.global,d=l.style;Kt.load(u==null?void 0:u.css,ct({name:"primitive-variables"},o)),Kt.load(c==null?void 0:c.css,ct({name:"semantic-variables"},o)),Kt.load(h==null?void 0:h.css,ct({name:"global-variables"},o)),Kt.loadStyle(ct({name:"global-style"},o),d),At.setLoadedStyleName("common")}if(!At.isStyleNameLoaded((n=i.$style)===null||n===void 0?void 0:n.name)&&(r=i.$style)!==null&&r!==void 0&&r.name){var f,g,m,p,y=((f=i.$style)===null||f===void 0||(g=f.getDirectiveTheme)===null||g===void 0?void 0:g.call(f))||{},b=y.css,T=y.style;(m=i.$style)===null||m===void 0||m.load(b,ct({name:"".concat(i.$style.name,"-variables")},o)),(p=i.$style)===null||p===void 0||p.loadStyle(ct({name:"".concat(i.$style.name,"-style")},o),T),At.setLoadedStyleName(i.$style.name)}if(!At.isStyleNameLoaded("layer-order")){var E,P,I=(E=i.$style)===null||E===void 0||(P=E.getLayerOrderThemeCSS)===null||P===void 0?void 0:P.call(E);Kt.load(I,ct({name:"layer-order",first:!0},o)),At.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=e.preset();if(r&&e.$attrSelector){var i,o,s,a=((i=e.$style)===null||i===void 0||(o=i.getPresetTheme)===null||o===void 0?void 0:o.call(i,r,"[".concat(e.$attrSelector,"]")))||{},l=a.css,u=(s=e.$style)===null||s===void 0?void 0:s.load(l,ct({name:"".concat(e.$attrSelector,"-").concat(e.$style.name)},n));e.scopedStyleEl=u.el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Rl.clearLoadedStyleNames(),nr.on("theme:change",e)},_removeThemeListeners:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nr.off("theme:change",e.$loadStyles),e.$loadStyles=void 0},_hook:function(e,n,r,i,o,s){var a,l,u="on".concat(lq(n)),c=Ye._getConfig(i,o),h=r==null?void 0:r.$instance,d=Ye._usePT(h,Ye._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Ye._getOptionValue,"hooks.".concat(u)),f=Ye._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Ye._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:o,prevVnode:s};d==null||d(h,g),f==null||f(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return gM(e)?e.apply(void 0,r):rr.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(a,l,u,c,h){var d,f,g,m;l._$instances=l._$instances||{};var p=Ye._getConfig(u,c),y=l._$instances[e]||{},b=Dc(y)?ct(ct({},n),n==null?void 0:n.methods):{};l._$instances[e]=ct(ct({},y),{},{$name:e,$host:l,$binding:u,$modifiers:u==null?void 0:u.modifiers,$value:u==null?void 0:u.value,$el:y.$el||l||void 0,$style:ct({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:p,$attrSelector:(d=l.$pd)===null||d===void 0||(d=d[e])===null||d===void 0?void 0:d.attrSelector,defaultPT:function(){return Ye._getPT(p==null?void 0:p.pt,void 0,function(E){var P;return E==null||(P=E.directives)===null||P===void 0?void 0:P[e]})},isUnstyled:function(){var E,P;return((E=l._$instances[e])===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.unstyled)!==void 0?(P=l._$instances[e])===null||P===void 0||(P=P.$binding)===null||P===void 0||(P=P.value)===null||P===void 0?void 0:P.unstyled:p==null?void 0:p.unstyled},theme:function(){var E;return(E=l._$instances[e])===null||E===void 0||(E=E.$primevueConfig)===null||E===void 0?void 0:E.theme},preset:function(){var E;return(E=l._$instances[e])===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.dt},ptm:function(){var E,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ye._getPTValue(l._$instances[e],(E=l._$instances[e])===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.pt,P,ct({},I))},ptmo:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ye._getPTValue(l._$instances[e],E,P,I,!1)},cx:function(){var E,P,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(E=l._$instances[e])!==null&&E!==void 0&&E.isUnstyled()?void 0:Ye._getOptionValue((P=l._$instances[e])===null||P===void 0||(P=P.$style)===null||P===void 0?void 0:P.classes,I,ct({},H))},sx:function(){var E,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I?Ye._getOptionValue((E=l._$instances[e])===null||E===void 0||(E=E.$style)===null||E===void 0?void 0:E.inlineStyles,P,ct({},H)):void 0}},b),l.$instance=l._$instances[e],(f=(g=l.$instance)[a])===null||f===void 0||f.call(g,l,u,c,h),l["$".concat(e)]=l.$instance,Ye._hook(e,a,l,u,c,h),l.$pd||(l.$pd={}),l.$pd[e]=ct(ct({},(m=l.$pd)===null||m===void 0?void 0:m[e]),{},{name:e,instance:l._$instances[e]})},i=function(a){var l,u,c,h=a._$instances[e],d=h==null?void 0:h.watch,f=function(p){var y,b=p.newValue,T=p.oldValue;return d==null||(y=d.config)===null||y===void 0?void 0:y.call(h,b,T)},g=function(p){var y,b=p.newValue,T=p.oldValue;return d==null||(y=d["config.ripple"])===null||y===void 0?void 0:y.call(h,b,T)};h.$watchersCallback={config:f,"config.ripple":g},d==null||(l=d.config)===null||l===void 0||l.call(h,h==null?void 0:h.$primevueConfig),Pl.on("config:change",f),d==null||(u=d["config.ripple"])===null||u===void 0||u.call(h,h==null||(c=h.$primevueConfig)===null||c===void 0?void 0:c.ripple),Pl.on("config:ripple:change",g)},o=function(a){var l=a._$instances[e].$watchersCallback;l&&(Pl.off("config:change",l.config),Pl.off("config:ripple:change",l["config.ripple"]),a._$instances[e].$watchersCallback=void 0)};return{created:function(a,l,u,c){a.$pd||(a.$pd={}),a.$pd[e]={name:e,attrSelector:uq("pd")},r("created",a,l,u,c)},beforeMount:function(a,l,u,c){var h;Ye._loadStyles((h=a.$pd[e])===null||h===void 0?void 0:h.instance,l,u),r("beforeMount",a,l,u,c),i(a)},mounted:function(a,l,u,c){var h;Ye._loadStyles((h=a.$pd[e])===null||h===void 0?void 0:h.instance,l,u),r("mounted",a,l,u,c)},beforeUpdate:function(a,l,u,c){r("beforeUpdate",a,l,u,c)},updated:function(a,l,u,c){var h;Ye._loadStyles((h=a.$pd[e])===null||h===void 0?void 0:h.instance,l,u),r("updated",a,l,u,c)},beforeUnmount:function(a,l,u,c){var h;o(a),Ye._removeThemeListeners((h=a.$pd[e])===null||h===void 0?void 0:h.instance),r("beforeUnmount",a,l,u,c)},unmounted:function(a,l,u,c){var h;(h=a.$pd[e])===null||h===void 0||(h=h.instance)===null||h===void 0||(h=h.scopedStyleEl)===null||h===void 0||(h=h.value)===null||h===void 0||h.remove(),r("unmounted",a,l,u,c)}}},extend:function(){var e=Ye._getMeta.apply(Ye,arguments),n=XA(e,2),r=n[0],i=n[1];return ct({extend:function(){var s=Ye._getMeta.apply(Ye,arguments),a=XA(s,2),l=a[0],u=a[1];return Ye.extend(l,ct(ct(ct({},i),i==null?void 0:i.methods),u))}},Ye._extend(r,i))}},O6=({dt:t})=>`
.p-ink {
    display: block;
    position: absolute;
    background: ${t("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,I6={root:"p-ink"},A6=Kt.extend({name:"ripple-directive",style:O6,classes:I6}),H6=Ye.extend({style:A6});function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function k6(t){return L6(t)||$6(t)||D6(t)||N6()}function N6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6(t,e){if(t){if(typeof t=="string")return tT(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tT(t,e):void 0}}function $6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L6(t){if(Array.isArray(t))return tT(t)}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function QA(t,e,n){return(e=F6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F6(t){var e=V6(t,"string");return Dm(e)=="symbol"?e:e+""}function V6(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W6=H6.extend("ripple",{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(e){var n=this.getInk(e);n||(n=K3("span",QA(QA({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root"))),e.appendChild(n),this.$el=n)},remove:function(e){var n=this.getInk(e);n&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&wS(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!eA(i)&&!tA(i)){var o=Math.max(z3(r),J3(r));i.style.height=o+"px",i.style.width=o+"px"}var s=Z3(r),a=e.pageX-s.left+document.body.scrollTop-tA(i)/2,l=e.pageY-s.top+document.body.scrollLeft-eA(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&U3(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&wS(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&wS(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?k6(e.children).find(function(n){return X3(n,"data-pc-name")==="ripple"}):void 0}}}),B6=({dt:t})=>`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${t("button.primary.color")};
    background: ${t("button.primary.background")};
    border: 1px solid ${t("button.primary.border.color")};
    padding: ${t("button.padding.y")} ${t("button.padding.x")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${t("button.transition.duration")}, color ${t("button.transition.duration")}, border-color ${t("button.transition.duration")},
            outline-color ${t("button.transition.duration")}, box-shadow ${t("button.transition.duration")};
    border-radius: ${t("button.border.radius")};
    outline-color: transparent;
    gap: ${t("button.gap")};
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: ${t("button.icon.only.width")};
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: ${t("button.icon.only.width")};
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: ${t("button.sm.font.size")};
    padding: ${t("button.sm.padding.y")} ${t("button.sm.padding.x")};
}

.p-button-sm .p-button-icon {
    font-size: ${t("button.sm.font.size")};
}

.p-button-sm.p-button-icon-only {
    width: ${t("button.sm.icon.only.width")};
}

.p-button-sm.p-button-icon-only.p-button-rounded {
    height: ${t("button.sm.icon.only.width")};
}

.p-button-lg {
    font-size: ${t("button.lg.font.size")};
    padding: ${t("button.lg.padding.y")} ${t("button.lg.padding.x")};
}

.p-button-lg .p-button-icon {
    font-size: ${t("button.lg.font.size")};
}

.p-button-lg.p-button-icon-only {
    width: ${t("button.lg.icon.only.width")};
}

.p-button-lg.p-button-icon-only.p-button-rounded {
    height: ${t("button.lg.icon.only.width")};
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: ${t("button.label.font.weight")};
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: ${t("button.icon.only.width")};
}

.p-button:not(:disabled):hover {
    background: ${t("button.primary.hover.background")};
    border: 1px solid ${t("button.primary.hover.border.color")};
    color: ${t("button.primary.hover.color")};
}

.p-button:not(:disabled):active {
    background: ${t("button.primary.active.background")};
    border: 1px solid ${t("button.primary.active.border.color")};
    color: ${t("button.primary.active.color")};
}

.p-button:focus-visible {
    box-shadow: ${t("button.primary.focus.ring.shadow")};
    outline: ${t("button.focus.ring.width")} ${t("button.focus.ring.style")} ${t("button.primary.focus.ring.color")};
    outline-offset: ${t("button.focus.ring.offset")};
}

.p-button .p-badge {
    min-width: ${t("button.badge.size")};
    height: ${t("button.badge.size")};
    line-height: ${t("button.badge.size")};
}

.p-button-raised {
    box-shadow: ${t("button.raised.shadow")};
}

.p-button-rounded {
    border-radius: ${t("button.rounded.border.radius")};
}

.p-button-secondary {
    background: ${t("button.secondary.background")};
    border: 1px solid ${t("button.secondary.border.color")};
    color: ${t("button.secondary.color")};
}

.p-button-secondary:not(:disabled):hover {
    background: ${t("button.secondary.hover.background")};
    border: 1px solid ${t("button.secondary.hover.border.color")};
    color: ${t("button.secondary.hover.color")};
}

.p-button-secondary:not(:disabled):active {
    background: ${t("button.secondary.active.background")};
    border: 1px solid ${t("button.secondary.active.border.color")};
    color: ${t("button.secondary.active.color")};
}

.p-button-secondary:focus-visible {
    outline-color: ${t("button.secondary.focus.ring.color")};
    box-shadow: ${t("button.secondary.focus.ring.shadow")};
}

.p-button-success {
    background: ${t("button.success.background")};
    border: 1px solid ${t("button.success.border.color")};
    color: ${t("button.success.color")};
}

.p-button-success:not(:disabled):hover {
    background: ${t("button.success.hover.background")};
    border: 1px solid ${t("button.success.hover.border.color")};
    color: ${t("button.success.hover.color")};
}

.p-button-success:not(:disabled):active {
    background: ${t("button.success.active.background")};
    border: 1px solid ${t("button.success.active.border.color")};
    color: ${t("button.success.active.color")};
}

.p-button-success:focus-visible {
    outline-color: ${t("button.success.focus.ring.color")};
    box-shadow: ${t("button.success.focus.ring.shadow")};
}

.p-button-info {
    background: ${t("button.info.background")};
    border: 1px solid ${t("button.info.border.color")};
    color: ${t("button.info.color")};
}

.p-button-info:not(:disabled):hover {
    background: ${t("button.info.hover.background")};
    border: 1px solid ${t("button.info.hover.border.color")};
    color: ${t("button.info.hover.color")};
}

.p-button-info:not(:disabled):active {
    background: ${t("button.info.active.background")};
    border: 1px solid ${t("button.info.active.border.color")};
    color: ${t("button.info.active.color")};
}

.p-button-info:focus-visible {
    outline-color: ${t("button.info.focus.ring.color")};
    box-shadow: ${t("button.info.focus.ring.shadow")};
}

.p-button-warn {
    background: ${t("button.warn.background")};
    border: 1px solid ${t("button.warn.border.color")};
    color: ${t("button.warn.color")};
}

.p-button-warn:not(:disabled):hover {
    background: ${t("button.warn.hover.background")};
    border: 1px solid ${t("button.warn.hover.border.color")};
    color: ${t("button.warn.hover.color")};
}

.p-button-warn:not(:disabled):active {
    background: ${t("button.warn.active.background")};
    border: 1px solid ${t("button.warn.active.border.color")};
    color: ${t("button.warn.active.color")};
}

.p-button-warn:focus-visible {
    outline-color: ${t("button.warn.focus.ring.color")};
    box-shadow: ${t("button.warn.focus.ring.shadow")};
}

.p-button-help {
    background: ${t("button.help.background")};
    border: 1px solid ${t("button.help.border.color")};
    color: ${t("button.help.color")};
}

.p-button-help:not(:disabled):hover {
    background: ${t("button.help.hover.background")};
    border: 1px solid ${t("button.help.hover.border.color")};
    color: ${t("button.help.hover.color")};
}

.p-button-help:not(:disabled):active {
    background: ${t("button.help.active.background")};
    border: 1px solid ${t("button.help.active.border.color")};
    color: ${t("button.help.active.color")};
}

.p-button-help:focus-visible {
    outline-color: ${t("button.help.focus.ring.color")};
    box-shadow: ${t("button.help.focus.ring.shadow")};
}

.p-button-danger {
    background: ${t("button.danger.background")};
    border: 1px solid ${t("button.danger.border.color")};
    color: ${t("button.danger.color")};
}

.p-button-danger:not(:disabled):hover {
    background: ${t("button.danger.hover.background")};
    border: 1px solid ${t("button.danger.hover.border.color")};
    color: ${t("button.danger.hover.color")};
}

.p-button-danger:not(:disabled):active {
    background: ${t("button.danger.active.background")};
    border: 1px solid ${t("button.danger.active.border.color")};
    color: ${t("button.danger.active.color")};
}

.p-button-danger:focus-visible {
    outline-color: ${t("button.danger.focus.ring.color")};
    box-shadow: ${t("button.danger.focus.ring.shadow")};
}

.p-button-contrast {
    background: ${t("button.contrast.background")};
    border: 1px solid ${t("button.contrast.border.color")};
    color: ${t("button.contrast.color")};
}

.p-button-contrast:not(:disabled):hover {
    background: ${t("button.contrast.hover.background")};
    border: 1px solid ${t("button.contrast.hover.border.color")};
    color: ${t("button.contrast.hover.color")};
}

.p-button-contrast:not(:disabled):active {
    background: ${t("button.contrast.active.background")};
    border: 1px solid ${t("button.contrast.active.border.color")};
    color: ${t("button.contrast.active.color")};
}

.p-button-contrast:focus-visible {
    outline-color: ${t("button.contrast.focus.ring.color")};
    box-shadow: ${t("button.contrast.focus.ring.shadow")};
}

.p-button-outlined {
    background: transparent;
    border-color: ${t("button.outlined.primary.border.color")};
    color: ${t("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):hover {
    background: ${t("button.outlined.primary.hover.background")};
    border-color: ${t("button.outlined.primary.border.color")};
    color: ${t("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):active {
    background: ${t("button.outlined.primary.active.background")};
    border-color: ${t("button.outlined.primary.border.color")};
    color: ${t("button.outlined.primary.color")};
}

.p-button-outlined.p-button-secondary {
    border-color: ${t("button.outlined.secondary.border.color")};
    color: ${t("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: ${t("button.outlined.secondary.hover.background")};
    border-color: ${t("button.outlined.secondary.border.color")};
    color: ${t("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: ${t("button.outlined.secondary.active.background")};
    border-color: ${t("button.outlined.secondary.border.color")};
    color: ${t("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-success {
    border-color: ${t("button.outlined.success.border.color")};
    color: ${t("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: ${t("button.outlined.success.hover.background")};
    border-color: ${t("button.outlined.success.border.color")};
    color: ${t("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: ${t("button.outlined.success.active.background")};
    border-color: ${t("button.outlined.success.border.color")};
    color: ${t("button.outlined.success.color")};
}

.p-button-outlined.p-button-info {
    border-color: ${t("button.outlined.info.border.color")};
    color: ${t("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: ${t("button.outlined.info.hover.background")};
    border-color: ${t("button.outlined.info.border.color")};
    color: ${t("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: ${t("button.outlined.info.active.background")};
    border-color: ${t("button.outlined.info.border.color")};
    color: ${t("button.outlined.info.color")};
}

.p-button-outlined.p-button-warn {
    border-color: ${t("button.outlined.warn.border.color")};
    color: ${t("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: ${t("button.outlined.warn.hover.background")};
    border-color: ${t("button.outlined.warn.border.color")};
    color: ${t("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: ${t("button.outlined.warn.active.background")};
    border-color: ${t("button.outlined.warn.border.color")};
    color: ${t("button.outlined.warn.color")};
}

.p-button-outlined.p-button-help {
    border-color: ${t("button.outlined.help.border.color")};
    color: ${t("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: ${t("button.outlined.help.hover.background")};
    border-color: ${t("button.outlined.help.border.color")};
    color: ${t("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: ${t("button.outlined.help.active.background")};
    border-color: ${t("button.outlined.help.border.color")};
    color: ${t("button.outlined.help.color")};
}

.p-button-outlined.p-button-danger {
    border-color: ${t("button.outlined.danger.border.color")};
    color: ${t("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: ${t("button.outlined.danger.hover.background")};
    border-color: ${t("button.outlined.danger.border.color")};
    color: ${t("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: ${t("button.outlined.danger.active.background")};
    border-color: ${t("button.outlined.danger.border.color")};
    color: ${t("button.outlined.danger.color")};
}

.p-button-outlined.p-button-contrast {
    border-color: ${t("button.outlined.contrast.border.color")};
    color: ${t("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: ${t("button.outlined.contrast.hover.background")};
    border-color: ${t("button.outlined.contrast.border.color")};
    color: ${t("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: ${t("button.outlined.contrast.active.background")};
    border-color: ${t("button.outlined.contrast.border.color")};
    color: ${t("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-plain {
    border-color: ${t("button.outlined.plain.border.color")};
    color: ${t("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: ${t("button.outlined.plain.hover.background")};
    border-color: ${t("button.outlined.plain.border.color")};
    color: ${t("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: ${t("button.outlined.plain.active.background")};
    border-color: ${t("button.outlined.plain.border.color")};
    color: ${t("button.outlined.plain.color")};
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.primary.color")};
}

.p-button-text:not(:disabled):hover {
    background: ${t("button.text.primary.hover.background")};
    border-color: transparent;
    color: ${t("button.text.primary.color")};
}

.p-button-text:not(:disabled):active {
    background: ${t("button.text.primary.active.background")};
    border-color: transparent;
    color: ${t("button.text.primary.color")};
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: ${t("button.text.secondary.hover.background")};
    border-color: transparent;
    color: ${t("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: ${t("button.text.secondary.active.background")};
    border-color: transparent;
    color: ${t("button.text.secondary.color")};
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: ${t("button.text.success.hover.background")};
    border-color: transparent;
    color: ${t("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):active {
    background: ${t("button.text.success.active.background")};
    border-color: transparent;
    color: ${t("button.text.success.color")};
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: ${t("button.text.info.hover.background")};
    border-color: transparent;
    color: ${t("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):active {
    background: ${t("button.text.info.active.background")};
    border-color: transparent;
    color: ${t("button.text.info.color")};
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: ${t("button.text.warn.hover.background")};
    border-color: transparent;
    color: ${t("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: ${t("button.text.warn.active.background")};
    border-color: transparent;
    color: ${t("button.text.warn.color")};
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: ${t("button.text.help.hover.background")};
    border-color: transparent;
    color: ${t("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):active {
    background: ${t("button.text.help.active.background")};
    border-color: transparent;
    color: ${t("button.text.help.color")};
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: ${t("button.text.danger.hover.background")};
    border-color: transparent;
    color: ${t("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: ${t("button.text.danger.active.background")};
    border-color: transparent;
    color: ${t("button.text.danger.color")};
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: ${t("button.text.contrast.hover.background")};
    border-color: transparent;
    color: ${t("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: ${t("button.text.contrast.active.background")};
    border-color: transparent;
    color: ${t("button.text.contrast.color")};
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: ${t("button.text.plain.hover.background")};
    border-color: transparent;
    color: ${t("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: ${t("button.text.plain.active.background")};
    border-color: transparent;
    color: ${t("button.text.plain.color")};
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: ${t("button.link.color")};
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: ${t("button.link.hover.color")};
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: ${t("button.link.active.color")};
}
`;function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function Ko(t,e,n){return(e=j6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j6(t){var e=U6(t,"string");return $m(e)=="symbol"?e:e+""}function U6(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z6={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",Ko(Ko(Ko(Ko(Ko(Ko(Ko(Ko(Ko({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-button-loading":r.loading,"p-button-link":r.link||r.variant==="link"},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text||r.variant==="text"),"p-button-outlined",r.outlined||r.variant==="outlined"),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain),"p-button-fluid",n.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(e){var n=e.props;return["p-button-icon",Ko({},"p-button-icon-".concat(n.iconPos),n.label)]},label:"p-button-label"},Y6=Kt.extend({name:"button",style:B6,classes:z6}),G6={name:"BaseButton",extends:dC,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:Y6,provide:function(){return{$pcButton:this,$parentInstance:this}}};function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function Wr(t,e,n){return(e=K6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K6(t){var e=q6(t,"string");return Lm(e)=="symbol"?e:e+""}function q6(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DM={name:"Button",extends:G6,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return rr(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return Dc(this.fluid)?!!this.$pcFluid:this.fluid},dataP:function(){return sd(Wr(Wr(Wr(Wr(Wr(Wr(Wr(Wr(Wr(Wr({},this.size,this.size),"icon-only",this.hasIcon&&!this.label&&!this.badge),"loading",this.loading),"fluid",this.hasFluid),"rounded",this.rounded),"raised",this.raised),"outlined",this.outlined||this.variant==="outlined"),"text",this.text||this.variant==="text"),"link",this.link||this.variant==="link"),"vertical",(this.iconPos==="top"||this.iconPos==="bottom")&&this.label))},dataIconP:function(){return sd(Wr(Wr({},this.iconPos,this.iconPos),this.size,this.size))},dataLabelP:function(){return sd(Wr(Wr({},this.size,this.size),"icon-only",this.hasIcon&&!this.label&&!this.badge))}},components:{SpinnerIcon:t2,Badge:n2},directives:{ripple:W6}},X6=["data-p"],Z6=["data-p"];function J6(t,e,n,r,i,o){var s=Ps("SpinnerIcon"),a=Ps("Badge"),l=R4("ripple");return t.asChild?Zh(t.$slots,"default",{key:1,class:Sc(t.cx("root")),a11yAttrs:o.a11yAttrs}):Wg((Ae(),pc(_4(t.as),rr({key:0,class:t.cx("root"),"data-p":o.dataP},o.attrs),{default:Xh(function(){return[Zh(t.$slots,"default",{},function(){return[t.loading?Zh(t.$slots,"loadingicon",rr({key:0,class:[t.cx("loadingIcon"),t.cx("icon")]},t.ptm("loadingIcon")),function(){return[t.loadingIcon?(Ae(),Ve("span",rr({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(Ae(),pc(s,rr({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):Zh(t.$slots,"icon",rr({key:1,class:[t.cx("icon")]},t.ptm("icon")),function(){return[t.icon?(Ae(),Ve("span",rr({key:0,class:[t.cx("icon"),t.icon,t.iconClass],"data-p":o.dataIconP},t.ptm("icon")),null,16,X6)):Rc("",!0)]}),te("span",rr({class:t.cx("label")},t.ptm("label"),{"data-p":o.dataLabelP}),wn(t.label||""),17,Z6),t.badge?(Ae(),pc(a,{key:2,value:t.badge,class:Sc(t.badgeClass),severity:t.badgeSeverity,unstyled:t.unstyled,pt:t.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):Rc("",!0)]})]}),_:3},16,["class","data-p"])),[[l]])}DM.render=J6;var ar={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function eH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eH(Object(n),!0).forEach(function(r){Q6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q6(t,e,n){return(e=e8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e8(t){var e=t8(t,"string");return Fm(e)=="symbol"?e:e+""}function t8(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n8={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[ar.STARTS_WITH,ar.CONTAINS,ar.NOT_CONTAINS,ar.ENDS_WITH,ar.EQUALS,ar.NOT_EQUALS],numeric:[ar.EQUALS,ar.NOT_EQUALS,ar.LESS_THAN,ar.LESS_THAN_OR_EQUAL_TO,ar.GREATER_THAN,ar.GREATER_THAN_OR_EQUAL_TO],date:[ar.DATE_IS,ar.DATE_IS_NOT,ar.DATE_BEFORE,ar.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},r8=Symbol();function i8(t,e){var n={config:wp(e)};return t.config.globalProperties.$primevue=n,t.provide(r8,n),o8(),s8(t,n),n}var Qh=[];function o8(){nr.clear(),Qh.forEach(function(t){return t==null?void 0:t()}),Qh=[]}function s8(t,e){var n=Ha(!1),r=function(){var u;if(((u=e.config)===null||u===void 0?void 0:u.theme)!=="none"&&!At.isStyleNameLoaded("common")){var c,h,d=((c=Kt.getCommonTheme)===null||c===void 0?void 0:c.call(Kt))||{},f=d.primitive,g=d.semantic,m=d.global,p=d.style,y={nonce:(h=e.config)===null||h===void 0||(h=h.csp)===null||h===void 0?void 0:h.nonce};Kt.load(f==null?void 0:f.css,sv({name:"primitive-variables"},y)),Kt.load(g==null?void 0:g.css,sv({name:"semantic-variables"},y)),Kt.load(m==null?void 0:m.css,sv({name:"global-variables"},y)),Kt.loadStyle(sv({name:"global-style"},y),p),At.setLoadedStyleName("common")}};nr.on("theme:change",function(l){n.value||(t.config.globalProperties.$primevue.config.theme=l,n.value=!0)});var i=Os(e.config,function(l,u){Pl.emit("config:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),o=Os(function(){return e.config.ripple},function(l,u){Pl.emit("config:ripple:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),s=Os(function(){return e.config.theme},function(l,u){n.value||At.setTheme(l),e.config.unstyled||r(),n.value=!1,Pl.emit("config:theme:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!1}),a=Os(function(){return e.config.unstyled},function(l,u){!l&&e.config.theme&&r(),Pl.emit("config:unstyled:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0});Qh.push(i),Qh.push(o),Qh.push(s),Qh.push(a)}var a8={install:function(e,n){var r=aq(n8,n);i8(e,r)}},l8={name:"BaseEditableHolder",extends:dC,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue||this.modelValue}},watch:{modelValue:function(e){this.d_value=e},defaultValue:function(e){this.d_value=e},$formName:{immediate:!0,handler:function(e){var n,r;this.formField=((n=this.$pcForm)===null||n===void 0||(r=n.register)===null||r===void 0?void 0:r.call(n,e,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(e){var n,r;this.formField=((n=this.$pcForm)===null||n===void 0||(r=n.register)===null||r===void 0?void 0:r.call(n,this.$formName,e))||{}}},$formDefaultValue:{immediate:!0,handler:function(e){this.d_value!==e&&(this.d_value=e)}},$formValue:{immediate:!1,handler:function(e){var n;(n=this.$pcForm)!==null&&n!==void 0&&n.getFieldState(this.$formName)&&e!==this.d_value&&(this.d_value=e)}}},formField:{},methods:{writeValue:function(e,n){var r,i;this.controlled&&(this.d_value=e,this.$emit("update:modelValue",e)),this.$emit("value-change",e),(r=(i=this.formField).onChange)===null||r===void 0||r.call(i,{originalEvent:n,value:e})},findNonEmpty:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.find(kt)}},computed:{$filled:function(){return kt(this.d_value)},$invalid:function(){var e,n;return!this.$formNovalidate&&this.findNonEmpty(this.invalid,(e=this.$pcFormField)===null||e===void 0||(e=e.$field)===null||e===void 0?void 0:e.invalid,(n=this.$pcForm)===null||n===void 0||(n=n.getFieldState(this.$formName))===null||n===void 0?void 0:n.invalid)},$formName:function(){var e;return this.$formNovalidate?void 0:this.name||((e=this.$formControl)===null||e===void 0?void 0:e.name)},$formControl:function(){var e;return this.formControl||((e=this.$pcFormField)===null||e===void 0?void 0:e.formControl)},$formNovalidate:function(){var e;return(e=this.$formControl)===null||e===void 0?void 0:e.novalidate},$formDefaultValue:function(){var e,n;return this.findNonEmpty(this.d_value,(e=this.$pcFormField)===null||e===void 0?void 0:e.initialValue,(n=this.$pcForm)===null||n===void 0||(n=n.initialValues)===null||n===void 0?void 0:n[this.$formName])},$formValue:function(){var e,n;return this.findNonEmpty((e=this.$pcFormField)===null||e===void 0||(e=e.$field)===null||e===void 0?void 0:e.value,(n=this.$pcForm)===null||n===void 0||(n=n.getFieldState(this.$formName))===null||n===void 0?void 0:n.value)},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}},u8={name:"BaseInput",extends:l8,props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){var e;return(e=this.variant)!==null&&e!==void 0?e:this.$primevue.config.inputStyle||this.$primevue.config.inputVariant},$fluid:function(){var e;return(e=this.fluid)!==null&&e!==void 0?e:!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},c8=({dt:t})=>`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: ${t("inputtext.color")};
    background: ${t("inputtext.background")};
    padding-block: ${t("inputtext.padding.y")};
    padding-inline: ${t("inputtext.padding.x")};
    border: 1px solid ${t("inputtext.border.color")};
    transition: background ${t("inputtext.transition.duration")}, color ${t("inputtext.transition.duration")}, border-color ${t("inputtext.transition.duration")}, outline-color ${t("inputtext.transition.duration")}, box-shadow ${t("inputtext.transition.duration")};
    appearance: none;
    border-radius: ${t("inputtext.border.radius")};
    outline-color: transparent;
    box-shadow: ${t("inputtext.shadow")};
}

.p-inputtext:enabled:hover {
    border-color: ${t("inputtext.hover.border.color")};
}

.p-inputtext:enabled:focus {
    border-color: ${t("inputtext.focus.border.color")};
    box-shadow: ${t("inputtext.focus.ring.shadow")};
    outline: ${t("inputtext.focus.ring.width")} ${t("inputtext.focus.ring.style")} ${t("inputtext.focus.ring.color")};
    outline-offset: ${t("inputtext.focus.ring.offset")};
}

.p-inputtext.p-invalid {
    border-color: ${t("inputtext.invalid.border.color")};
}

.p-inputtext.p-variant-filled {
    background: ${t("inputtext.filled.background")};
}

.p-inputtext.p-variant-filled:enabled:hover {
    background: ${t("inputtext.filled.hover.background")};
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: ${t("inputtext.filled.focus.background")};
}

.p-inputtext:disabled {
    opacity: 1;
    background: ${t("inputtext.disabled.background")};
    color: ${t("inputtext.disabled.color")};
}

.p-inputtext::placeholder {
    color: ${t("inputtext.placeholder.color")};
}

.p-inputtext.p-invalid::placeholder {
    color: ${t("inputtext.invalid.placeholder.color")};
}

.p-inputtext-sm {
    font-size: ${t("inputtext.sm.font.size")};
    padding-block: ${t("inputtext.sm.padding.y")};
    padding-inline: ${t("inputtext.sm.padding.x")};
}

.p-inputtext-lg {
    font-size: ${t("inputtext.lg.font.size")};
    padding-block: ${t("inputtext.lg.padding.y")};
    padding-inline: ${t("inputtext.lg.padding.x")};
}

.p-inputtext-fluid {
    width: 100%;
}
`,h8={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.$filled,"p-inputtext-sm p-inputfield-sm":r.size==="small","p-inputtext-lg p-inputfield-lg":r.size==="large","p-invalid":n.$invalid,"p-variant-filled":n.$variant==="filled","p-inputtext-fluid":n.$fluid}]}},d8=Kt.extend({name:"inputtext",style:c8,classes:h8}),f8={name:"BaseInputText",extends:u8,style:d8,provide:function(){return{$pcInputText:this,$parentInstance:this}}};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function g8(t,e,n){return(e=m8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8(t){var e=p8(t,"string");return Vm(e)=="symbol"?e:e+""}function p8(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r2={name:"InputText",extends:f8,inheritAttrs:!1,methods:{onInput:function(e){this.writeValue(e.target.value,e)}},computed:{attrs:function(){return rr(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)},dataP:function(){return sd(g8({invalid:this.$invalid,fluid:this.$fluid,filled:this.$variant==="filled"},this.size,this.size))}}},v8=["value","name","disabled","aria-invalid","data-p"];function w8(t,e,n,r,i,o){return Ae(),Ve("input",rr({type:"text",class:t.cx("root"),value:t.d_value,name:t.name,disabled:t.disabled,"aria-invalid":t.$invalid||void 0,"data-p":o.dataP,onInput:e[0]||(e[0]=function(){return o.onInput&&o.onInput.apply(o,arguments)})},o.attrs),null,16,v8)}r2.render=w8;const b8=()=>{const t=Ha(localStorage.getItem("theme")||"system"),e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",n=o=>{t.value=o,localStorage.setItem("theme",o);const s=o==="system"?e():o;document.documentElement.setAttribute("data-theme",s)},r=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>{t.value==="system"&&document.documentElement.setAttribute("data-theme",o.matches?"dark":"light")};return Sp(()=>{n(t.value),r.addEventListener("change",i)}),_p(()=>{r.removeEventListener("change",i)}),{theme:t,updateTheme:n}},tH="/sologger/sologger_header.png",Xl=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},y8={name:"App",setup(){const{theme:t,updateTheme:e}=b8(),n=Ha(!1),r=Ha(!1),i=zi(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),o=[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System"}],s=[{to:"/",text:"Home"},{to:"/convert",text:"Convert Logs"},{to:"/about",text:"About"}],a=()=>{n.value=!n.value},l=c=>{e(c),n.value=!1},u=c=>{n.value&&!c.target.closest(".theme-toggle")&&(n.value=!1)};return window.addEventListener("click",u),_p(()=>{window.removeEventListener("click",u)}),{theme:t,isDarkSystem:i,isThemeMenuOpen:n,isMobileMenuOpen:r,themeOptions:o,navigationLinks:s,toggleThemeMenu:a,selectTheme:l}}},C8={class:"app"},S8={class:"p-2 mb-6 relative"},_8={class:"container mx-auto"},R8={class:"md:hidden flex items-center justify-between"},E8={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},x8={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},T8={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},M8={class:"hidden md:flex items-center justify-between"},P8={class:"flex items-center gap-6"},O8={class:"flex items-center gap-4"},I8={class:"relative theme-toggle"},A8=["aria-label"],H8={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},k8={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},N8={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},D8={key:0,class:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-surface-800 ring-1 ring-black ring-opacity-5 z-50"},$8={class:"py-1",role:"menu"},L8=["onClick"],F8={key:0,class:"md:hidden absolute top-full left-0 right-0 bg-surface-800 z-50"},V8={class:"px-2 pt-2 pb-3 space-y-1"},W8={class:"px-4 py-3 border-t border-surface-700"},B8={class:"flex items-center justify-between"},j8={class:"theme-toggle"},U8=["onClick"];function z8(t,e,n,r,i,o){const s=Ps("router-link"),a=Ps("router-view");return Ae(),Ve("div",C8,[te("nav",S8,[te("div",_8,[te("div",R8,[te("button",{onClick:e[0]||(e[0]=l=>r.isMobileMenuOpen=!r.isMobileMenuOpen),class:"text-surface-50 p-2","aria-label":"Toggle menu"},[(Ae(),Ve("svg",E8,[r.isMobileMenuOpen?(Ae(),Ve("path",T8)):(Ae(),Ve("path",x8))]))]),e[3]||(e[3]=te("div",{class:"flex items-center"},[te("span",{class:"text-xl font-bold text-primary-400"},[te("img",{src:tH,alt:"Sologger",class:"h-8"})])],-1)),e[4]||(e[4]=te("div",{class:"w-8"},null,-1))]),te("div",M8,[te("div",P8,[qt(s,{to:"/",class:"text-surface-50 hover:text-primary-400 transition-colors"},{default:Xh(()=>e[5]||(e[5]=[Jh(" Home ")])),_:1}),qt(s,{to:"/convert",class:"text-surface-50 hover:text-primary-400 transition-colors"},{default:Xh(()=>e[6]||(e[6]=[Jh(" Convert Logs ")])),_:1}),qt(s,{to:"/about",class:"text-surface-50 hover:text-primary-400 transition-colors"},{default:Xh(()=>e[7]||(e[7]=[Jh(" About ")])),_:1})]),e[12]||(e[12]=te("div",{class:"flex items-center"},[te("span",{class:"text-2xl font-bold text-primary-400"},[te("img",{src:tH,alt:"Sologger"})])],-1)),te("div",O8,[te("div",I8,[te("button",{type:"button",onClick:e[1]||(e[1]=Zj((...l)=>r.toggleThemeMenu&&r.toggleThemeMenu(...l),["stop"])),class:"p-2 rounded-full bg-surface-800 hover:bg-surface-700 transition-colors","aria-label":"Current theme: "+r.theme},[r.theme==="light"?(Ae(),Ve("svg",H8,e[8]||(e[8]=[te("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):r.theme==="dark"?(Ae(),Ve("svg",k8,e[9]||(e[9]=[te("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))):(Ae(),Ve("svg",N8,e[10]||(e[10]=[te("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1)])))],8,A8),r.isThemeMenuOpen?(Ae(),Ve("div",D8,[te("div",$8,[(Ae(!0),Ve(Yn,null,fd(r.themeOptions,l=>(Ae(),Ve("button",{key:l.value,type:"button",onClick:u=>r.selectTheme(l.value),class:Sc(["w-full text-left px-4 py-2 text-sm text-gray-100 hover:bg-surface-700 transition-colors",{"bg-surface-800":r.theme===l.value}]),role:"menuitem"},wn(l.label),11,L8))),128))])])):Rc("",!0)]),e[11]||(e[11]=te("a",{href:"https://github.com/brytelands/sologger",target:"_blank",rel:"noopener noreferrer",class:"text-surface-50 hover:text-primary-400 transition-colors"},[te("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[te("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})])],-1))])]),r.isMobileMenuOpen?(Ae(),Ve("div",F8,[te("div",V8,[(Ae(!0),Ve(Yn,null,fd(r.navigationLinks,l=>(Ae(),pc(s,{key:l.to,to:l.to,class:"block px-3 py-2 rounded-md text-surface-50 hover:text-primary-400 transition-colors",onClick:e[2]||(e[2]=u=>r.isMobileMenuOpen=!1)},{default:Xh(()=>[Jh(wn(l.text),1)]),_:2},1032,["to"]))),128))]),te("div",W8,[te("div",B8,[te("div",j8,[(Ae(!0),Ve(Yn,null,fd(r.themeOptions,l=>(Ae(),Ve("button",{key:l.value,type:"button",onClick:u=>r.selectTheme(l.value),class:Sc(["mr-3 text-sm text-gray-100",{"text-primary-400":r.theme===l.value}])},wn(l.label),11,U8))),128))]),e[13]||(e[13]=te("a",{href:"https://github.com/brytelands/sologger",target:"_blank",rel:"noopener noreferrer",class:"text-surface-50 hover:text-primary-400 transition-colors"},[te("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[te("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})])],-1))])])])):Rc("",!0)])]),qt(a)])}const Y8=Xl(y8,[["render",z8]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Vh=typeof document<"u";function i2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function G8(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&i2(t.default)}const _t=Object.assign;function OS(t,e){const n={};for(const r in e){const i=e[r];n[r]=Do(i)?i.map(t):t(i)}return n}const Ug=()=>{},Do=Array.isArray,o2=/#/g,K8=/&/g,q8=/\//g,X8=/=/g,Z8=/\?/g,s2=/\+/g,J8=/%5B/g,Q8=/%5D/g,a2=/%5E/g,e7=/%60/g,l2=/%7B/g,t7=/%7C/g,u2=/%7D/g,n7=/%20/g;function $M(t){return encodeURI(""+t).replace(t7,"|").replace(J8,"[").replace(Q8,"]")}function r7(t){return $M(t).replace(l2,"{").replace(u2,"}").replace(a2,"^")}function nT(t){return $M(t).replace(s2,"%2B").replace(n7,"+").replace(o2,"%23").replace(K8,"%26").replace(e7,"`").replace(l2,"{").replace(u2,"}").replace(a2,"^")}function i7(t){return nT(t).replace(X8,"%3D")}function o7(t){return $M(t).replace(o2,"%23").replace(Z8,"%3F")}function s7(t){return t==null?"":o7(t).replace(q8,"%2F")}function Wm(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const a7=/\/$/,l7=t=>t.replace(a7,"");function IS(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=d7(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Wm(s)}}function u7(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function nH(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function c7(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Td(e.matched[r],n.matched[i])&&c2(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Td(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function c2(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!h7(t[n],e[n]))return!1;return!0}function h7(t,e){return Do(t)?rH(t,e):Do(e)?rH(e,t):t===e}function rH(t,e){return Do(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function d7(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const Xa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bm;(function(t){t.pop="pop",t.push="push"})(Bm||(Bm={}));var zg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(zg||(zg={}));function f7(t){if(!t)if(Vh){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),l7(t)}const g7=/^[^#]+#/;function m7(t,e){return t.replace(g7,"#")+e}function p7(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const fC=()=>({left:window.scrollX,top:window.scrollY});function v7(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=p7(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function iH(t,e){return(history.state?history.state.position-e:-1)+t}const rT=new Map;function w7(t,e){rT.set(t,e)}function b7(t){const e=rT.get(t);return rT.delete(t),e}let y7=()=>location.protocol+"//"+location.host;function h2(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),nH(l,"")}return nH(n,t)+r+i}function C7(t,e,n,r){let i=[],o=[],s=null;const a=({state:d})=>{const f=h2(t,location),g=n.value,m=e.value;let p=0;if(d){if(n.value=f,e.value=d,s&&s===g){s=null;return}p=m?d.position-m.position:0}else r(f);i.forEach(y=>{y(n.value,g,{delta:p,type:Bm.pop,direction:p?p>0?zg.forward:zg.back:zg.unknown})})};function l(){s=n.value}function u(d){i.push(d);const f=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return o.push(f),f}function c(){const{history:d}=window;d.state&&d.replaceState(_t({},d.state,{scroll:fC()}),"")}function h(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function oH(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?fC():null}}function S7(t){const{history:e,location:n}=window,r={value:h2(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:y7()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](d)}}function s(l,u){const c=_t({},e.state,oH(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,u){const c=_t({},i.value,e.state,{forward:l,scroll:fC()});o(c.current,c,!0);const h=_t({},oH(r.value,l,null),{position:c.position+1},u);o(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function _7(t){t=f7(t);const e=S7(t),n=C7(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=_t({location:"",base:t,go:r,createHref:m7.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function R7(t){return typeof t=="string"||t&&typeof t=="object"}function d2(t){return typeof t=="string"||typeof t=="symbol"}const f2=Symbol("");var sH;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sH||(sH={}));function Md(t,e){return _t(new Error,{type:t,[f2]:!0},e)}function Ys(t,e){return t instanceof Error&&f2 in t&&(e==null||!!(t.type&e))}const aH="[^/]+?",E7={sensitive:!1,strict:!1,start:!0,end:!0},x7=/[.+*?^${}()[\]/\\]/g;function T7(t,e){const n=_t({},E7,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const d=u[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(x7,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:m,optional:p,regexp:y}=d;o.push({name:g,repeatable:m,optional:p});const b=y||aH;if(b!==aH){f+=10;try{new RegExp(`(${b})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+E.message)}}let T=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(T=p&&u.length<2?`(?:/${T})`:"/"+T),p&&(T+="?"),i+=T,f+=20,p&&(f+=-8),m&&(f+=-20),b===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(s),h={};if(!c)return null;for(let d=1;d<c.length;d++){const f=c[d]||"",g=o[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(u){let c="",h=!1;for(const d of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const f of d)if(f.type===0)c+=f.value;else if(f.type===1){const{value:g,repeatable:m,optional:p}=f,y=g in u?u[g]:"";if(Do(y)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=Do(y)?y.join("/"):y;if(!b)if(p)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=b}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function M7(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function g2(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=M7(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(lH(r))return 1;if(lH(i))return-1}return i.length-r.length}function lH(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const P7={type:0,value:""},O7=/[a-zA-Z0-9_]/;function I7(t){if(!t)return[[]];if(t==="/")return[[P7]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",c="";function h(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),s()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:O7.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),s(),i}function A7(t,e,n){const r=T7(I7(t.path),n),i=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function H7(t,e){const n=[],r=new Map;e=dH({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function o(h,d,f){const g=!f,m=cH(h);m.aliasOf=f&&f.record;const p=dH(e,h),y=[m];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const P of E)y.push(cH(_t({},m,{components:f?f.record.components:m.components,path:P,aliasOf:f?f.record:m})))}let b,T;for(const E of y){const{path:P}=E;if(d&&P[0]!=="/"){const I=d.record.path,H=I[I.length-1]==="/"?"":"/";E.path=d.record.path+(P&&H+P)}if(b=A7(E,d,p),f?f.alias.push(b):(T=T||b,T!==b&&T.alias.push(b),g&&h.name&&!hH(b)&&s(h.name)),m2(b)&&l(b),m.children){const I=m.children;for(let H=0;H<I.length;H++)o(I[H],b,f&&f.children[H])}f=f||b}return T?()=>{s(T)}:Ug}function s(h){if(d2(h)){const d=r.get(h);d&&(r.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function a(){return n}function l(h){const d=D7(h,n);n.splice(d,0,h),h.record.name&&!hH(h)&&r.set(h.record.name,h)}function u(h,d){let f,g={},m,p;if("name"in h&&h.name){if(f=r.get(h.name),!f)throw Md(1,{location:h});p=f.record.name,g=_t(uH(d.params,f.keys.filter(T=>!T.optional).concat(f.parent?f.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&uH(h.params,f.keys.map(T=>T.name))),m=f.stringify(g)}else if(h.path!=null)m=h.path,f=n.find(T=>T.re.test(m)),f&&(g=f.parse(m),p=f.record.name);else{if(f=d.name?r.get(d.name):n.find(T=>T.re.test(d.path)),!f)throw Md(1,{location:h,currentLocation:d});p=f.record.name,g=_t({},d.params,h.params),m=f.stringify(g)}const y=[];let b=f;for(;b;)y.unshift(b.record),b=b.parent;return{name:p,path:m,params:g,matched:y,meta:N7(y)}}t.forEach(h=>o(h));function c(){n.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:s,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function uH(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function cH(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:k7(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function k7(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function hH(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function N7(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function dH(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function D7(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;g2(t,e[o])<0?r=o:n=o+1}const i=$7(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function $7(t){let e=t;for(;e=e.parent;)if(m2(e)&&g2(t,e)===0)return e}function m2({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function L7(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(s2," "),s=o.indexOf("="),a=Wm(s<0?o:o.slice(0,s)),l=s<0?null:Wm(o.slice(s+1));if(a in e){let u=e[a];Do(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function fH(t){let e="";for(let n in t){const r=t[n];if(n=i7(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Do(r)?r.map(o=>o&&nT(o)):[r&&nT(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function F7(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Do(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const V7=Symbol(""),gH=Symbol(""),LM=Symbol(""),p2=Symbol(""),iT=Symbol("");function cf(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function wl(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(Md(4,{from:n,to:e})):d instanceof Error?l(d):R7(d)?l(Md(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),a())},c=o(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function AS(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(i2(l)){const c=(l.__vccOpts||l)[e];c&&o.push(wl(c,n,r,s,a,i))}else{let u=l();o.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const h=G8(c)?c.default:c;s.mods[a]=c,s.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&wl(f,n,r,s,a,i)()}))}}return o}function mH(t){const e=ka(LM),n=ka(p2),r=zi(()=>{const l=cd(t.to);return e.resolve(l)}),i=zi(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const d=h.findIndex(Td.bind(null,c));if(d>-1)return d;const f=pH(l[u-2]);return u>1&&pH(c)===f&&h[h.length-1].path!==f?h.findIndex(Td.bind(null,l[u-2])):d}),o=zi(()=>i.value>-1&&z7(n.params,r.value.params)),s=zi(()=>i.value>-1&&i.value===n.matched.length-1&&c2(n.params,r.value.params));function a(l={}){if(U7(l)){const u=e[cd(t.replace)?"replace":"push"](cd(t.to)).catch(Ug);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:zi(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}function W7(t){return t.length===1?t[0]:t}const B7=Vd({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mH,setup(t,{slots:e}){const n=wp(mH(t)),{options:r}=ka(LM),i=zi(()=>({[vH(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[vH(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&W7(e.default(n));return t.custom?o:Mm("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),j7=B7;function U7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function z7(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Do(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function pH(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vH=(t,e,n)=>t??e??n,Y7=Vd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ka(iT),i=zi(()=>t.route||r.value),o=ka(gH,0),s=zi(()=>{let u=cd(o);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=zi(()=>i.value.matched[s.value]);ub(gH,zi(()=>s.value+1)),ub(V7,a),ub(iT,i);const l=Ha();return Os(()=>[l.value,a.value,t.name],([u,c,h],[d,f,g])=>{c&&(c.instances[h]=u,f&&f!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Td(c,f)||!d)&&(c.enterCallbacks[h]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,d=h&&h.components[c];if(!d)return wH(n.default,{Component:d,route:u});const f=h.props[c],g=f?f===!0?u.params:typeof f=="function"?f(u):f:null,p=Mm(d,_t({},g,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return wH(n.default,{Component:p,route:u})||p}}});function wH(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const G7=Y7;function K7(t){const e=H7(t.routes,t),n=t.parseQuery||L7,r=t.stringifyQuery||fH,i=t.history,o=cf(),s=cf(),a=cf(),l=PM(Xa);let u=Xa;Vh&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=OS.bind(null,k=>""+k),h=OS.bind(null,s7),d=OS.bind(null,Wm);function f(k,Y){let G,R;return d2(k)?(G=e.getRecordMatcher(k),R=Y):R=k,e.addRoute(R,G)}function g(k){const Y=e.getRecordMatcher(k);Y&&e.removeRoute(Y)}function m(){return e.getRoutes().map(k=>k.record)}function p(k){return!!e.getRecordMatcher(k)}function y(k,Y){if(Y=_t({},Y||l.value),typeof k=="string"){const x=IS(n,k,Y.path),A=e.resolve({path:x.path},Y),D=i.createHref(x.fullPath);return _t(x,A,{params:d(A.params),hash:Wm(x.hash),redirectedFrom:void 0,href:D})}let G;if(k.path!=null)G=_t({},k,{path:IS(n,k.path,Y.path).path});else{const x=_t({},k.params);for(const A in x)x[A]==null&&delete x[A];G=_t({},k,{params:h(x)}),Y.params=h(Y.params)}const R=e.resolve(G,Y),M=k.hash||"";R.params=c(d(R.params));const v=u7(r,_t({},k,{hash:r7(M),path:R.path})),_=i.createHref(v);return _t({fullPath:v,hash:M,query:r===fH?F7(k.query):k.query||{}},R,{redirectedFrom:void 0,href:_})}function b(k){return typeof k=="string"?IS(n,k,l.value.path):_t({},k)}function T(k,Y){if(u!==k)return Md(8,{from:Y,to:k})}function E(k){return H(k)}function P(k){return E(_t(b(k),{replace:!0}))}function I(k){const Y=k.matched[k.matched.length-1];if(Y&&Y.redirect){const{redirect:G}=Y;let R=typeof G=="function"?G(k):G;return typeof R=="string"&&(R=R.includes("?")||R.includes("#")?R=b(R):{path:R},R.params={}),_t({query:k.query,hash:k.hash,params:R.path!=null?{}:k.params},R)}}function H(k,Y){const G=u=y(k),R=l.value,M=k.state,v=k.force,_=k.replace===!0,x=I(G);if(x)return H(_t(b(x),{state:typeof x=="object"?_t({},M,x.state):M,force:v,replace:_}),Y||G);const A=G;A.redirectedFrom=Y;let D;return!v&&c7(r,R,G)&&(D=Md(16,{to:A,from:R}),Re(R,R,!0,!1)),(D?Promise.resolve(D):j(A,R)).catch(O=>Ys(O)?Ys(O,2)?O:Ne(O):ce(O,A,R)).then(O=>{if(O){if(Ys(O,2))return H(_t({replace:_},b(O.to),{state:typeof O.to=="object"?_t({},M,O.to.state):M,force:v}),Y||A)}else O=Z(A,R,!0,_,M);return q(A,R,O),O})}function U(k,Y){const G=T(k,Y);return G?Promise.reject(G):Promise.resolve()}function K(k){const Y=C.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(k):k()}function j(k,Y){let G;const[R,M,v]=q7(k,Y);G=AS(R.reverse(),"beforeRouteLeave",k,Y);for(const x of R)x.leaveGuards.forEach(A=>{G.push(wl(A,k,Y))});const _=U.bind(null,k,Y);return G.push(_),B(G).then(()=>{G=[];for(const x of o.list())G.push(wl(x,k,Y));return G.push(_),B(G)}).then(()=>{G=AS(M,"beforeRouteUpdate",k,Y);for(const x of M)x.updateGuards.forEach(A=>{G.push(wl(A,k,Y))});return G.push(_),B(G)}).then(()=>{G=[];for(const x of v)if(x.beforeEnter)if(Do(x.beforeEnter))for(const A of x.beforeEnter)G.push(wl(A,k,Y));else G.push(wl(x.beforeEnter,k,Y));return G.push(_),B(G)}).then(()=>(k.matched.forEach(x=>x.enterCallbacks={}),G=AS(v,"beforeRouteEnter",k,Y,K),G.push(_),B(G))).then(()=>{G=[];for(const x of s.list())G.push(wl(x,k,Y));return G.push(_),B(G)}).catch(x=>Ys(x,8)?x:Promise.reject(x))}function q(k,Y,G){a.list().forEach(R=>K(()=>R(k,Y,G)))}function Z(k,Y,G,R,M){const v=T(k,Y);if(v)return v;const _=Y===Xa,x=Vh?history.state:{};G&&(R||_?i.replace(k.fullPath,_t({scroll:_&&x&&x.scroll},M)):i.push(k.fullPath,M)),l.value=k,Re(k,Y,G,_),Ne()}let ie;function ee(){ie||(ie=i.listen((k,Y,G)=>{if(!F.listening)return;const R=y(k),M=I(R);if(M){H(_t(M,{replace:!0,force:!0}),R).catch(Ug);return}u=R;const v=l.value;Vh&&w7(iH(v.fullPath,G.delta),fC()),j(R,v).catch(_=>Ys(_,12)?_:Ys(_,2)?(H(_t(b(_.to),{force:!0}),R).then(x=>{Ys(x,20)&&!G.delta&&G.type===Bm.pop&&i.go(-1,!1)}).catch(Ug),Promise.reject()):(G.delta&&i.go(-G.delta,!1),ce(_,R,v))).then(_=>{_=_||Z(R,v,!1),_&&(G.delta&&!Ys(_,8)?i.go(-G.delta,!1):G.type===Bm.pop&&Ys(_,20)&&i.go(-1,!1)),q(R,v,_)}).catch(Ug)}))}let re=cf(),pe=cf(),se;function ce(k,Y,G){Ne(k);const R=pe.list();return R.length?R.forEach(M=>M(k,Y,G)):console.error(k),Promise.reject(k)}function He(){return se&&l.value!==Xa?Promise.resolve():new Promise((k,Y)=>{re.add([k,Y])})}function Ne(k){return se||(se=!k,ee(),re.list().forEach(([Y,G])=>k?G(k):Y()),re.reset()),k}function Re(k,Y,G,R){const{scrollBehavior:M}=t;if(!Vh||!M)return Promise.resolve();const v=!G&&b7(iH(k.fullPath,0))||(R||!G)&&history.state&&history.state.scroll||null;return Cp().then(()=>M(k,Y,v)).then(_=>_&&v7(_)).catch(_=>ce(_,k,Y))}const w=k=>i.go(k);let S;const C=new Set,F={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:m,resolve:y,options:t,push:E,replace:P,go:w,back:()=>w(-1),forward:()=>w(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:pe.add,isReady:He,install(k){const Y=this;k.component("RouterLink",j7),k.component("RouterView",G7),k.config.globalProperties.$router=Y,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>cd(l)}),Vh&&!S&&l.value===Xa&&(S=!0,E(i.location).catch(M=>{}));const G={};for(const M in Xa)Object.defineProperty(G,M,{get:()=>l.value[M],enumerable:!0});k.provide(LM,Y),k.provide(p2,hj(G)),k.provide(iT,l);const R=k.unmount;C.add(k),k.unmount=function(){C.delete(k),C.size<1&&(u=Xa,ie&&ie(),ie=null,l.value=Xa,S=!1,se=!1),R()}}};function B(k){return k.reduce((Y,G)=>Y.then(()=>K(G)),Promise.resolve())}return F}function q7(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(u=>Td(u,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(u=>Td(u,l))||i.push(l))}return[n,r,i]}var bH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yH={},hf,CH;function Nn(){if(CH)return hf;CH=1;var t=function(e){return e&&e.Math===Math&&e};return hf=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof bH=="object"&&bH)||t(typeof hf=="object"&&hf)||function(){return this}()||Function("return this")(),hf}var HS={},kS,SH;function Jn(){return SH||(SH=1,kS=function(t){try{return!!t()}catch{return!0}}),kS}var NS,_H;function no(){if(_H)return NS;_H=1;var t=Jn();return NS=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),NS}var DS,RH;function gC(){if(RH)return DS;RH=1;var t=Jn();return DS=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),DS}var $S,EH;function Dn(){if(EH)return $S;EH=1;var t=gC(),e=Function.prototype.call;return $S=t?e.bind(e):function(){return e.apply(e,arguments)},$S}var LS={},xH;function X7(){if(xH)return LS;xH=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return LS.f=n?function(i){var o=e(this,i);return!!o&&o.enumerable}:t,LS}var FS,TH;function mC(){return TH||(TH=1,FS=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),FS}var VS,MH;function xn(){if(MH)return VS;MH=1;var t=gC(),e=Function.prototype,n=e.call,r=t&&e.bind.bind(n,n);return VS=t?r:function(i){return function(){return n.apply(i,arguments)}},VS}var WS,PH;function Lc(){if(PH)return WS;PH=1;var t=xn(),e=t({}.toString),n=t("".slice);return WS=function(r){return n(e(r),8,-1)},WS}var BS,OH;function Z7(){if(OH)return BS;OH=1;var t=xn(),e=Jn(),n=Lc(),r=Object,i=t("".split);return BS=e(function(){return!r("z").propertyIsEnumerable(0)})?function(o){return n(o)==="String"?i(o,""):r(o)}:r,BS}var jS,IH;function FM(){return IH||(IH=1,jS=function(t){return t==null}),jS}var US,AH;function Ep(){if(AH)return US;AH=1;var t=FM(),e=TypeError;return US=function(n){if(t(n))throw new e("Can't call method on "+n);return n},US}var zS,HH;function xp(){if(HH)return zS;HH=1;var t=Z7(),e=Ep();return zS=function(n){return t(e(n))},zS}var YS,kH;function $n(){if(kH)return YS;kH=1;var t=typeof document=="object"&&document.all;return YS=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},YS}var GS,NH;function ro(){if(NH)return GS;NH=1;var t=$n();return GS=function(e){return typeof e=="object"?e!==null:t(e)},GS}var KS,DH;function Wd(){if(DH)return KS;DH=1;var t=Nn(),e=$n(),n=function(r){return e(r)?r:void 0};return KS=function(r,i){return arguments.length<2?n(t[r]):t[r]&&t[r][i]},KS}var qS,$H;function Tp(){if($H)return qS;$H=1;var t=xn();return qS=t({}.isPrototypeOf),qS}var XS,LH;function pC(){if(LH)return XS;LH=1;var t=Nn(),e=t.navigator,n=e&&e.userAgent;return XS=n?String(n):"",XS}var ZS,FH;function J7(){if(FH)return ZS;FH=1;var t=Nn(),e=pC(),n=t.process,r=t.Deno,i=n&&n.versions||r&&r.version,o=i&&i.v8,s,a;return o&&(s=o.split("."),a=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&e&&(s=e.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=e.match(/Chrome\/(\d+)/),s&&(a=+s[1]))),ZS=a,ZS}var JS,VH;function VM(){if(VH)return JS;VH=1;var t=J7(),e=Jn(),n=Nn(),r=n.String;return JS=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),JS}var QS,WH;function v2(){if(WH)return QS;WH=1;var t=VM();return QS=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",QS}var e0,BH;function WM(){if(BH)return e0;BH=1;var t=Wd(),e=$n(),n=Tp(),r=v2(),i=Object;return e0=r?function(o){return typeof o=="symbol"}:function(o){var s=t("Symbol");return e(s)&&n(s.prototype,i(o))},e0}var t0,jH;function vC(){if(jH)return t0;jH=1;var t=String;return t0=function(e){try{return t(e)}catch{return"Object"}},t0}var n0,UH;function ai(){if(UH)return n0;UH=1;var t=$n(),e=vC(),n=TypeError;return n0=function(r){if(t(r))return r;throw new n(e(r)+" is not a function")},n0}var r0,zH;function Mp(){if(zH)return r0;zH=1;var t=ai(),e=FM();return r0=function(n,r){var i=n[r];return e(i)?void 0:t(i)},r0}var i0,YH;function Q7(){if(YH)return i0;YH=1;var t=Dn(),e=$n(),n=ro(),r=TypeError;return i0=function(i,o){var s,a;if(o==="string"&&e(s=i.toString)&&!n(a=t(s,i))||e(s=i.valueOf)&&!n(a=t(s,i))||o!=="string"&&e(s=i.toString)&&!n(a=t(s,i)))return a;throw new r("Can't convert object to primitive value")},i0}var o0={exports:{}},s0,GH;function Zl(){return GH||(GH=1,s0=!1),s0}var a0,KH;function BM(){if(KH)return a0;KH=1;var t=Nn(),e=Object.defineProperty;return a0=function(n,r){try{e(t,n,{value:r,configurable:!0,writable:!0})}catch{t[n]=r}return r},a0}var qH;function jM(){if(qH)return o0.exports;qH=1;var t=Zl(),e=Nn(),n=BM(),r="__core-js_shared__",i=o0.exports=e[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.42.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"}),o0.exports}var l0,XH;function w2(){if(XH)return l0;XH=1;var t=jM();return l0=function(e,n){return t[e]||(t[e]=n||{})},l0}var u0,ZH;function Bd(){if(ZH)return u0;ZH=1;var t=Ep(),e=Object;return u0=function(n){return e(t(n))},u0}var c0,JH;function io(){if(JH)return c0;JH=1;var t=xn(),e=Bd(),n=t({}.hasOwnProperty);return c0=Object.hasOwn||function(i,o){return n(e(i),o)},c0}var h0,QH;function b2(){if(QH)return h0;QH=1;var t=xn(),e=0,n=Math.random(),r=t(1 .toString);return h0=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+n,36)},h0}var d0,ek;function Wo(){if(ek)return d0;ek=1;var t=Nn(),e=w2(),n=io(),r=b2(),i=VM(),o=v2(),s=t.Symbol,a=e("wks"),l=o?s.for||s:s&&s.withoutSetter||r;return d0=function(u){return n(a,u)||(a[u]=i&&n(s,u)?s[u]:l("Symbol."+u)),a[u]},d0}var f0,tk;function e9(){if(tk)return f0;tk=1;var t=Dn(),e=ro(),n=WM(),r=Mp(),i=Q7(),o=Wo(),s=TypeError,a=o("toPrimitive");return f0=function(l,u){if(!e(l)||n(l))return l;var c=r(l,a),h;if(c){if(u===void 0&&(u="default"),h=t(c,l,u),!e(h)||n(h))return h;throw new s("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},f0}var g0,nk;function y2(){if(nk)return g0;nk=1;var t=e9(),e=WM();return g0=function(n){var r=t(n,"string");return e(r)?r:r+""},g0}var m0,rk;function UM(){if(rk)return m0;rk=1;var t=Nn(),e=ro(),n=t.document,r=e(n)&&e(n.createElement);return m0=function(i){return r?n.createElement(i):{}},m0}var p0,ik;function C2(){if(ik)return p0;ik=1;var t=no(),e=Jn(),n=UM();return p0=!t&&!e(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),p0}var ok;function S2(){if(ok)return HS;ok=1;var t=no(),e=Dn(),n=X7(),r=mC(),i=xp(),o=y2(),s=io(),a=C2(),l=Object.getOwnPropertyDescriptor;return HS.f=t?l:function(c,h){if(c=i(c),h=o(h),a)try{return l(c,h)}catch{}if(s(c,h))return r(!e(n.f,c,h),c[h])},HS}var v0={},w0,sk;function _2(){if(sk)return w0;sk=1;var t=no(),e=Jn();return w0=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),w0}var b0,ak;function Ln(){if(ak)return b0;ak=1;var t=ro(),e=String,n=TypeError;return b0=function(r){if(t(r))return r;throw new n(e(r)+" is not an object")},b0}var lk;function Jl(){if(lk)return v0;lk=1;var t=no(),e=C2(),n=_2(),r=Ln(),i=y2(),o=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return v0.f=t?n?function(d,f,g){if(r(d),f=i(f),r(g),typeof d=="function"&&f==="prototype"&&"value"in g&&c in g&&!g[c]){var m=a(d,f);m&&m[c]&&(d[f]=g.value,g={configurable:u in g?g[u]:m[u],enumerable:l in g?g[l]:m[l],writable:!1})}return s(d,f,g)}:s:function(d,f,g){if(r(d),f=i(f),r(g),e)try{return s(d,f,g)}catch{}if("get"in g||"set"in g)throw new o("Accessors not supported");return"value"in g&&(d[f]=g.value),d},v0}var y0,uk;function jd(){if(uk)return y0;uk=1;var t=no(),e=Jl(),n=mC();return y0=t?function(r,i,o){return e.f(r,i,n(1,o))}:function(r,i,o){return r[i]=o,r},y0}var C0={exports:{}},S0,ck;function t9(){if(ck)return S0;ck=1;var t=no(),e=io(),n=Function.prototype,r=t&&Object.getOwnPropertyDescriptor,i=e(n,"name"),o=i&&(function(){}).name==="something",s=i&&(!t||t&&r(n,"name").configurable);return S0={EXISTS:i,PROPER:o,CONFIGURABLE:s},S0}var _0,hk;function n9(){if(hk)return _0;hk=1;var t=xn(),e=$n(),n=jM(),r=t(Function.toString);return e(n.inspectSource)||(n.inspectSource=function(i){return r(i)}),_0=n.inspectSource,_0}var R0,dk;function r9(){if(dk)return R0;dk=1;var t=Nn(),e=$n(),n=t.WeakMap;return R0=e(n)&&/native code/.test(String(n)),R0}var E0,fk;function zM(){if(fk)return E0;fk=1;var t=w2(),e=b2(),n=t("keys");return E0=function(r){return n[r]||(n[r]=e(r))},E0}var x0,gk;function YM(){return gk||(gk=1,x0={}),x0}var T0,mk;function R2(){if(mk)return T0;mk=1;var t=r9(),e=Nn(),n=ro(),r=jd(),i=io(),o=jM(),s=zM(),a=YM(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,h,d,f,g=function(b){return f(b)?d(b):h(b,{})},m=function(b){return function(T){var E;if(!n(T)||(E=d(T)).type!==b)throw new u("Incompatible receiver, "+b+" required");return E}};if(t||o.state){var p=o.state||(o.state=new c);p.get=p.get,p.has=p.has,p.set=p.set,h=function(b,T){if(p.has(b))throw new u(l);return T.facade=b,p.set(b,T),T},d=function(b){return p.get(b)||{}},f=function(b){return p.has(b)}}else{var y=s("state");a[y]=!0,h=function(b,T){if(i(b,y))throw new u(l);return T.facade=b,r(b,y,T),T},d=function(b){return i(b,y)?b[y]:{}},f=function(b){return i(b,y)}}return T0={set:h,get:d,has:f,enforce:g,getterFor:m},T0}var pk;function E2(){if(pk)return C0.exports;pk=1;var t=xn(),e=Jn(),n=$n(),r=io(),i=no(),o=t9().CONFIGURABLE,s=n9(),a=R2(),l=a.enforce,u=a.get,c=String,h=Object.defineProperty,d=t("".slice),f=t("".replace),g=t([].join),m=i&&!e(function(){return h(function(){},"length",{value:8}).length!==8}),p=String(String).split("String"),y=C0.exports=function(b,T,E){d(c(T),0,7)==="Symbol("&&(T="["+f(c(T),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),E&&E.getter&&(T="get "+T),E&&E.setter&&(T="set "+T),(!r(b,"name")||o&&b.name!==T)&&(i?h(b,"name",{value:T,configurable:!0}):b.name=T),m&&E&&r(E,"arity")&&b.length!==E.arity&&h(b,"length",{value:E.arity});try{E&&r(E,"constructor")&&E.constructor?i&&h(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var P=l(b);return r(P,"source")||(P.source=g(p,typeof T=="string"?T:"")),b};return Function.prototype.toString=y(function(){return n(this)&&u(this).source||s(this)},"toString"),C0.exports}var M0,vk;function GM(){if(vk)return M0;vk=1;var t=$n(),e=Jl(),n=E2(),r=BM();return M0=function(i,o,s,a){a||(a={});var l=a.enumerable,u=a.name!==void 0?a.name:o;if(t(s)&&n(s,u,a),a.global)l?i[o]=s:r(o,s);else{try{a.unsafe?i[o]&&(l=!0):delete i[o]}catch{}l?i[o]=s:e.f(i,o,{value:s,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return i},M0}var P0={},O0,wk;function i9(){if(wk)return O0;wk=1;var t=Math.ceil,e=Math.floor;return O0=Math.trunc||function(r){var i=+r;return(i>0?e:t)(i)},O0}var I0,bk;function Pp(){if(bk)return I0;bk=1;var t=i9();return I0=function(e){var n=+e;return n!==n||n===0?0:t(n)},I0}var A0,yk;function o9(){if(yk)return A0;yk=1;var t=Pp(),e=Math.max,n=Math.min;return A0=function(r,i){var o=t(r);return o<0?e(o+i,0):n(o,i)},A0}var H0,Ck;function s9(){if(Ck)return H0;Ck=1;var t=Pp(),e=Math.min;return H0=function(n){var r=t(n);return r>0?e(r,9007199254740991):0},H0}var k0,Sk;function Ud(){if(Sk)return k0;Sk=1;var t=s9();return k0=function(e){return t(e.length)},k0}var N0,_k;function a9(){if(_k)return N0;_k=1;var t=xp(),e=o9(),n=Ud(),r=function(i){return function(o,s,a){var l=t(o),u=n(l);if(u===0)return!i&&-1;var c=e(a,u),h;if(i&&s!==s){for(;u>c;)if(h=l[c++],h!==h)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===s)return i||c||0;return!i&&-1}};return N0={includes:r(!0),indexOf:r(!1)},N0}var D0,Rk;function x2(){if(Rk)return D0;Rk=1;var t=xn(),e=io(),n=xp(),r=a9().indexOf,i=YM(),o=t([].push);return D0=function(s,a){var l=n(s),u=0,c=[],h;for(h in l)!e(i,h)&&e(l,h)&&o(c,h);for(;a.length>u;)e(l,h=a[u++])&&(~r(c,h)||o(c,h));return c},D0}var $0,Ek;function KM(){return Ek||(Ek=1,$0=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),$0}var xk;function l9(){if(xk)return P0;xk=1;var t=x2(),e=KM(),n=e.concat("length","prototype");return P0.f=Object.getOwnPropertyNames||function(i){return t(i,n)},P0}var L0={},Tk;function u9(){return Tk||(Tk=1,L0.f=Object.getOwnPropertySymbols),L0}var F0,Mk;function c9(){if(Mk)return F0;Mk=1;var t=Wd(),e=xn(),n=l9(),r=u9(),i=Ln(),o=e([].concat);return F0=t("Reflect","ownKeys")||function(a){var l=n.f(i(a)),u=r.f;return u?o(l,u(a)):l},F0}var V0,Pk;function T2(){if(Pk)return V0;Pk=1;var t=io(),e=c9(),n=S2(),r=Jl();return V0=function(i,o,s){for(var a=e(o),l=r.f,u=n.f,c=0;c<a.length;c++){var h=a[c];!t(i,h)&&!(s&&t(s,h))&&l(i,h,u(o,h))}},V0}var W0,Ok;function h9(){if(Ok)return W0;Ok=1;var t=Jn(),e=$n(),n=/#|\.prototype\./,r=function(l,u){var c=o[i(l)];return c===a?!0:c===s?!1:e(u)?t(u):!!u},i=r.normalize=function(l){return String(l).replace(n,".").toLowerCase()},o=r.data={},s=r.NATIVE="N",a=r.POLYFILL="P";return W0=r,W0}var B0,Ik;function $t(){if(Ik)return B0;Ik=1;var t=Nn(),e=S2().f,n=jd(),r=GM(),i=BM(),o=T2(),s=h9();return B0=function(a,l){var u=a.target,c=a.global,h=a.stat,d,f,g,m,p,y;if(c?f=t:h?f=t[u]||i(u,{}):f=t[u]&&t[u].prototype,f)for(g in l){if(p=l[g],a.dontCallGetSet?(y=e(f,g),m=y&&y.value):m=f[g],d=s(c?g:u+(h?".":"#")+g,a.forced),!d&&m!==void 0){if(typeof p==typeof m)continue;o(p,m)}(a.sham||m&&m.sham)&&n(p,"sham",!0),r(f,g,p,a)}},B0}var j0,Ak;function Op(){if(Ak)return j0;Ak=1;var t=gC(),e=Function.prototype,n=e.apply,r=e.call;return j0=typeof Reflect=="object"&&Reflect.apply||(t?r.bind(n):function(){return r.apply(n,arguments)}),j0}var U0,Hk;function M2(){if(Hk)return U0;Hk=1;var t=xn(),e=ai();return U0=function(n,r,i){try{return t(e(Object.getOwnPropertyDescriptor(n,r)[i]))}catch{}},U0}var z0,kk;function d9(){if(kk)return z0;kk=1;var t=ro();return z0=function(e){return t(e)||e===null},z0}var Y0,Nk;function f9(){if(Nk)return Y0;Nk=1;var t=d9(),e=String,n=TypeError;return Y0=function(r){if(t(r))return r;throw new n("Can't set "+e(r)+" as a prototype")},Y0}var G0,Dk;function P2(){if(Dk)return G0;Dk=1;var t=M2(),e=ro(),n=Ep(),r=f9();return G0=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,o={},s;try{s=t(Object.prototype,"__proto__","set"),s(o,[]),i=o instanceof Array}catch{}return function(l,u){return n(l),r(u),e(l)&&(i?s(l,u):l.__proto__=u),l}}():void 0),G0}var K0,$k;function g9(){if($k)return K0;$k=1;var t=Jl().f;return K0=function(e,n,r){r in e||t(e,r,{configurable:!0,get:function(){return n[r]},set:function(i){n[r]=i}})},K0}var q0,Lk;function m9(){if(Lk)return q0;Lk=1;var t=$n(),e=ro(),n=P2();return q0=function(r,i,o){var s,a;return n&&t(s=i.constructor)&&s!==o&&e(a=s.prototype)&&a!==o.prototype&&n(r,a),r},q0}var X0,Fk;function p9(){if(Fk)return X0;Fk=1;var t=Wo(),e=t("toStringTag"),n={};return n[e]="z",X0=String(n)==="[object z]",X0}var Z0,Vk;function O2(){if(Vk)return Z0;Vk=1;var t=p9(),e=$n(),n=Lc(),r=Wo(),i=r("toStringTag"),o=Object,s=n(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return Z0=t?n:function(l){var u,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=a(u=o(l),i))=="string"?c:s?n(u):(h=n(u))==="Object"&&e(u.callee)?"Arguments":h},Z0}var J0,Wk;function wC(){if(Wk)return J0;Wk=1;var t=O2(),e=String;return J0=function(n){if(t(n)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(n)},J0}var Q0,Bk;function v9(){if(Bk)return Q0;Bk=1;var t=wC();return Q0=function(e,n){return e===void 0?arguments.length<2?"":n:t(e)},Q0}var e_,jk;function w9(){if(jk)return e_;jk=1;var t=ro(),e=jd();return e_=function(n,r){t(r)&&"cause"in r&&e(n,"cause",r.cause)},e_}var t_,Uk;function b9(){if(Uk)return t_;Uk=1;var t=xn(),e=Error,n=t("".replace),r=function(s){return String(new e(s).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,o=i.test(r);return t_=function(s,a){if(o&&typeof s=="string"&&!e.prepareStackTrace)for(;a--;)s=n(s,i,"");return s},t_}var n_,zk;function y9(){if(zk)return n_;zk=1;var t=Jn(),e=mC();return n_=!t(function(){var n=new Error("a");return"stack"in n?(Object.defineProperty(n,"stack",e(1,7)),n.stack!==7):!0}),n_}var r_,Yk;function C9(){if(Yk)return r_;Yk=1;var t=jd(),e=b9(),n=y9(),r=Error.captureStackTrace;return r_=function(i,o,s,a){n&&(r?r(i,o):t(i,"stack",e(s,a)))},r_}var i_,Gk;function S9(){if(Gk)return i_;Gk=1;var t=Wd(),e=io(),n=jd(),r=Tp(),i=P2(),o=T2(),s=g9(),a=m9(),l=v9(),u=w9(),c=C9(),h=no(),d=Zl();return i_=function(f,g,m,p){var y="stackTraceLimit",b=p?2:1,T=f.split("."),E=T[T.length-1],P=t.apply(null,T);if(P){var I=P.prototype;if(!d&&e(I,"cause")&&delete I.cause,!m)return P;var H=t("Error"),U=g(function(K,j){var q=l(p?j:K,void 0),Z=p?new P(K):new P;return q!==void 0&&n(Z,"message",q),c(Z,U,Z.stack,2),this&&r(I,this)&&a(Z,this,U),arguments.length>b&&u(Z,arguments[b]),Z});if(U.prototype=I,E!=="Error"?i?i(U,H):o(U,H,{name:!0}):h&&y in P&&(s(U,P,y),s(U,P,"prepareStackTrace")),o(U,P),!d)try{I.name!==E&&n(I,"name",E),I.constructor=U}catch{}return U}},i_}var Kk;function _9(){if(Kk)return yH;Kk=1;var t=$t(),e=Nn(),n=Op(),r=S9(),i="WebAssembly",o=e[i],s=new Error("e",{cause:7}).cause!==7,a=function(u,c){var h={};h[u]=r(u,c,s),t({global:!0,constructor:!0,arity:1,forced:s},h)},l=function(u,c){if(o&&o[u]){var h={};h[u]=r(i+"."+u,c,s),t({target:i,stat:!0,constructor:!0,arity:1,forced:s},h)}};return a("Error",function(u){return function(h){return n(u,this,arguments)}}),a("EvalError",function(u){return function(h){return n(u,this,arguments)}}),a("RangeError",function(u){return function(h){return n(u,this,arguments)}}),a("ReferenceError",function(u){return function(h){return n(u,this,arguments)}}),a("SyntaxError",function(u){return function(h){return n(u,this,arguments)}}),a("TypeError",function(u){return function(h){return n(u,this,arguments)}}),a("URIError",function(u){return function(h){return n(u,this,arguments)}}),l("CompileError",function(u){return function(h){return n(u,this,arguments)}}),l("LinkError",function(u){return function(h){return n(u,this,arguments)}}),l("RuntimeError",function(u){return function(h){return n(u,this,arguments)}}),yH}_9();var qk={},o_,Xk;function I2(){if(Xk)return o_;Xk=1;var t=Lc();return o_=Array.isArray||function(n){return t(n)==="Array"},o_}var s_,Zk;function A2(){if(Zk)return s_;Zk=1;var t=no(),e=I2(),n=TypeError,r=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();return s_=i?function(o,s){if(e(o)&&!r(o,"length").writable)throw new n("Cannot set read only .length");return o.length=s}:function(o,s){return o.length=s},s_}var a_,Jk;function H2(){if(Jk)return a_;Jk=1;var t=TypeError,e=9007199254740991;return a_=function(n){if(n>e)throw t("Maximum allowed index exceeded");return n},a_}var Qk;function R9(){if(Qk)return qk;Qk=1;var t=$t(),e=Bd(),n=Ud(),r=A2(),i=H2(),o=Jn(),s=o(function(){return[].push.call({length:4294967296},1)!==4294967297}),a=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(u){return u instanceof TypeError}},l=s||!a();return t({target:"Array",proto:!0,arity:1,forced:l},{push:function(c){var h=e(this),d=n(h),f=arguments.length;i(d+f);for(var g=0;g<f;g++)h[d]=arguments[g],d++;return r(h,d),d}}),qk}R9();var eN={},tN={},l_,nN;function E9(){if(nN)return l_;nN=1;var t=Tp(),e=TypeError;return l_=function(n,r){if(t(r,n))return n;throw new e("Incorrect invocation")},l_}var u_,rN;function x9(){if(rN)return u_;rN=1;var t=Jn();return u_=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),u_}var c_,iN;function k2(){if(iN)return c_;iN=1;var t=io(),e=$n(),n=Bd(),r=zM(),i=x9(),o=r("IE_PROTO"),s=Object,a=s.prototype;return c_=i?s.getPrototypeOf:function(l){var u=n(l);if(t(u,o))return u[o];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof s?a:null},c_}var h_,oN;function T9(){if(oN)return h_;oN=1;var t=E2(),e=Jl();return h_=function(n,r,i){return i.get&&t(i.get,r,{getter:!0}),i.set&&t(i.set,r,{setter:!0}),e.f(n,r,i)},h_}var d_,sN;function N2(){if(sN)return d_;sN=1;var t=no(),e=Jl(),n=mC();return d_=function(r,i,o){t?e.f(r,i,n(0,o)):r[i]=o},d_}var f_={},g_,aN;function M9(){if(aN)return g_;aN=1;var t=x2(),e=KM();return g_=Object.keys||function(r){return t(r,e)},g_}var lN;function P9(){if(lN)return f_;lN=1;var t=no(),e=_2(),n=Jl(),r=Ln(),i=xp(),o=M9();return f_.f=t&&!e?Object.defineProperties:function(a,l){r(a);for(var u=i(l),c=o(l),h=c.length,d=0,f;h>d;)n.f(a,f=c[d++],u[f]);return a},f_}var m_,uN;function D2(){if(uN)return m_;uN=1;var t=Wd();return m_=t("document","documentElement"),m_}var p_,cN;function qM(){if(cN)return p_;cN=1;var t=Ln(),e=P9(),n=KM(),r=YM(),i=D2(),o=UM(),s=zM(),a=">",l="<",u="prototype",c="script",h=s("IE_PROTO"),d=function(){},f=function(b){return l+c+a+b+l+"/"+c+a},g=function(b){b.write(f("")),b.close();var T=b.parentWindow.Object;return b=null,T},m=function(){var b=o("iframe"),T="java"+c+":",E;return b.style.display="none",i.appendChild(b),b.src=String(T),E=b.contentWindow.document,E.open(),E.write(f("document.F=Object")),E.close(),E.F},p,y=function(){try{p=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&p?g(p):m():g(p);for(var b=n.length;b--;)delete y[u][n[b]];return y()};return r[h]=!0,p_=Object.create||function(T,E){var P;return T!==null?(d[u]=t(T),P=new d,d[u]=null,P[h]=T):P=y(),E===void 0?P:e.f(P,E)},p_}var v_,hN;function $2(){if(hN)return v_;hN=1;var t=Jn(),e=$n(),n=ro(),r=qM(),i=k2(),o=GM(),s=Wo(),a=Zl(),l=s("iterator"),u=!1,c,h,d;[].keys&&(d=[].keys(),"next"in d?(h=i(i(d)),h!==Object.prototype&&(c=h)):u=!0);var f=!n(c)||t(function(){var g={};return c[l].call(g)!==g});return f?c={}:a&&(c=r(c)),e(c[l])||o(c,l,function(){return this}),v_={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},v_}var dN;function O9(){if(dN)return tN;dN=1;var t=$t(),e=Nn(),n=E9(),r=Ln(),i=$n(),o=k2(),s=T9(),a=N2(),l=Jn(),u=io(),c=Wo(),h=$2().IteratorPrototype,d=no(),f=Zl(),g="constructor",m="Iterator",p=c("toStringTag"),y=TypeError,b=e[m],T=f||!i(b)||b.prototype!==h||!l(function(){b({})}),E=function(){if(n(this,h),o(this)===h)throw new y("Abstract class Iterator not directly constructable")},P=function(I,H){d?s(h,I,{configurable:!0,get:function(){return H},set:function(U){if(r(this),this===h)throw new y("You can't redefine this property");u(this,I)?this[I]=U:a(this,I,U)}}):h[I]=H};return u(h,p)||P(p,m),(T||!u(h,g)||h[g]===Object)&&P(g,E),E.prototype=h,t({global:!0,constructor:!0,forced:T},{Iterator:E}),tN}var fN;function I9(){return fN||(fN=1,O9()),eN}I9();var gN={},mN={},w_,pN;function Ls(){return pN||(pN=1,w_=function(t){return{iterator:t,next:t.next,done:!1}}),w_}var b_,vN;function A9(){if(vN)return b_;vN=1;var t=GM();return b_=function(e,n,r){for(var i in n)t(e,i,n[i],r);return e},b_}var y_,wN;function H9(){return wN||(wN=1,y_=function(t,e){return{value:t,done:e}}),y_}var C_,bN;function Ti(){if(bN)return C_;bN=1;var t=Dn(),e=Ln(),n=Mp();return C_=function(r,i,o){var s,a;e(r);try{if(s=n(r,"return"),!s){if(i==="throw")throw o;return o}s=t(s,r)}catch(l){a=!0,s=l}if(i==="throw")throw o;if(a)throw s;return e(s),o},C_}var S_,yN;function XM(){if(yN)return S_;yN=1;var t=Dn(),e=qM(),n=jd(),r=A9(),i=Wo(),o=R2(),s=Mp(),a=$2().IteratorPrototype,l=H9(),u=Ti(),c=i("toStringTag"),h="IteratorHelper",d="WrapForValidIterator",f=o.set,g=function(y){var b=o.getterFor(y?d:h);return r(e(a),{next:function(){var E=b(this);if(y)return E.nextHandler();if(E.done)return l(void 0,!0);try{var P=E.nextHandler();return E.returnHandlerResult?P:l(P,E.done)}catch(I){throw E.done=!0,I}},return:function(){var T=b(this),E=T.iterator;if(T.done=!0,y){var P=s(E,"return");return P?t(P,E):l(void 0,!0)}if(T.inner)try{u(T.inner.iterator,"normal")}catch(I){return u(E,"throw",I)}return E&&u(E,"normal"),l(void 0,!0)}})},m=g(!0),p=g(!1);return n(p,c,"Iterator Helper"),S_=function(y,b,T){var E=function(I,H){H?(H.iterator=I.iterator,H.next=I.next):H=I,H.type=b?d:h,H.returnHandlerResult=!!T,H.nextHandler=y,H.counter=0,H.done=!1,f(this,H)};return E.prototype=b?m:p,E},S_}var __,CN;function L2(){if(CN)return __;CN=1;var t=Ln(),e=Ti();return __=function(n,r,i,o){try{return o?r(t(i)[0],i[1]):r(i)}catch(s){e(n,"throw",s)}},__}var R_,SN;function Ql(){if(SN)return R_;SN=1;var t=Nn();return R_=function(e,n){var r=t.Iterator,i=r&&r.prototype,o=i&&i[e],s=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){s=!0}},-1)}catch(a){a instanceof n||(s=!1)}if(!s)return o},R_}var _N;function k9(){if(_N)return mN;_N=1;var t=$t(),e=Dn(),n=ai(),r=Ln(),i=Ls(),o=XM(),s=L2(),a=Zl(),l=Ti(),u=Ql(),c=!a&&u("filter",TypeError),h=o(function(){for(var d=this.iterator,f=this.predicate,g=this.next,m,p,y;;){if(m=r(e(g,d)),p=this.done=!!m.done,p)return;if(y=m.value,s(d,f,[y,this.counter++],!0))return y}});return t({target:"Iterator",proto:!0,real:!0,forced:a||c},{filter:function(f){r(this);try{n(f)}catch(g){l(this,"throw",g)}return c?e(c,this,f):new h(i(this),{predicate:f})}}),mN}var RN;function N9(){return RN||(RN=1,k9()),gN}N9();var EN={},xN={},E_,TN;function D9(){if(TN)return E_;TN=1;var t=Lc(),e=xn();return E_=function(n){if(t(n)==="Function")return e(n)},E_}var x_,MN;function F2(){if(MN)return x_;MN=1;var t=D9(),e=ai(),n=gC(),r=t(t.bind);return x_=function(i,o){return e(i),o===void 0?i:n?r(i,o):function(){return i.apply(o,arguments)}},x_}var T_,PN;function V2(){return PN||(PN=1,T_={}),T_}var M_,ON;function $9(){if(ON)return M_;ON=1;var t=Wo(),e=V2(),n=t("iterator"),r=Array.prototype;return M_=function(i){return i!==void 0&&(e.Array===i||r[n]===i)},M_}var P_,IN;function ZM(){if(IN)return P_;IN=1;var t=O2(),e=Mp(),n=FM(),r=V2(),i=Wo(),o=i("iterator");return P_=function(s){if(!n(s))return e(s,o)||e(s,"@@iterator")||r[t(s)]},P_}var O_,AN;function L9(){if(AN)return O_;AN=1;var t=Dn(),e=ai(),n=Ln(),r=vC(),i=ZM(),o=TypeError;return O_=function(s,a){var l=arguments.length<2?i(s):a;if(e(l))return n(t(l,s));throw new o(r(s)+" is not iterable")},O_}var I_,HN;function zd(){if(HN)return I_;HN=1;var t=F2(),e=Dn(),n=Ln(),r=vC(),i=$9(),o=Ud(),s=Tp(),a=L9(),l=ZM(),u=Ti(),c=TypeError,h=function(f,g){this.stopped=f,this.result=g},d=h.prototype;return I_=function(f,g,m){var p=m&&m.that,y=!!(m&&m.AS_ENTRIES),b=!!(m&&m.IS_RECORD),T=!!(m&&m.IS_ITERATOR),E=!!(m&&m.INTERRUPTED),P=t(g,p),I,H,U,K,j,q,Z,ie=function(re){return I&&u(I,"normal",re),new h(!0,re)},ee=function(re){return y?(n(re),E?P(re[0],re[1],ie):P(re[0],re[1])):E?P(re,ie):P(re)};if(b)I=f.iterator;else if(T)I=f;else{if(H=l(f),!H)throw new c(r(f)+" is not iterable");if(i(H)){for(U=0,K=o(f);K>U;U++)if(j=ee(f[U]),j&&s(d,j))return j;return new h(!1)}I=a(f,H)}for(q=b?f.next:I.next;!(Z=e(q,I)).done;){try{j=ee(Z.value)}catch(re){u(I,"throw",re)}if(typeof j=="object"&&j&&s(d,j))return j}return new h(!1)},I_}var kN;function F9(){if(kN)return xN;kN=1;var t=$t(),e=Dn(),n=zd(),r=ai(),i=Ln(),o=Ls(),s=Ti(),a=Ql(),l=a("find",TypeError);return t({target:"Iterator",proto:!0,real:!0,forced:l},{find:function(c){i(this);try{r(c)}catch(f){s(this,"throw",f)}if(l)return e(l,this,c);var h=o(this),d=0;return n(h,function(f,g){if(c(f,d++))return g(f)},{IS_RECORD:!0,INTERRUPTED:!0}).result}}),xN}var NN;function V9(){return NN||(NN=1,F9()),EN}V9();var DN={},$N={},LN;function W9(){if(LN)return $N;LN=1;var t=$t(),e=zd(),n=ai(),r=Ln(),i=Ls(),o=Ti(),s=Ql(),a=Op(),l=Jn(),u=TypeError,c=l(function(){[].keys().reduce(function(){},void 0)}),h=!c&&s("reduce",u);return t({target:"Iterator",proto:!0,real:!0,forced:c||h},{reduce:function(f){r(this);try{n(f)}catch(b){o(this,"throw",b)}var g=arguments.length<2,m=g?void 0:arguments[1];if(h)return a(h,this,g?[f]:[f,m]);var p=i(this),y=0;if(e(p,function(b){g?(g=!1,m=b):m=f(m,b,y),y++},{IS_RECORD:!0}),g)throw new u("Reduce of empty iterator with no initial value");return m}}),$N}var FN;function B9(){return FN||(FN=1,W9()),DN}B9();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var W2;function ne(){return W2.apply(null,arguments)}function j9(t){W2=t}function $o(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function vc(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function JM(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(mt(t,e))return!1;return!0}function Jr(t){return t===void 0}function Fa(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Ip(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function B2(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Ol(t,e){for(var n in e)mt(e,n)&&(t[n]=e[n]);return mt(e,"toString")&&(t.toString=e.toString),mt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Fs(t,e,n,r){return hU(t,e,n,r,!0).utc()}function U9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Be(t){return t._pf==null&&(t._pf=U9()),t._pf}var oT;Array.prototype.some?oT=Array.prototype.some:oT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function QM(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Be(t),n=oT.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function bC(t){var e=Fs(NaN);return t!=null?Ol(Be(e),t):Be(e).userInvalidated=!0,e}var VN=ne.momentProperties=[],A_=!1;function e1(t,e){var n,r,i,o=VN.length;if(Jr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Jr(e._i)||(t._i=e._i),Jr(e._f)||(t._f=e._f),Jr(e._l)||(t._l=e._l),Jr(e._strict)||(t._strict=e._strict),Jr(e._tzm)||(t._tzm=e._tzm),Jr(e._isUTC)||(t._isUTC=e._isUTC),Jr(e._offset)||(t._offset=e._offset),Jr(e._pf)||(t._pf=Be(e)),Jr(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=VN[n],i=e[r],Jr(i)||(t[r]=i);return t}function Ap(t){e1(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A_===!1&&(A_=!0,ne.updateOffset(this),A_=!1)}function Lo(t){return t instanceof Ap||t!=null&&t._isAMomentObject!=null}function j2(t){ne.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function oo(t,e){var n=!0;return Ol(function(){if(ne.deprecationHandler!=null&&ne.deprecationHandler(null,t),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])mt(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}j2(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var WN={};function U2(t,e){ne.deprecationHandler!=null&&ne.deprecationHandler(t,e),WN[t]||(j2(e),WN[t]=!0)}ne.suppressDeprecationWarnings=!1;ne.deprecationHandler=null;function Vs(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function z9(t){var e,n;for(n in t)mt(t,n)&&(e=t[n],Vs(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function sT(t,e){var n=Ol({},t),r;for(r in e)mt(e,r)&&(vc(t[r])&&vc(e[r])?(n[r]={},Ol(n[r],t[r]),Ol(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)mt(t,r)&&!mt(e,r)&&vc(t[r])&&(n[r]=Ol({},n[r]));return n}function t1(t){t!=null&&this.set(t)}var aT;Object.keys?aT=Object.keys:aT=function(t){var e,n=[];for(e in t)mt(t,e)&&n.push(e);return n};var Y9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G9(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Vs(r)?r.call(e,n):r}function Ds(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var n1=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,av=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H_={},md={};function Pe(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(md[t]=i),e&&(md[e[0]]=function(){return Ds(i.apply(this,arguments),e[1],e[2])}),n&&(md[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function K9(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q9(t){var e=t.match(n1),n,r;for(n=0,r=e.length;n<r;n++)md[e[n]]?e[n]=md[e[n]]:e[n]=K9(e[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=Vs(e[s])?e[s].call(i,t):e[s];return o}}function fb(t,e){return t.isValid()?(e=z2(e,t.localeData()),H_[e]=H_[e]||q9(e),H_[e](t)):t.localeData().invalidDate()}function z2(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(av.lastIndex=0;n>=0&&av.test(t);)t=t.replace(av,r),av.lastIndex=0,n-=1;return t}var X9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z9(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(n1).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var J9="Invalid date";function Q9(){return this._invalidDate}var eX="%d",tX=/\d{1,2}/;function nX(t){return this._ordinal.replace("%d",t)}var rX={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function iX(t,e,n,r){var i=this._relativeTime[n];return Vs(i)?i(t,e,n,r):i.replace(/%d/i,t)}function oX(t,e){var n=this._relativeTime[t>0?"future":"past"];return Vs(n)?n(e):n.replace(/%s/i,e)}var BN={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function so(t){return typeof t=="string"?BN[t]||BN[t.toLowerCase()]:void 0}function r1(t){var e={},n,r;for(r in t)mt(t,r)&&(n=so(r),n&&(e[n]=t[r]));return e}var sX={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function aX(t){var e=[],n;for(n in t)mt(t,n)&&e.push({unit:n,priority:sX[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var Y2=/\d/,Mi=/\d\d/,G2=/\d{3}/,i1=/\d{4}/,yC=/[+-]?\d{6}/,Zt=/\d\d?/,K2=/\d\d\d\d?/,q2=/\d\d\d\d\d\d?/,CC=/\d{1,3}/,o1=/\d{1,4}/,SC=/[+-]?\d{1,6}/,Yd=/\d+/,_C=/[+-]?\d+/,lX=/Z|[+-]\d\d:?\d\d/gi,RC=/Z|[+-]\d\d(?::?\d\d)?/gi,uX=/[+-]?\d+(\.\d{1,3})?/,Hp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Gd=/^[1-9]\d?/,s1=/^([1-9]\d|\d)/,Zb;Zb={};function be(t,e,n){Zb[t]=Vs(e)?e:function(r,i){return r&&n?n:e}}function cX(t,e){return mt(Zb,t)?Zb[t](e._strict,e._locale):new RegExp(hX(t))}function hX(t){return Da(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function Da(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ji(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function rt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=ji(e)),n}var lT={};function Ht(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Fa(e)&&(r=function(o,s){s[e]=rt(o)}),i=t.length,n=0;n<i;n++)lT[t[n]]=r}function kp(t,e){Ht(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function dX(t,e,n){e!=null&&mt(lT,t)&&lT[t](e,n._a,n,t)}function EC(t){return t%4===0&&t%100!==0||t%400===0}var Cr=0,Ea=1,Es=2,Bn=3,Oo=4,xa=5,ac=6,fX=7,gX=8;Pe("Y",0,0,function(){var t=this.year();return t<=9999?Ds(t,4):"+"+t});Pe(0,["YY",2],0,function(){return this.year()%100});Pe(0,["YYYY",4],0,"year");Pe(0,["YYYYY",5],0,"year");Pe(0,["YYYYYY",6,!0],0,"year");be("Y",_C);be("YY",Zt,Mi);be("YYYY",o1,i1);be("YYYYY",SC,yC);be("YYYYYY",SC,yC);Ht(["YYYYY","YYYYYY"],Cr);Ht("YYYY",function(t,e){e[Cr]=t.length===2?ne.parseTwoDigitYear(t):rt(t)});Ht("YY",function(t,e){e[Cr]=ne.parseTwoDigitYear(t)});Ht("Y",function(t,e){e[Cr]=parseInt(t,10)});function Yg(t){return EC(t)?366:365}ne.parseTwoDigitYear=function(t){return rt(t)+(rt(t)>68?1900:2e3)};var X2=Kd("FullYear",!0);function mX(){return EC(this.year())}function Kd(t,e){return function(n){return n!=null?(Z2(this,t,n),ne.updateOffset(this,e),this):jm(this,t)}}function jm(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Z2(t,e,n){var r,i,o,s,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=t.month(),a=t.date(),a=a===29&&s===1&&!EC(o)?28:a,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function pX(t){return t=so(t),Vs(this[t])?this[t]():this}function vX(t,e){if(typeof t=="object"){t=r1(t);var n=aX(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=so(t),Vs(this[t]))return this[t](e);return this}function wX(t,e){return(t%e+e)%e}var Sn;Array.prototype.indexOf?Sn=Array.prototype.indexOf:Sn=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function a1(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=wX(e,12);return t+=(e-n)/12,n===1?EC(t)?29:28:31-n%7%2}Pe("M",["MM",2],"Mo",function(){return this.month()+1});Pe("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Pe("MMMM",0,0,function(t){return this.localeData().months(this,t)});be("M",Zt,Gd);be("MM",Zt,Mi);be("MMM",function(t,e){return e.monthsShortRegex(t)});be("MMMM",function(t,e){return e.monthsRegex(t)});Ht(["M","MM"],function(t,e){e[Ea]=rt(t)-1});Ht(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ea]=i:Be(n).invalidMonth=t});var bX="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),J2="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Q2=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yX=Hp,CX=Hp;function SX(t,e){return t?$o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Q2).test(e)?"format":"standalone"][t.month()]:$o(this._months)?this._months:this._months.standalone}function _X(t,e){return t?$o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Q2.test(e)?"format":"standalone"][t.month()]:$o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function RX(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=Fs([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=Sn.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Sn.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=Sn.call(this._shortMonthsParse,s),i!==-1?i:(i=Sn.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Sn.call(this._longMonthsParse,s),i!==-1?i:(i=Sn.call(this._shortMonthsParse,s),i!==-1?i:null))}function EX(t,e,n){var r,i,o;if(this._monthsParseExact)return RX.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Fs([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function eU(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=rt(e);else if(e=t.localeData().monthsParse(e),!Fa(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,a1(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function tU(t){return t!=null?(eU(this,t),ne.updateOffset(this,!0),this):jm(this,"Month")}function xX(){return a1(this.year(),this.month())}function TX(t){return this._monthsParseExact?(mt(this,"_monthsRegex")||nU.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(mt(this,"_monthsShortRegex")||(this._monthsShortRegex=yX),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function MX(t){return this._monthsParseExact?(mt(this,"_monthsRegex")||nU.call(this),t?this._monthsStrictRegex:this._monthsRegex):(mt(this,"_monthsRegex")||(this._monthsRegex=CX),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function nU(){function t(l,u){return u.length-l.length}var e=[],n=[],r=[],i,o,s,a;for(i=0;i<12;i++)o=Fs([2e3,i]),s=Da(this.monthsShort(o,"")),a=Da(this.months(o,"")),e.push(s),n.push(a),r.push(a),r.push(s);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function PX(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function Um(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Jb(t,e,n){var r=7+e-n,i=(7+Um(t,0,r).getUTCDay()-e)%7;return-i+r-1}function rU(t,e,n,r,i){var o=(7+n-r)%7,s=Jb(t,r,i),a=1+7*(e-1)+o+s,l,u;return a<=0?(l=t-1,u=Yg(l)+a):a>Yg(t)?(l=t+1,u=a-Yg(t)):(l=t,u=a),{year:l,dayOfYear:u}}function zm(t,e,n){var r=Jb(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=t.year()-1,o=i+$a(s,e,n)):i>$a(t.year(),e,n)?(o=i-$a(t.year(),e,n),s=t.year()+1):(s=t.year(),o=i),{week:o,year:s}}function $a(t,e,n){var r=Jb(t,e,n),i=Jb(t+1,e,n);return(Yg(t)-r+i)/7}Pe("w",["ww",2],"wo","week");Pe("W",["WW",2],"Wo","isoWeek");be("w",Zt,Gd);be("ww",Zt,Mi);be("W",Zt,Gd);be("WW",Zt,Mi);kp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=rt(t)});function OX(t){return zm(t,this._week.dow,this._week.doy).week}var IX={dow:0,doy:6};function AX(){return this._week.dow}function HX(){return this._week.doy}function kX(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function NX(t){var e=zm(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Pe("d",0,"do","day");Pe("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Pe("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Pe("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Pe("e",0,0,"weekday");Pe("E",0,0,"isoWeekday");be("d",Zt);be("e",Zt);be("E",Zt);be("dd",function(t,e){return e.weekdaysMinRegex(t)});be("ddd",function(t,e){return e.weekdaysShortRegex(t)});be("dddd",function(t,e){return e.weekdaysRegex(t)});kp(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Be(n).invalidWeekday=t});kp(["d","e","E"],function(t,e,n,r){e[r]=rt(t)});function DX(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function $X(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function l1(t,e){return t.slice(e,7).concat(t.slice(0,e))}var LX="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),iU="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),FX="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),VX=Hp,WX=Hp,BX=Hp;function jX(t,e){var n=$o(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?l1(n,this._week.dow):t?n[t.day()]:n}function UX(t){return t===!0?l1(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function zX(t){return t===!0?l1(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function YX(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=Fs([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=Sn.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=Sn.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Sn.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=Sn.call(this._weekdaysParse,s),i!==-1||(i=Sn.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Sn.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=Sn.call(this._shortWeekdaysParse,s),i!==-1||(i=Sn.call(this._weekdaysParse,s),i!==-1)?i:(i=Sn.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Sn.call(this._minWeekdaysParse,s),i!==-1||(i=Sn.call(this._weekdaysParse,s),i!==-1)?i:(i=Sn.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function GX(t,e,n){var r,i,o;if(this._weekdaysParseExact)return YX.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Fs([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function KX(t){if(!this.isValid())return t!=null?this:NaN;var e=jm(this,"Day");return t!=null?(t=DX(t,this.localeData()),this.add(t-e,"d")):e}function qX(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function XX(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=$X(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function ZX(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||u1.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(mt(this,"_weekdaysRegex")||(this._weekdaysRegex=VX),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function JX(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||u1.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=WX),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function QX(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||u1.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=BX),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function u1(){function t(c,h){return h.length-c.length}var e=[],n=[],r=[],i=[],o,s,a,l,u;for(o=0;o<7;o++)s=Fs([2e3,1]).day(o),a=Da(this.weekdaysMin(s,"")),l=Da(this.weekdaysShort(s,"")),u=Da(this.weekdays(s,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function c1(){return this.hours()%12||12}function eZ(){return this.hours()||24}Pe("H",["HH",2],0,"hour");Pe("h",["hh",2],0,c1);Pe("k",["kk",2],0,eZ);Pe("hmm",0,0,function(){return""+c1.apply(this)+Ds(this.minutes(),2)});Pe("hmmss",0,0,function(){return""+c1.apply(this)+Ds(this.minutes(),2)+Ds(this.seconds(),2)});Pe("Hmm",0,0,function(){return""+this.hours()+Ds(this.minutes(),2)});Pe("Hmmss",0,0,function(){return""+this.hours()+Ds(this.minutes(),2)+Ds(this.seconds(),2)});function oU(t,e){Pe(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}oU("a",!0);oU("A",!1);function sU(t,e){return e._meridiemParse}be("a",sU);be("A",sU);be("H",Zt,s1);be("h",Zt,Gd);be("k",Zt,Gd);be("HH",Zt,Mi);be("hh",Zt,Mi);be("kk",Zt,Mi);be("hmm",K2);be("hmmss",q2);be("Hmm",K2);be("Hmmss",q2);Ht(["H","HH"],Bn);Ht(["k","kk"],function(t,e,n){var r=rt(t);e[Bn]=r===24?0:r});Ht(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Ht(["h","hh"],function(t,e,n){e[Bn]=rt(t),Be(n).bigHour=!0});Ht("hmm",function(t,e,n){var r=t.length-2;e[Bn]=rt(t.substr(0,r)),e[Oo]=rt(t.substr(r)),Be(n).bigHour=!0});Ht("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Bn]=rt(t.substr(0,r)),e[Oo]=rt(t.substr(r,2)),e[xa]=rt(t.substr(i)),Be(n).bigHour=!0});Ht("Hmm",function(t,e,n){var r=t.length-2;e[Bn]=rt(t.substr(0,r)),e[Oo]=rt(t.substr(r))});Ht("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Bn]=rt(t.substr(0,r)),e[Oo]=rt(t.substr(r,2)),e[xa]=rt(t.substr(i))});function tZ(t){return(t+"").toLowerCase().charAt(0)==="p"}var nZ=/[ap]\.?m?\.?/i,rZ=Kd("Hours",!0);function iZ(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var aU={calendar:Y9,longDateFormat:X9,invalidDate:J9,ordinal:eX,dayOfMonthOrdinalParse:tX,relativeTime:rX,months:bX,monthsShort:J2,week:IX,weekdays:LX,weekdaysMin:FX,weekdaysShort:iU,meridiemParse:nZ},Qt={},df={},Ym;function oZ(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function jN(t){return t&&t.toLowerCase().replace("_","-")}function sZ(t){for(var e=0,n,r,i,o;e<t.length;){for(o=jN(t[e]).split("-"),n=o.length,r=jN(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=xC(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&oZ(o,r)>=n-1)break;n--}e++}return Ym}function aZ(t){return!!(t&&t.match("^[^/\\\\]*$"))}function xC(t){var e=null,n;if(Qt[t]===void 0&&typeof module<"u"&&module&&module.exports&&aZ(t))try{e=Ym._abbr,n=require,n("./locale/"+t),Fl(e)}catch{Qt[t]=null}return Qt[t]}function Fl(t,e){var n;return t&&(Jr(e)?n=za(t):n=h1(t,e),n?Ym=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ym._abbr}function h1(t,e){if(e!==null){var n,r=aU;if(e.abbr=t,Qt[t]!=null)U2("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Qt[t]._config;else if(e.parentLocale!=null)if(Qt[e.parentLocale]!=null)r=Qt[e.parentLocale]._config;else if(n=xC(e.parentLocale),n!=null)r=n._config;else return df[e.parentLocale]||(df[e.parentLocale]=[]),df[e.parentLocale].push({name:t,config:e}),null;return Qt[t]=new t1(sT(r,e)),df[t]&&df[t].forEach(function(i){h1(i.name,i.config)}),Fl(t),Qt[t]}else return delete Qt[t],null}function lZ(t,e){if(e!=null){var n,r,i=aU;Qt[t]!=null&&Qt[t].parentLocale!=null?Qt[t].set(sT(Qt[t]._config,e)):(r=xC(t),r!=null&&(i=r._config),e=sT(i,e),r==null&&(e.abbr=t),n=new t1(e),n.parentLocale=Qt[t],Qt[t]=n),Fl(t)}else Qt[t]!=null&&(Qt[t].parentLocale!=null?(Qt[t]=Qt[t].parentLocale,t===Fl()&&Fl(t)):Qt[t]!=null&&delete Qt[t]);return Qt[t]}function za(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ym;if(!$o(t)){if(e=xC(t),e)return e;t=[t]}return sZ(t)}function uZ(){return aT(Qt)}function d1(t){var e,n=t._a;return n&&Be(t).overflow===-2&&(e=n[Ea]<0||n[Ea]>11?Ea:n[Es]<1||n[Es]>a1(n[Cr],n[Ea])?Es:n[Bn]<0||n[Bn]>24||n[Bn]===24&&(n[Oo]!==0||n[xa]!==0||n[ac]!==0)?Bn:n[Oo]<0||n[Oo]>59?Oo:n[xa]<0||n[xa]>59?xa:n[ac]<0||n[ac]>999?ac:-1,Be(t)._overflowDayOfYear&&(e<Cr||e>Es)&&(e=Es),Be(t)._overflowWeeks&&e===-1&&(e=fX),Be(t)._overflowWeekday&&e===-1&&(e=gX),Be(t).overflow=e),t}var cZ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hZ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dZ=/Z|[+-]\d\d(?::?\d\d)?/,lv=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],k_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fZ=/^\/?Date\((-?\d+)/i,gZ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mZ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lU(t){var e,n,r=t._i,i=cZ.exec(r)||hZ.exec(r),o,s,a,l,u=lv.length,c=k_.length;if(i){for(Be(t).iso=!0,e=0,n=u;e<n;e++)if(lv[e][1].exec(i[1])){s=lv[e][0],o=lv[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=c;e<n;e++)if(k_[e][1].exec(i[3])){a=(i[2]||" ")+k_[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(dZ.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(l||""),g1(t)}else t._isValid=!1}function pZ(t,e,n,r,i,o){var s=[vZ(t),J2.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function vZ(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function wZ(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function bZ(t,e,n){if(t){var r=iU.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Be(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function yZ(t,e,n){if(t)return mZ[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function uU(t){var e=gZ.exec(wZ(t._i)),n;if(e){if(n=pZ(e[4],e[3],e[2],e[5],e[6],e[7]),!bZ(e[1],n,t))return;t._a=n,t._tzm=yZ(e[8],e[9],e[10]),t._d=Um.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Be(t).rfc2822=!0}else t._isValid=!1}function CZ(t){var e=fZ.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(lU(t),t._isValid===!1)delete t._isValid;else return;if(uU(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ne.createFromInputFallback(t)}ne.createFromInputFallback=oo("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Wh(t,e,n){return t??e??n}function SZ(t){var e=new Date(ne.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function f1(t){var e,n,r=[],i,o,s;if(!t._d){for(i=SZ(t),t._w&&t._a[Es]==null&&t._a[Ea]==null&&_Z(t),t._dayOfYear!=null&&(s=Wh(t._a[Cr],i[Cr]),(t._dayOfYear>Yg(s)||t._dayOfYear===0)&&(Be(t)._overflowDayOfYear=!0),n=Um(s,0,t._dayOfYear),t._a[Ea]=n.getUTCMonth(),t._a[Es]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Bn]===24&&t._a[Oo]===0&&t._a[xa]===0&&t._a[ac]===0&&(t._nextDay=!0,t._a[Bn]=0),t._d=(t._useUTC?Um:PX).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Bn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Be(t).weekdayMismatch=!0)}}function _Z(t){var e,n,r,i,o,s,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,s=4,n=Wh(e.GG,t._a[Cr],zm(Xt(),1,4).year),r=Wh(e.W,1),i=Wh(e.E,1),(i<1||i>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,u=zm(Xt(),o,s),n=Wh(e.gg,t._a[Cr],u.year),r=Wh(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>$a(n,o,s)?Be(t)._overflowWeeks=!0:l!=null?Be(t)._overflowWeekday=!0:(a=rU(n,r,i,o,s),t._a[Cr]=a.year,t._dayOfYear=a.dayOfYear)}ne.ISO_8601=function(){};ne.RFC_2822=function(){};function g1(t){if(t._f===ne.ISO_8601){lU(t);return}if(t._f===ne.RFC_2822){uU(t);return}t._a=[],Be(t).empty=!0;var e=""+t._i,n,r,i,o,s,a=e.length,l=0,u,c;for(i=z2(t._f,t._locale).match(n1)||[],c=i.length,n=0;n<c;n++)o=i[n],r=(e.match(cX(o,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&Be(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),md[o]?(r?Be(t).empty=!1:Be(t).unusedTokens.push(o),dX(o,r,t)):t._strict&&!r&&Be(t).unusedTokens.push(o);Be(t).charsLeftOver=a-l,e.length>0&&Be(t).unusedInput.push(e),t._a[Bn]<=12&&Be(t).bigHour===!0&&t._a[Bn]>0&&(Be(t).bigHour=void 0),Be(t).parsedDateParts=t._a.slice(0),Be(t).meridiem=t._meridiem,t._a[Bn]=RZ(t._locale,t._a[Bn],t._meridiem),u=Be(t).era,u!==null&&(t._a[Cr]=t._locale.erasConvertYear(u,t._a[Cr])),f1(t),d1(t)}function RZ(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function EZ(t){var e,n,r,i,o,s,a=!1,l=t._f.length;if(l===0){Be(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,s=!1,e=e1({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],g1(e),QM(e)&&(s=!0),o+=Be(e).charsLeftOver,o+=Be(e).unusedTokens.length*10,Be(e).score=o,a?o<r&&(r=o,n=e):(r==null||o<r||s)&&(r=o,n=e,s&&(a=!0));Ol(t,n||e)}function xZ(t){if(!t._d){var e=r1(t._i),n=e.day===void 0?e.date:e.day;t._a=B2([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),f1(t)}}function TZ(t){var e=new Ap(d1(cU(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function cU(t){var e=t._i,n=t._f;return t._locale=t._locale||za(t._l),e===null||n===void 0&&e===""?bC({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Lo(e)?new Ap(d1(e)):(Ip(e)?t._d=e:$o(n)?EZ(t):n?g1(t):MZ(t),QM(t)||(t._d=null),t))}function MZ(t){var e=t._i;Jr(e)?t._d=new Date(ne.now()):Ip(e)?t._d=new Date(e.valueOf()):typeof e=="string"?CZ(t):$o(e)?(t._a=B2(e.slice(0),function(n){return parseInt(n,10)}),f1(t)):vc(e)?xZ(t):Fa(e)?t._d=new Date(e):ne.createFromInputFallback(t)}function hU(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(vc(t)&&JM(t)||$o(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,TZ(o)}function Xt(t,e,n,r){return hU(t,e,n,r,!1)}var PZ=oo("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Xt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:bC()}),OZ=oo("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Xt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:bC()});function dU(t,e){var n,r;if(e.length===1&&$o(e[0])&&(e=e[0]),!e.length)return Xt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function IZ(){var t=[].slice.call(arguments,0);return dU("isBefore",t)}function AZ(){var t=[].slice.call(arguments,0);return dU("isAfter",t)}var HZ=function(){return Date.now?Date.now():+new Date},ff=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kZ(t){var e,n=!1,r,i=ff.length;for(e in t)if(mt(t,e)&&!(Sn.call(ff,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[ff[r]]){if(n)return!1;parseFloat(t[ff[r]])!==rt(t[ff[r]])&&(n=!0)}return!0}function NZ(){return this._isValid}function DZ(){return Bo(NaN)}function TC(t){var e=r1(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=kZ(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=za(),this._bubble()}function gb(t){return t instanceof TC}function uT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function $Z(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++)rt(t[s])!==rt(e[s])&&o++;return o+i}function fU(t,e){Pe(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ds(~~(n/60),2)+e+Ds(~~n%60,2)})}fU("Z",":");fU("ZZ","");be("Z",RC);be("ZZ",RC);Ht(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=m1(RC,t)});var LZ=/([\+\-]|\d\d)/gi;function m1(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(LZ)||["-",0,0],o=+(i[1]*60)+rt(i[2]),o===0?0:i[0]==="+"?o:-o)}function p1(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Lo(t)||Ip(t)?t.valueOf():Xt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ne.updateOffset(n,!1),n):Xt(t).local()}function cT(t){return-Math.round(t._d.getTimezoneOffset())}ne.updateOffset=function(){};function FZ(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=m1(RC,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=cT(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?pU(this,Bo(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ne.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:cT(this)}function VZ(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function WZ(t){return this.utcOffset(0,t)}function BZ(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(cT(this),"m")),this}function jZ(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=m1(lX,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function UZ(t){return this.isValid()?(t=t?Xt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function zZ(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function YZ(){if(!Jr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return e1(t,this),t=cU(t),t._a?(e=t._isUTC?Fs(t._a):Xt(t._a),this._isDSTShifted=this.isValid()&&$Z(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function GZ(){return this.isValid()?!this._isUTC:!1}function KZ(){return this.isValid()?this._isUTC:!1}function gU(){return this.isValid()?this._isUTC&&this._offset===0:!1}var qZ=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,XZ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bo(t,e){var n=t,r=null,i,o,s;return gb(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Fa(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=qZ.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:rt(r[Es])*i,h:rt(r[Bn])*i,m:rt(r[Oo])*i,s:rt(r[xa])*i,ms:rt(uT(r[ac]*1e3))*i}):(r=XZ.exec(t))?(i=r[1]==="-"?-1:1,n={y:au(r[2],i),M:au(r[3],i),w:au(r[4],i),d:au(r[5],i),h:au(r[6],i),m:au(r[7],i),s:au(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=ZZ(Xt(n.from),Xt(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new TC(n),gb(t)&&mt(t,"_locale")&&(o._locale=t._locale),gb(t)&&mt(t,"_isValid")&&(o._isValid=t._isValid),o}Bo.fn=TC.prototype;Bo.invalid=DZ;function au(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function UN(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ZZ(t,e){var n;return t.isValid()&&e.isValid()?(e=p1(e,t),t.isBefore(e)?n=UN(t,e):(n=UN(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function mU(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(U2(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Bo(n,r),pU(this,i,t),this}}function pU(t,e,n,r){var i=e._milliseconds,o=uT(e._days),s=uT(e._months);t.isValid()&&(r=r??!0,s&&eU(t,jm(t,"Month")+s*n),o&&Z2(t,"Date",jm(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ne.updateOffset(t,o||s))}var JZ=mU(1,"add"),QZ=mU(-1,"subtract");function vU(t){return typeof t=="string"||t instanceof String}function eJ(t){return Lo(t)||Ip(t)||vU(t)||Fa(t)||nJ(t)||tJ(t)||t===null||t===void 0}function tJ(t){var e=vc(t)&&!JM(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||mt(t,o);return e&&n}function nJ(t){var e=$o(t),n=!1;return e&&(n=t.filter(function(r){return!Fa(r)&&vU(t)}).length===0),e&&n}function rJ(t){var e=vc(t)&&!JM(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||mt(t,o);return e&&n}function iJ(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function oJ(t,e){arguments.length===1&&(arguments[0]?eJ(arguments[0])?(t=arguments[0],e=void 0):rJ(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Xt(),r=p1(n,this).startOf("day"),i=ne.calendarFormat(this,r)||"sameElse",o=e&&(Vs(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Xt(n)))}function sJ(){return new Ap(this)}function aJ(t,e){var n=Lo(t)?t:Xt(t);return this.isValid()&&n.isValid()?(e=so(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function lJ(t,e){var n=Lo(t)?t:Xt(t);return this.isValid()&&n.isValid()?(e=so(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function uJ(t,e,n,r){var i=Lo(t)?t:Xt(t),o=Lo(e)?e:Xt(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function cJ(t,e){var n=Lo(t)?t:Xt(t),r;return this.isValid()&&n.isValid()?(e=so(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function hJ(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function dJ(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function fJ(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=p1(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=so(e),e){case"year":o=mb(this,r)/12;break;case"month":o=mb(this,r);break;case"quarter":o=mb(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ji(o)}function mb(t,e){if(t.date()<e.date())return-mb(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}ne.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ne.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gJ(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mJ(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?fb(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Vs(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",fb(n,"Z")):fb(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function pJ(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function vJ(t){t||(t=this.isUtc()?ne.defaultFormatUtc:ne.defaultFormat);var e=fb(this,t);return this.localeData().postformat(e)}function wJ(t,e){return this.isValid()&&(Lo(t)&&t.isValid()||Xt(t).isValid())?Bo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bJ(t){return this.from(Xt(),t)}function yJ(t,e){return this.isValid()&&(Lo(t)&&t.isValid()||Xt(t).isValid())?Bo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function CJ(t){return this.to(Xt(),t)}function wU(t){var e;return t===void 0?this._locale._abbr:(e=za(t),e!=null&&(this._locale=e),this)}var bU=oo("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function yU(){return this._locale}var Qb=1e3,pd=60*Qb,ey=60*pd,CU=(365*400+97)*24*ey;function vd(t,e){return(t%e+e)%e}function SU(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-CU:new Date(t,e,n).valueOf()}function _U(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-CU:Date.UTC(t,e,n)}function SJ(t){var e,n;if(t=so(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?_U:SU,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=vd(e+(this._isUTC?0:this.utcOffset()*pd),ey);break;case"minute":e=this._d.valueOf(),e-=vd(e,pd);break;case"second":e=this._d.valueOf(),e-=vd(e,Qb);break}return this._d.setTime(e),ne.updateOffset(this,!0),this}function _J(t){var e,n;if(t=so(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?_U:SU,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ey-vd(e+(this._isUTC?0:this.utcOffset()*pd),ey)-1;break;case"minute":e=this._d.valueOf(),e+=pd-vd(e,pd)-1;break;case"second":e=this._d.valueOf(),e+=Qb-vd(e,Qb)-1;break}return this._d.setTime(e),ne.updateOffset(this,!0),this}function RJ(){return this._d.valueOf()-(this._offset||0)*6e4}function EJ(){return Math.floor(this.valueOf()/1e3)}function xJ(){return new Date(this.valueOf())}function TJ(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function MJ(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function PJ(){return this.isValid()?this.toISOString():null}function OJ(){return QM(this)}function IJ(){return Ol({},Be(this))}function AJ(){return Be(this).overflow}function HJ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Pe("N",0,0,"eraAbbr");Pe("NN",0,0,"eraAbbr");Pe("NNN",0,0,"eraAbbr");Pe("NNNN",0,0,"eraName");Pe("NNNNN",0,0,"eraNarrow");Pe("y",["y",1],"yo","eraYear");Pe("y",["yy",2],0,"eraYear");Pe("y",["yyy",3],0,"eraYear");Pe("y",["yyyy",4],0,"eraYear");be("N",v1);be("NN",v1);be("NNN",v1);be("NNNN",UJ);be("NNNNN",zJ);Ht(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Be(n).era=i:Be(n).invalidEra=t});be("y",Yd);be("yy",Yd);be("yyy",Yd);be("yyyy",Yd);be("yo",YJ);Ht(["y","yy","yyy","yyyy"],Cr);Ht(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Cr]=n._locale.eraYearOrdinalParse(t,i):e[Cr]=parseInt(t,10)});function kJ(t,e){var n,r,i,o=this._eras||za("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=ne(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=ne(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function NJ(t,e,n){var r,i,o=this.eras(),s,a,l;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[r];break;case"NNNN":if(s===t)return o[r];break;case"NNNNN":if(l===t)return o[r];break}else if([s,a,l].indexOf(t)>=0)return o[r]}function DJ(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ne(t.since).year():ne(t.since).year()+(e-t.offset)*n}function $J(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function LJ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function FJ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function VJ(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ne(i[t].since).year())*n+i[t].offset;return this.year()}function WJ(t){return mt(this,"_erasNameRegex")||w1.call(this),t?this._erasNameRegex:this._erasRegex}function BJ(t){return mt(this,"_erasAbbrRegex")||w1.call(this),t?this._erasAbbrRegex:this._erasRegex}function jJ(t){return mt(this,"_erasNarrowRegex")||w1.call(this),t?this._erasNarrowRegex:this._erasRegex}function v1(t,e){return e.erasAbbrRegex(t)}function UJ(t,e){return e.erasNameRegex(t)}function zJ(t,e){return e.erasNarrowRegex(t)}function YJ(t,e){return e._eraYearOrdinalRegex||Yd}function w1(){var t=[],e=[],n=[],r=[],i,o,s,a,l,u=this.eras();for(i=0,o=u.length;i<o;++i)s=Da(u[i].name),a=Da(u[i].abbr),l=Da(u[i].narrow),e.push(s),t.push(a),n.push(l),r.push(s),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Pe(0,["gg",2],0,function(){return this.weekYear()%100});Pe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function MC(t,e){Pe(0,[t,t.length],0,e)}MC("gggg","weekYear");MC("ggggg","weekYear");MC("GGGG","isoWeekYear");MC("GGGGG","isoWeekYear");be("G",_C);be("g",_C);be("GG",Zt,Mi);be("gg",Zt,Mi);be("GGGG",o1,i1);be("gggg",o1,i1);be("GGGGG",SC,yC);be("ggggg",SC,yC);kp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=rt(t)});kp(["gg","GG"],function(t,e,n,r){e[r]=ne.parseTwoDigitYear(t)});function GJ(t){return RU.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function KJ(t){return RU.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function qJ(){return $a(this.year(),1,4)}function XJ(){return $a(this.isoWeekYear(),1,4)}function ZJ(){var t=this.localeData()._week;return $a(this.year(),t.dow,t.doy)}function JJ(){var t=this.localeData()._week;return $a(this.weekYear(),t.dow,t.doy)}function RU(t,e,n,r,i){var o;return t==null?zm(this,r,i).year:(o=$a(t,r,i),e>o&&(e=o),QJ.call(this,t,e,n,r,i))}function QJ(t,e,n,r,i){var o=rU(t,e,n,r,i),s=Um(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Pe("Q",0,"Qo","quarter");be("Q",Y2);Ht("Q",function(t,e){e[Ea]=(rt(t)-1)*3});function eQ(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Pe("D",["DD",2],"Do","date");be("D",Zt,Gd);be("DD",Zt,Mi);be("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ht(["D","DD"],Es);Ht("Do",function(t,e){e[Es]=rt(t.match(Zt)[0])});var EU=Kd("Date",!0);Pe("DDD",["DDDD",3],"DDDo","dayOfYear");be("DDD",CC);be("DDDD",G2);Ht(["DDD","DDDD"],function(t,e,n){n._dayOfYear=rt(t)});function tQ(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Pe("m",["mm",2],0,"minute");be("m",Zt,s1);be("mm",Zt,Mi);Ht(["m","mm"],Oo);var nQ=Kd("Minutes",!1);Pe("s",["ss",2],0,"second");be("s",Zt,s1);be("ss",Zt,Mi);Ht(["s","ss"],xa);var rQ=Kd("Seconds",!1);Pe("S",0,0,function(){return~~(this.millisecond()/100)});Pe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Pe(0,["SSS",3],0,"millisecond");Pe(0,["SSSS",4],0,function(){return this.millisecond()*10});Pe(0,["SSSSS",5],0,function(){return this.millisecond()*100});Pe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Pe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Pe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Pe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});be("S",CC,Y2);be("SS",CC,Mi);be("SSS",CC,G2);var Il,xU;for(Il="SSSS";Il.length<=9;Il+="S")be(Il,Yd);function iQ(t,e){e[ac]=rt(("0."+t)*1e3)}for(Il="S";Il.length<=9;Il+="S")Ht(Il,iQ);xU=Kd("Milliseconds",!1);Pe("z",0,0,"zoneAbbr");Pe("zz",0,0,"zoneName");function oQ(){return this._isUTC?"UTC":""}function sQ(){return this._isUTC?"Coordinated Universal Time":""}var ae=Ap.prototype;ae.add=JZ;ae.calendar=oJ;ae.clone=sJ;ae.diff=fJ;ae.endOf=_J;ae.format=vJ;ae.from=wJ;ae.fromNow=bJ;ae.to=yJ;ae.toNow=CJ;ae.get=pX;ae.invalidAt=AJ;ae.isAfter=aJ;ae.isBefore=lJ;ae.isBetween=uJ;ae.isSame=cJ;ae.isSameOrAfter=hJ;ae.isSameOrBefore=dJ;ae.isValid=OJ;ae.lang=bU;ae.locale=wU;ae.localeData=yU;ae.max=OZ;ae.min=PZ;ae.parsingFlags=IJ;ae.set=vX;ae.startOf=SJ;ae.subtract=QZ;ae.toArray=TJ;ae.toObject=MJ;ae.toDate=xJ;ae.toISOString=mJ;ae.inspect=pJ;typeof Symbol<"u"&&Symbol.for!=null&&(ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ae.toJSON=PJ;ae.toString=gJ;ae.unix=EJ;ae.valueOf=RJ;ae.creationData=HJ;ae.eraName=$J;ae.eraNarrow=LJ;ae.eraAbbr=FJ;ae.eraYear=VJ;ae.year=X2;ae.isLeapYear=mX;ae.weekYear=GJ;ae.isoWeekYear=KJ;ae.quarter=ae.quarters=eQ;ae.month=tU;ae.daysInMonth=xX;ae.week=ae.weeks=kX;ae.isoWeek=ae.isoWeeks=NX;ae.weeksInYear=ZJ;ae.weeksInWeekYear=JJ;ae.isoWeeksInYear=qJ;ae.isoWeeksInISOWeekYear=XJ;ae.date=EU;ae.day=ae.days=KX;ae.weekday=qX;ae.isoWeekday=XX;ae.dayOfYear=tQ;ae.hour=ae.hours=rZ;ae.minute=ae.minutes=nQ;ae.second=ae.seconds=rQ;ae.millisecond=ae.milliseconds=xU;ae.utcOffset=FZ;ae.utc=WZ;ae.local=BZ;ae.parseZone=jZ;ae.hasAlignedHourOffset=UZ;ae.isDST=zZ;ae.isLocal=GZ;ae.isUtcOffset=KZ;ae.isUtc=gU;ae.isUTC=gU;ae.zoneAbbr=oQ;ae.zoneName=sQ;ae.dates=oo("dates accessor is deprecated. Use date instead.",EU);ae.months=oo("months accessor is deprecated. Use month instead",tU);ae.years=oo("years accessor is deprecated. Use year instead",X2);ae.zone=oo("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",VZ);ae.isDSTShifted=oo("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",YZ);function aQ(t){return Xt(t*1e3)}function lQ(){return Xt.apply(null,arguments).parseZone()}function TU(t){return t}var pt=t1.prototype;pt.calendar=G9;pt.longDateFormat=Z9;pt.invalidDate=Q9;pt.ordinal=nX;pt.preparse=TU;pt.postformat=TU;pt.relativeTime=iX;pt.pastFuture=oX;pt.set=z9;pt.eras=kJ;pt.erasParse=NJ;pt.erasConvertYear=DJ;pt.erasAbbrRegex=BJ;pt.erasNameRegex=WJ;pt.erasNarrowRegex=jJ;pt.months=SX;pt.monthsShort=_X;pt.monthsParse=EX;pt.monthsRegex=MX;pt.monthsShortRegex=TX;pt.week=OX;pt.firstDayOfYear=HX;pt.firstDayOfWeek=AX;pt.weekdays=jX;pt.weekdaysMin=zX;pt.weekdaysShort=UX;pt.weekdaysParse=GX;pt.weekdaysRegex=ZX;pt.weekdaysShortRegex=JX;pt.weekdaysMinRegex=QX;pt.isPM=tZ;pt.meridiem=iZ;function ty(t,e,n,r){var i=za(),o=Fs().set(r,e);return i[n](o,t)}function MU(t,e,n){if(Fa(t)&&(e=t,t=void 0),t=t||"",e!=null)return ty(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ty(t,r,n,"month");return i}function b1(t,e,n,r){typeof t=="boolean"?(Fa(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Fa(e)&&(n=e,e=void 0),e=e||"");var i=za(),o=t?i._week.dow:0,s,a=[];if(n!=null)return ty(e,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=ty(e,(s+o)%7,r,"day");return a}function uQ(t,e){return MU(t,e,"months")}function cQ(t,e){return MU(t,e,"monthsShort")}function hQ(t,e,n){return b1(t,e,n,"weekdays")}function dQ(t,e,n){return b1(t,e,n,"weekdaysShort")}function fQ(t,e,n){return b1(t,e,n,"weekdaysMin")}Fl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=rt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ne.lang=oo("moment.lang is deprecated. Use moment.locale instead.",Fl);ne.langData=oo("moment.langData is deprecated. Use moment.localeData instead.",za);var Gs=Math.abs;function gQ(){var t=this._data;return this._milliseconds=Gs(this._milliseconds),this._days=Gs(this._days),this._months=Gs(this._months),t.milliseconds=Gs(t.milliseconds),t.seconds=Gs(t.seconds),t.minutes=Gs(t.minutes),t.hours=Gs(t.hours),t.months=Gs(t.months),t.years=Gs(t.years),this}function PU(t,e,n,r){var i=Bo(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function mQ(t,e){return PU(this,t,e,1)}function pQ(t,e){return PU(this,t,e,-1)}function zN(t){return t<0?Math.floor(t):Math.ceil(t)}function vQ(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,s,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=zN(hT(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=ji(t/1e3),r.seconds=i%60,o=ji(i/60),r.minutes=o%60,s=ji(o/60),r.hours=s%24,e+=ji(s/24),l=ji(OU(e)),n+=l,e-=zN(hT(l)),a=ji(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function OU(t){return t*4800/146097}function hT(t){return t*146097/4800}function wQ(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=so(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+OU(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(hT(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Ya(t){return function(){return this.as(t)}}var IU=Ya("ms"),bQ=Ya("s"),yQ=Ya("m"),CQ=Ya("h"),SQ=Ya("d"),_Q=Ya("w"),RQ=Ya("M"),EQ=Ya("Q"),xQ=Ya("y"),TQ=IU;function MQ(){return Bo(this)}function PQ(t){return t=so(t),this.isValid()?this[t+"s"]():NaN}function Fc(t){return function(){return this.isValid()?this._data[t]:NaN}}var OQ=Fc("milliseconds"),IQ=Fc("seconds"),AQ=Fc("minutes"),HQ=Fc("hours"),kQ=Fc("days"),NQ=Fc("months"),DQ=Fc("years");function $Q(){return ji(this.days()/7)}var ma=Math.round,ed={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function LQ(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function FQ(t,e,n,r){var i=Bo(t).abs(),o=ma(i.as("s")),s=ma(i.as("m")),a=ma(i.as("h")),l=ma(i.as("d")),u=ma(i.as("M")),c=ma(i.as("w")),h=ma(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+t>0,d[4]=r,LQ.apply(null,d)}function VQ(t){return t===void 0?ma:typeof t=="function"?(ma=t,!0):!1}function WQ(t,e){return ed[t]===void 0?!1:e===void 0?ed[t]:(ed[t]=e,t==="s"&&(ed.ss=e-1),!0)}function BQ(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ed,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},ed,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=FQ(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var N_=Math.abs;function Jc(t){return(t>0)-(t<0)||+t}function PC(){if(!this.isValid())return this.localeData().invalidDate();var t=N_(this._milliseconds)/1e3,e=N_(this._days),n=N_(this._months),r,i,o,s,a=this.asSeconds(),l,u,c,h;return a?(r=ji(t/60),i=ji(r/60),t%=60,r%=60,o=ji(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Jc(this._months)!==Jc(a)?"-":"",c=Jc(this._days)!==Jc(a)?"-":"",h=Jc(this._milliseconds)!==Jc(a)?"-":"",l+"P"+(o?u+o+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(i||r||t?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(t?h+s+"S":"")):"P0D"}var ut=TC.prototype;ut.isValid=NZ;ut.abs=gQ;ut.add=mQ;ut.subtract=pQ;ut.as=wQ;ut.asMilliseconds=IU;ut.asSeconds=bQ;ut.asMinutes=yQ;ut.asHours=CQ;ut.asDays=SQ;ut.asWeeks=_Q;ut.asMonths=RQ;ut.asQuarters=EQ;ut.asYears=xQ;ut.valueOf=TQ;ut._bubble=vQ;ut.clone=MQ;ut.get=PQ;ut.milliseconds=OQ;ut.seconds=IQ;ut.minutes=AQ;ut.hours=HQ;ut.days=kQ;ut.weeks=$Q;ut.months=NQ;ut.years=DQ;ut.humanize=BQ;ut.toISOString=PC;ut.toString=PC;ut.toJSON=PC;ut.locale=wU;ut.localeData=yU;ut.toIsoString=oo("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",PC);ut.lang=bU;Pe("X",0,0,"unix");Pe("x",0,0,"valueOf");be("x",_C);be("X",uX);Ht("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Ht("x",function(t,e,n){n._d=new Date(rt(t))});//! moment.js
ne.version="2.30.1";j9(Xt);ne.fn=ae;ne.min=IZ;ne.max=AZ;ne.now=HZ;ne.utc=Fs;ne.unix=aQ;ne.months=uQ;ne.isDate=Ip;ne.locale=Fl;ne.invalid=bC;ne.duration=Bo;ne.isMoment=Lo;ne.weekdays=hQ;ne.parseZone=lQ;ne.localeData=za;ne.isDuration=gb;ne.monthsShort=cQ;ne.weekdaysMin=fQ;ne.defineLocale=h1;ne.updateLocale=lZ;ne.locales=uZ;ne.weekdaysShort=dQ;ne.normalizeUnits=so;ne.relativeTimeRounding=VQ;ne.relativeTimeThreshold=WQ;ne.calendarFormat=iJ;ne.prototype=ae;ne.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var YN={},D_,GN;function Ws(){if(GN)return D_;GN=1;var t=xn(),e=Set.prototype;return D_={Set,add:t(e.add),has:t(e.has),remove:t(e.delete),proto:e},D_}var $_,KN;function Vc(){if(KN)return $_;KN=1;var t=Ws().has;return $_=function(e){return t(e),e},$_}var L_,qN;function Wc(){if(qN)return L_;qN=1;var t=Dn();return L_=function(e,n,r){for(var i=r?e:e.iterator,o=e.next,s,a;!(s=t(o,i)).done;)if(a=n(s.value),a!==void 0)return a},L_}var F_,XN;function Np(){if(XN)return F_;XN=1;var t=xn(),e=Wc(),n=Ws(),r=n.Set,i=n.proto,o=t(i.forEach),s=t(i.keys),a=s(new r).next;return F_=function(l,u,c){return c?e({iterator:s(l),next:a},u):o(l,u)},F_}var V_,ZN;function y1(){if(ZN)return V_;ZN=1;var t=Ws(),e=Np(),n=t.Set,r=t.add;return V_=function(i){var o=new n;return e(i,function(s){r(o,s)}),o},V_}var W_,JN;function Dp(){if(JN)return W_;JN=1;var t=M2(),e=Ws();return W_=t(e.proto,"size","get")||function(n){return n.size},W_}var B_,QN;function Bc(){if(QN)return B_;QN=1;var t=ai(),e=Ln(),n=Dn(),r=Pp(),i=Ls(),o="Invalid size",s=RangeError,a=TypeError,l=Math.max,u=function(c,h){this.set=c,this.size=l(h,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(n(this.keys,this.set)))},includes:function(c){return n(this.has,this.set,c)}},B_=function(c){e(c);var h=+c.size;if(h!==h)throw new a(o);var d=r(h);if(d<0)throw new s(o);return new u(c,d)},B_}var j_,eD;function jQ(){if(eD)return j_;eD=1;var t=Vc(),e=Ws(),n=y1(),r=Dp(),i=Bc(),o=Np(),s=Wc(),a=e.has,l=e.remove;return j_=function(c){var h=t(this),d=i(c),f=n(h);return r(h)<=d.size?o(h,function(g){d.includes(g)&&l(f,g)}):s(d.getIterator(),function(g){a(h,g)&&l(f,g)}),f},j_}var U_,tD;function jc(){if(tD)return U_;tD=1;var t=Wd(),e=function(r){return{size:r,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},n=function(r){return{size:r,has:function(){return!0},keys:function(){throw new Error("e")}}};return U_=function(r,i){var o=t("Set");try{new o()[r](e(0));try{return new o()[r](e(-1)),!1}catch{if(!i)return!0;try{return new o()[r](n(-1/0)),!1}catch{var s=new o;return s.add(1),s.add(2),i(s[r](n(1/0)))}}}catch{return!1}},U_}var nD;function UQ(){if(nD)return YN;nD=1;var t=$t(),e=jQ(),n=jc(),r=!n("difference",function(i){return i.size===0});return t({target:"Set",proto:!0,real:!0,forced:r},{difference:e}),YN}UQ();var rD={},z_,iD;function zQ(){if(iD)return z_;iD=1;var t=Vc(),e=Ws(),n=Dp(),r=Bc(),i=Np(),o=Wc(),s=e.Set,a=e.add,l=e.has;return z_=function(c){var h=t(this),d=r(c),f=new s;return n(h)>d.size?o(d.getIterator(),function(g){l(h,g)&&a(f,g)}):i(h,function(g){d.includes(g)&&a(f,g)}),f},z_}var oD;function YQ(){if(oD)return rD;oD=1;var t=$t(),e=Jn(),n=zQ(),r=jc(),i=!r("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:n}),rD}YQ();var sD={},Y_,aD;function GQ(){if(aD)return Y_;aD=1;var t=Vc(),e=Ws().has,n=Dp(),r=Bc(),i=Np(),o=Wc(),s=Ti();return Y_=function(l){var u=t(this),c=r(l);if(n(u)<=c.size)return i(u,function(d){if(c.includes(d))return!1},!0)!==!1;var h=c.getIterator();return o(h,function(d){if(e(u,d))return s(h,"normal",!1)})!==!1},Y_}var lD;function KQ(){if(lD)return sD;lD=1;var t=$t(),e=GQ(),n=jc(),r=!n("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),sD}KQ();var uD={},G_,cD;function qQ(){if(cD)return G_;cD=1;var t=Vc(),e=Dp(),n=Np(),r=Bc();return G_=function(o){var s=t(this),a=r(o);return e(s)>a.size?!1:n(s,function(l){if(!a.includes(l))return!1},!0)!==!1},G_}var hD;function XQ(){if(hD)return uD;hD=1;var t=$t(),e=qQ(),n=jc(),r=!n("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),uD}XQ();var dD={},K_,fD;function ZQ(){if(fD)return K_;fD=1;var t=Vc(),e=Ws().has,n=Dp(),r=Bc(),i=Wc(),o=Ti();return K_=function(a){var l=t(this),u=r(a);if(n(l)<u.size)return!1;var c=u.getIterator();return i(c,function(h){if(!e(l,h))return o(c,"normal",!1)})!==!1},K_}var gD;function JQ(){if(gD)return dD;gD=1;var t=$t(),e=ZQ(),n=jc(),r=!n("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),dD}JQ();var mD={},q_,pD;function QQ(){if(pD)return q_;pD=1;var t=Vc(),e=Ws(),n=y1(),r=Bc(),i=Wc(),o=e.add,s=e.has,a=e.remove;return q_=function(u){var c=t(this),h=r(u).getIterator(),d=n(c);return i(h,function(f){s(c,f)?a(d,f):o(d,f)}),d},q_}var vD;function eee(){if(vD)return mD;vD=1;var t=$t(),e=QQ(),n=jc();return t({target:"Set",proto:!0,real:!0,forced:!n("symmetricDifference")},{symmetricDifference:e}),mD}eee();var wD={},X_,bD;function tee(){if(bD)return X_;bD=1;var t=Vc(),e=Ws().add,n=y1(),r=Bc(),i=Wc();return X_=function(s){var a=t(this),l=r(s).getIterator(),u=n(a);return i(l,function(c){e(u,c)}),u},X_}var yD;function nee(){if(yD)return wD;yD=1;var t=$t(),e=tee(),n=jc();return t({target:"Set",proto:!0,real:!0,forced:!n("union")},{union:e}),wD}nee();function ree(t){const e=t.length;let n=0;for(;n<e;)t[n]=[t[n]],n+=1}function CD(t,e){const n=e.length;let r=0;for(;r<n;)t.push(e[r]),r+=1}function pb(t){const e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;const n=t.length,r=t[0].length;for(let i=0;i<n;i++)for(let o=0;o<r;o++)e[o]||(e[o]=[]),e[o][i]=t[i][o];return e}function li(t,e,n,r){let i=-1,o=t,s=n;Array.isArray(t)||(o=Array.from(t));const a=o.length;for(i+=1;i<a;)s=e(s,o[i],i,o),i+=1;return s}function Ec(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length,o=[];let s=-1;for(;n<i;){const a=r[n];e(a,n,r)&&(s+=1,o[s]=a),n+=1}return o}function nt(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length,o=[];let s=-1;for(;n<i;){const a=r[n];s+=1,o[s]=e(a,n,r),n+=1}return o}function W(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length;for(;n<i&&e(r[n],n,r)!==!1;)n+=1;return t}function iee(t){const e=[];return W(t,n=>{e.indexOf(n)===-1&&e.push(n)}),e}function SD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,...i]=[...e];let o=r;return W(i,s=>{o=o.filter(a=>!s.includes(a))}),o}function _D(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function yt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return li(t,(o,s,a)=>{const l=s.replace(/\r?\n\s*/g,""),u=n[a]?n[a]:"";return o+l+u},"").trim()}function tn(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function we(t){return typeof t<"u"}function en(t){return typeof t>"u"}function bn(t){return t===null||t===""||en(t)}function oee(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const _g="length",Gg=t=>parseInt(t,16),RD=t=>parseInt(t,10),ny=(t,e,n)=>t.substr(e,n),Kg=t=>t.codePointAt(0)-65,dT=t=>`${t}`.replace(/\-/g,""),see=t=>Gg(ny(dT(t),Gg("12"),Kg("F")))/(Gg(ny(dT(t),Kg("B"),~~![][_g]))||9),aee=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let ED=!1;const xD={invalid:()=>yt`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return yt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>yt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},TD={invalid:()=>yt`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return yt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>yt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function lee(t,e){const n=!bn(t),r=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",i="15.3.0";let o,s="invalid",a="invalid";t=dT(t||"");const l=uee(t);if(n||r||l)if(l){const u=ne("29/04/2025","DD/MM/YYYY"),c=Math.floor(u.toDate().getTime()/864e5),h=see(t);o=ne((h+1)*864e5,"x").format("MMMM DD, YYYY"),c>h?(s="expired",a="expired"):(s="valid",a="valid")}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(aee()&&(s="valid",a="valid"),!ED&&s!=="valid"&&(xD[s]({keyValidityDate:o,hotVersion:i})&&console[s==="non_commercial"?"info":"warn"](xD[s]({keyValidityDate:o,hotVersion:i})),ED=!0),a!=="valid"&&e.parentNode&&TD[a]({keyValidityDate:o,hotVersion:i})){const c=document.createElement("div");c.className="handsontable hot-display-license-info",c.innerHTML=TD[a]({keyValidityDate:o,hotVersion:i}),e.parentNode.insertBefore(c,e.nextSibling)}}function uee(t){let e=[][_g],n=e;if(t[_g]!==Kg("Z"))return!1;for(let r="",i="B<H4P+".split(""),o=Kg(i.shift());o;o=Kg(i.shift()||"A"))--o<""[_g]?n=n|(RD(`${RD(Gg(r)+(Gg(ny(t,Math.abs(o),2))+[]).padStart(2,"0"))}`)%97||2)>>1:r=ny(t,o,o?i[_g]===1?9:8:6);return n===e}var MD={},Z_,PD;function C1(){if(PD)return Z_;PD=1;var t=xn();return Z_=t([].slice),Z_}var J_,OD;function cee(){if(OD)return J_;OD=1;var t=xn(),e=I2(),n=$n(),r=Lc(),i=wC(),o=t([].push);return J_=function(s){if(n(s))return s;if(e(s)){for(var a=s.length,l=[],u=0;u<a;u++){var c=s[u];typeof c=="string"?o(l,c):(typeof c=="number"||r(c)==="Number"||r(c)==="String")&&o(l,i(c))}var h=l.length,d=!0;return function(f,g){if(d)return d=!1,g;if(e(this))return g;for(var m=0;m<h;m++)if(l[m]===f)return g}}},J_}var ID;function hee(){if(ID)return MD;ID=1;var t=$t(),e=Wd(),n=Op(),r=Dn(),i=xn(),o=Jn(),s=$n(),a=WM(),l=C1(),u=cee(),c=VM(),h=String,d=e("JSON","stringify"),f=i(/./.exec),g=i("".charAt),m=i("".charCodeAt),p=i("".replace),y=i(1 .toString),b=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,P=!c||o(function(){var K=e("Symbol")("stringify detection");return d([K])!=="[null]"||d({a:K})!=="{}"||d(Object(K))!=="{}"}),I=o(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),H=function(K,j){var q=l(arguments),Z=u(j);if(!(!s(Z)&&(K===void 0||a(K))))return q[1]=function(ie,ee){if(s(Z)&&(ee=r(Z,this,h(ie),ee)),!a(ee))return ee},n(d,null,q)},U=function(K,j,q){var Z=g(q,j-1),ie=g(q,j+1);return f(T,K)&&!f(E,ie)||f(E,K)&&!f(T,Z)?"\\u"+y(m(K,0),16):K};return d&&t({target:"JSON",stat:!0,arity:3,forced:P||I},{stringify:function(j,q,Z){var ie=l(arguments),ee=n(P?H:d,null,ie);return I&&typeof ee=="string"?p(ee,b,U):ee}}),MD}hee();var AD={},HD={},kD;function dee(){if(kD)return HD;kD=1;var t=$t(),e=Dn(),n=zd(),r=ai(),i=Ln(),o=Ls(),s=Ti(),a=Ql(),l=a("forEach",TypeError);return t({target:"Iterator",proto:!0,real:!0,forced:l},{forEach:function(c){i(this);try{r(c)}catch(f){s(this,"throw",f)}if(l)return e(l,this,c);var h=o(this),d=0;n(h,function(f){c(f,d++)},{IS_RECORD:!0})}}),HD}var ND;function fee(){return ND||(ND=1,dee()),AD}fee();function Gm(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},Xe(t,(n,r)=>{r!=="__children"&&(n&&typeof n=="object"&&!Array.isArray(n)?e[r]=Gm(n):Array.isArray(n)?n.length&&typeof n[0]=="object"&&!Array.isArray(n[0])?e[r]=[Gm(n[0])]:e[r]=[]:e[r]=null)})),e}function gee(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function kn(t,e,n){const r=Array.isArray(n);return Xe(e,(i,o)=>{(r===!1||n.includes(o))&&(t[o]=i)}),t}function OC(t,e){Xe(e,(n,r)=>{e[r]&&typeof e[r]=="object"?(t[r]||(Array.isArray(e[r])?t[r]=[]:Object.prototype.toString.call(e[r])==="[object Date]"?t[r]=e[r]:t[r]={}),OC(t[r],e[r])):t[r]=e[r]})}function Dr(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function $s(t){const e={};return Xe(t,(n,r)=>{e[r]=n}),e}function It(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return W(n,i=>{t.MIXINS.push(i.MIXIN_NAME),Xe(i,(o,s)=>{if(t.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof o=="function")t.prototype[s]=o;else{const a=function(c,h){const d=`_${c}`,f=g=>{let m=g;return(Array.isArray(m)||qe(m))&&(m=Dr(m)),m};return function(){return this[d]===void 0&&(this[d]=f(h)),this[d]}},l=function(c){const h=`_${c}`;return function(d){this[h]=d}};Object.defineProperty(t.prototype,s,{get:a(s,o),set:l(s),configurable:!0})}})}),t}function S1(t,e){return JSON.stringify(t)===JSON.stringify(e)}function qe(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ga(t,e,n,r){r.value=n,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(t,e,r)}function Xe(t,e){for(const n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&e(t[n],n,t)===!1)break;return t}function mee(t,e){const n=e.split(".");let r=t;return Xe(n,i=>{if(r=r[i],r===void 0)return r=void 0,!1}),r}function Q_(t,e,n){if(typeof e!="string")return;const r=e.split(".");let i=t;r.forEach((o,s)=>{o==="__proto__"||o==="constructor"||o==="prototype"||(s!==r.length-1?(An(i,o)||(i[o]={}),i=i[o]):i[o]=n)})}function _1(t){if(!qe(t))return 0;const e=function(n){let r=0;return qe(n)?Xe(n,(i,o)=>{o!=="__children"&&(r+=e(i))}):r+=1,r};return e(t)}function Ei(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";const n=`_${e}`,r={_touched:!1,[n]:t,isTouched(){return this._touched}};return Object.defineProperty(r,e,{get(){return this[n]},set(i){this._touched=!0,this[n]=i},enumerable:!0,configurable:!0}),r}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const pee="hooksRefRegisterer",AU={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){W(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){Xe(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};Ga(AU,"MIXIN_NAME",pee,{writable:!1,enumerable:!1});/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:HU,setPrototypeOf:DD,isFrozen:vee,getPrototypeOf:wee,getOwnPropertyDescriptor:bee}=Object;let{freeze:$r,seal:Qi,create:kU}=Object,{apply:fT,construct:gT}=typeof Reflect<"u"&&Reflect;$r||($r=function(e){return e});Qi||(Qi=function(e){return e});fT||(fT=function(e,n,r){return e.apply(n,r)});gT||(gT=function(e,n){return new e(...n)});const uv=Lr(Array.prototype.forEach),yee=Lr(Array.prototype.lastIndexOf),$D=Lr(Array.prototype.pop),gf=Lr(Array.prototype.push),Cee=Lr(Array.prototype.splice),vb=Lr(String.prototype.toLowerCase),eR=Lr(String.prototype.toString),LD=Lr(String.prototype.match),mf=Lr(String.prototype.replace),See=Lr(String.prototype.indexOf),_ee=Lr(String.prototype.trim),Co=Lr(Object.prototype.hasOwnProperty),Rr=Lr(RegExp.prototype.test),pf=Ree(TypeError);function Lr(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return fT(t,e,r)}}function Ree(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return gT(t,n)}}function Je(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vb;DD&&DD(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(vee(e)||(e[r]=o),i=o)}t[i]=!0}return t}function Eee(t){for(let e=0;e<t.length;e++)Co(t,e)||(t[e]=null);return t}function Zu(t){const e=kU(null);for(const[n,r]of HU(t))Co(t,n)&&(Array.isArray(r)?e[n]=Eee(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Zu(r):e[n]=r);return e}function vf(t,e){for(;t!==null;){const r=bee(t,e);if(r){if(r.get)return Lr(r.get);if(typeof r.value=="function")return Lr(r.value)}t=wee(t)}function n(){return null}return n}const FD=$r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tR=$r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nR=$r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xee=$r(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rR=$r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Tee=$r(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VD=$r(["#text"]),WD=$r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),iR=$r(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BD=$r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cv=$r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mee=Qi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pee=Qi(/<%[\w\W]*|[\w\W]*%>/gm),Oee=Qi(/\$\{[\w\W]*/gm),Iee=Qi(/^data-[\-\w.\u00B7-\uFFFF]+$/),Aee=Qi(/^aria-[\-\w]+$/),NU=Qi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Hee=Qi(/^(?:\w+script|data):/i),kee=Qi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DU=Qi(/^html$/i),Nee=Qi(/^[a-z][.\w]*(-[.\w]+)+$/i);var jD=Object.freeze({__proto__:null,ARIA_ATTR:Aee,ATTR_WHITESPACE:kee,CUSTOM_ELEMENT:Nee,DATA_ATTR:Iee,DOCTYPE_NAME:DU,ERB_EXPR:Pee,IS_ALLOWED_URI:NU,IS_SCRIPT_OR_DATA:Hee,MUSTACHE_EXPR:Mee,TMPLIT_EXPR:Oee});const wf={element:1,text:3,progressingInstruction:7,comment:8,document:9},Dee=function(){return typeof window>"u"?null:window},$ee=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},UD=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $U(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dee();const e=Te=>$U(Te);if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==wf.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=t,g=l.prototype,m=vf(g,"cloneNode"),p=vf(g,"remove"),y=vf(g,"nextSibling"),b=vf(g,"childNodes"),T=vf(g,"parentNode");if(typeof s=="function"){const Te=n.createElement("template");Te.content&&Te.content.ownerDocument&&(n=Te.content.ownerDocument)}let E,P="";const{implementation:I,createNodeIterator:H,createDocumentFragment:U,getElementsByTagName:K}=n,{importNode:j}=r;let q=UD();e.isSupported=typeof HU=="function"&&typeof T=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Z,ERB_EXPR:ie,TMPLIT_EXPR:ee,DATA_ATTR:re,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:ce,CUSTOM_ELEMENT:He}=jD;let{IS_ALLOWED_URI:Ne}=jD,Re=null;const w=Je({},[...FD,...tR,...nR,...rR,...VD]);let S=null;const C=Je({},[...WD,...iR,...BD,...cv]);let F=Object.seal(kU(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,k=null,Y=!0,G=!0,R=!1,M=!0,v=!1,_=!0,x=!1,A=!1,D=!1,O=!1,N=!1,L=!1,$=!0,V=!1;const J="user-content-";let X=!0,oe=!1,ue={},me=null;const ge=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ve=null;const Ze=Je({},["audio","video","img","source","image","track"]);let Lt=null;const Mn=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nn="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",rn="http://www.w3.org/1999/xhtml";let je=rn,et=!1,Ue=null;const Pi=Je({},[nn,vt,rn],eR);let ru=Je({},["mi","mo","mn","ms","mtext"]),iu=Je({},["annotation-xml"]);const N3=Je({},["title","style","font","a","script"]);let of=null;const D3=["application/xhtml+xml","text/html"],$3="text/html";let jn=null,Xc=null;const L3=n.createElement("form"),WI=function(z){return z instanceof RegExp||z instanceof Function},pS=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xc&&Xc===z)){if((!z||typeof z!="object")&&(z={}),z=Zu(z),of=D3.indexOf(z.PARSER_MEDIA_TYPE)===-1?$3:z.PARSER_MEDIA_TYPE,jn=of==="application/xhtml+xml"?eR:vb,Re=Co(z,"ALLOWED_TAGS")?Je({},z.ALLOWED_TAGS,jn):w,S=Co(z,"ALLOWED_ATTR")?Je({},z.ALLOWED_ATTR,jn):C,Ue=Co(z,"ALLOWED_NAMESPACES")?Je({},z.ALLOWED_NAMESPACES,eR):Pi,Lt=Co(z,"ADD_URI_SAFE_ATTR")?Je(Zu(Mn),z.ADD_URI_SAFE_ATTR,jn):Mn,ve=Co(z,"ADD_DATA_URI_TAGS")?Je(Zu(Ze),z.ADD_DATA_URI_TAGS,jn):Ze,me=Co(z,"FORBID_CONTENTS")?Je({},z.FORBID_CONTENTS,jn):ge,B=Co(z,"FORBID_TAGS")?Je({},z.FORBID_TAGS,jn):{},k=Co(z,"FORBID_ATTR")?Je({},z.FORBID_ATTR,jn):{},ue=Co(z,"USE_PROFILES")?z.USE_PROFILES:!1,Y=z.ALLOW_ARIA_ATTR!==!1,G=z.ALLOW_DATA_ATTR!==!1,R=z.ALLOW_UNKNOWN_PROTOCOLS||!1,M=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,v=z.SAFE_FOR_TEMPLATES||!1,_=z.SAFE_FOR_XML!==!1,x=z.WHOLE_DOCUMENT||!1,O=z.RETURN_DOM||!1,N=z.RETURN_DOM_FRAGMENT||!1,L=z.RETURN_TRUSTED_TYPE||!1,D=z.FORCE_BODY||!1,$=z.SANITIZE_DOM!==!1,V=z.SANITIZE_NAMED_PROPS||!1,X=z.KEEP_CONTENT!==!1,oe=z.IN_PLACE||!1,Ne=z.ALLOWED_URI_REGEXP||NU,je=z.NAMESPACE||rn,ru=z.MATHML_TEXT_INTEGRATION_POINTS||ru,iu=z.HTML_INTEGRATION_POINTS||iu,F=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&WI(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&WI(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),v&&(G=!1),N&&(O=!0),ue&&(Re=Je({},VD),S=[],ue.html===!0&&(Je(Re,FD),Je(S,WD)),ue.svg===!0&&(Je(Re,tR),Je(S,iR),Je(S,cv)),ue.svgFilters===!0&&(Je(Re,nR),Je(S,iR),Je(S,cv)),ue.mathMl===!0&&(Je(Re,rR),Je(S,BD),Je(S,cv))),z.ADD_TAGS&&(Re===w&&(Re=Zu(Re)),Je(Re,z.ADD_TAGS,jn)),z.ADD_ATTR&&(S===C&&(S=Zu(S)),Je(S,z.ADD_ATTR,jn)),z.ADD_URI_SAFE_ATTR&&Je(Lt,z.ADD_URI_SAFE_ATTR,jn),z.FORBID_CONTENTS&&(me===ge&&(me=Zu(me)),Je(me,z.FORBID_CONTENTS,jn)),X&&(Re["#text"]=!0),x&&Je(Re,["html","head","body"]),Re.table&&(Je(Re,["tbody"]),delete B.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw pf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=z.TRUSTED_TYPES_POLICY,P=E.createHTML("")}else E===void 0&&(E=$ee(f,i)),E!==null&&typeof P=="string"&&(P=E.createHTML(""));$r&&$r(z),Xc=z}},BI=Je({},[...tR,...nR,...xee]),jI=Je({},[...rR,...Tee]),F3=function(z){let le=T(z);(!le||!le.tagName)&&(le={namespaceURI:je,tagName:"template"});const _e=vb(z.tagName),Jt=vb(le.tagName);return Ue[z.namespaceURI]?z.namespaceURI===vt?le.namespaceURI===rn?_e==="svg":le.namespaceURI===nn?_e==="svg"&&(Jt==="annotation-xml"||ru[Jt]):!!BI[_e]:z.namespaceURI===nn?le.namespaceURI===rn?_e==="math":le.namespaceURI===vt?_e==="math"&&iu[Jt]:!!jI[_e]:z.namespaceURI===rn?le.namespaceURI===vt&&!iu[Jt]||le.namespaceURI===nn&&!ru[Jt]?!1:!jI[_e]&&(N3[_e]||!BI[_e]):!!(of==="application/xhtml+xml"&&Ue[z.namespaceURI]):!1},zo=function(z){gf(e.removed,{element:z});try{T(z).removeChild(z)}catch{p(z)}},tv=function(z,le){try{gf(e.removed,{attribute:le.getAttributeNode(z),from:le})}catch{gf(e.removed,{attribute:null,from:le})}if(le.removeAttribute(z),z==="is")if(O||N)try{zo(le)}catch{}else try{le.setAttribute(z,"")}catch{}},UI=function(z){let le=null,_e=null;if(D)z="<remove></remove>"+z;else{const Qn=LD(z,/^[\r\n\t ]+/);_e=Qn&&Qn[0]}of==="application/xhtml+xml"&&je===rn&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");const Jt=E?E.createHTML(z):z;if(je===rn)try{le=new d().parseFromString(Jt,of)}catch{}if(!le||!le.documentElement){le=I.createDocument(je,"template",null);try{le.documentElement.innerHTML=et?P:Jt}catch{}}const sr=le.body||le.documentElement;return z&&_e&&sr.insertBefore(n.createTextNode(_e),sr.childNodes[0]||null),je===rn?K.call(le,x?"html":"body")[0]:x?le.documentElement:sr},zI=function(z){return H.call(z.ownerDocument||z,z,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},vS=function(z){return z instanceof h&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof c)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},YI=function(z){return typeof a=="function"&&z instanceof a};function js(Te,z,le){uv(Te,_e=>{_e.call(e,z,le,Xc)})}const GI=function(z){let le=null;if(js(q.beforeSanitizeElements,z,null),vS(z))return zo(z),!0;const _e=jn(z.nodeName);if(js(q.uponSanitizeElement,z,{tagName:_e,allowedTags:Re}),z.hasChildNodes()&&!YI(z.firstElementChild)&&Rr(/<[/\w!]/g,z.innerHTML)&&Rr(/<[/\w!]/g,z.textContent)||z.nodeType===wf.progressingInstruction||_&&z.nodeType===wf.comment&&Rr(/<[/\w]/g,z.data))return zo(z),!0;if(!Re[_e]||B[_e]){if(!B[_e]&&qI(_e)&&(F.tagNameCheck instanceof RegExp&&Rr(F.tagNameCheck,_e)||F.tagNameCheck instanceof Function&&F.tagNameCheck(_e)))return!1;if(X&&!me[_e]){const Jt=T(z)||z.parentNode,sr=b(z)||z.childNodes;if(sr&&Jt){const Qn=sr.length;for(let Vr=Qn-1;Vr>=0;--Vr){const Yo=m(sr[Vr],!0);Yo.__removalCount=(z.__removalCount||0)+1,Jt.insertBefore(Yo,y(z))}}}return zo(z),!0}return z instanceof l&&!F3(z)||(_e==="noscript"||_e==="noembed"||_e==="noframes")&&Rr(/<\/no(script|embed|frames)/i,z.innerHTML)?(zo(z),!0):(v&&z.nodeType===wf.text&&(le=z.textContent,uv([Z,ie,ee],Jt=>{le=mf(le,Jt," ")}),z.textContent!==le&&(gf(e.removed,{element:z.cloneNode()}),z.textContent=le)),js(q.afterSanitizeElements,z,null),!1)},KI=function(z,le,_e){if($&&(le==="id"||le==="name")&&(_e in n||_e in L3))return!1;if(!(G&&!k[le]&&Rr(re,le))){if(!(Y&&Rr(pe,le))){if(!S[le]||k[le]){if(!(qI(z)&&(F.tagNameCheck instanceof RegExp&&Rr(F.tagNameCheck,z)||F.tagNameCheck instanceof Function&&F.tagNameCheck(z))&&(F.attributeNameCheck instanceof RegExp&&Rr(F.attributeNameCheck,le)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(le))||le==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&Rr(F.tagNameCheck,_e)||F.tagNameCheck instanceof Function&&F.tagNameCheck(_e))))return!1}else if(!Lt[le]){if(!Rr(Ne,mf(_e,ce,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&z!=="script"&&See(_e,"data:")===0&&ve[z])){if(!(R&&!Rr(se,mf(_e,ce,"")))){if(_e)return!1}}}}}}return!0},qI=function(z){return z!=="annotation-xml"&&LD(z,He)},XI=function(z){js(q.beforeSanitizeAttributes,z,null);const{attributes:le}=z;if(!le||vS(z))return;const _e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S,forceKeepAttr:void 0};let Jt=le.length;for(;Jt--;){const sr=le[Jt],{name:Qn,namespaceURI:Vr,value:Yo}=sr,sf=jn(Qn);let _r=Qn==="value"?Yo:_ee(Yo);if(_e.attrName=sf,_e.attrValue=_r,_e.keepAttr=!0,_e.forceKeepAttr=void 0,js(q.uponSanitizeAttribute,z,_e),_r=_e.attrValue,V&&(sf==="id"||sf==="name")&&(tv(Qn,z),_r=J+_r),_&&Rr(/((--!?|])>)|<\/(style|title)/i,_r)){tv(Qn,z);continue}if(_e.forceKeepAttr||(tv(Qn,z),!_e.keepAttr))continue;if(!M&&Rr(/\/>/i,_r)){tv(Qn,z);continue}v&&uv([Z,ie,ee],JI=>{_r=mf(_r,JI," ")});const ZI=jn(z.nodeName);if(KI(ZI,sf,_r)){if(E&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Vr)switch(f.getAttributeType(ZI,sf)){case"TrustedHTML":{_r=E.createHTML(_r);break}case"TrustedScriptURL":{_r=E.createScriptURL(_r);break}}try{Vr?z.setAttributeNS(Vr,Qn,_r):z.setAttribute(Qn,_r),vS(z)?zo(z):$D(e.removed)}catch{}}}js(q.afterSanitizeAttributes,z,null)},V3=function Te(z){let le=null;const _e=zI(z);for(js(q.beforeSanitizeShadowDOM,z,null);le=_e.nextNode();)js(q.uponSanitizeShadowNode,le,null),GI(le),XI(le),le.content instanceof o&&Te(le.content);js(q.afterSanitizeShadowDOM,z,null)};return e.sanitize=function(Te){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=null,_e=null,Jt=null,sr=null;if(et=!Te,et&&(Te="<!-->"),typeof Te!="string"&&!YI(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw pf("dirty is not a string, aborting")}else throw pf("toString is not a function");if(!e.isSupported)return Te;if(A||pS(z),e.removed=[],typeof Te=="string"&&(oe=!1),oe){if(Te.nodeName){const Yo=jn(Te.nodeName);if(!Re[Yo]||B[Yo])throw pf("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof a)le=UI("<!---->"),_e=le.ownerDocument.importNode(Te,!0),_e.nodeType===wf.element&&_e.nodeName==="BODY"||_e.nodeName==="HTML"?le=_e:le.appendChild(_e);else{if(!O&&!v&&!x&&Te.indexOf("<")===-1)return E&&L?E.createHTML(Te):Te;if(le=UI(Te),!le)return O?null:L?P:""}le&&D&&zo(le.firstChild);const Qn=zI(oe?Te:le);for(;Jt=Qn.nextNode();)GI(Jt),XI(Jt),Jt.content instanceof o&&V3(Jt.content);if(oe)return Te;if(O){if(N)for(sr=U.call(le.ownerDocument);le.firstChild;)sr.appendChild(le.firstChild);else sr=le;return(S.shadowroot||S.shadowrootmode)&&(sr=j.call(r,sr,!0)),sr}let Vr=x?le.outerHTML:le.innerHTML;return x&&Re["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&Rr(DU,le.ownerDocument.doctype.name)&&(Vr="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+Vr),v&&uv([Z,ie,ee],Yo=>{Vr=mf(Vr,Yo," ")}),E&&L?E.createHTML(Vr):Vr},e.setConfig=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pS(Te),A=!0},e.clearConfig=function(){Xc=null,A=!1},e.isValidAttribute=function(Te,z,le){Xc||pS({});const _e=jn(Te),Jt=jn(z);return KI(_e,Jt,le)},e.addHook=function(Te,z){typeof z=="function"&&gf(q[Te],z)},e.removeHook=function(Te,z){if(z!==void 0){const le=yee(q[Te],z);return le===-1?void 0:Cee(q[Te],le,1)[0]}return $D(q[Te])},e.removeHooks=function(Te){q[Te]=[]},e.removeAllHooks=function(){q=UD()},e}var Lee=$U();function Fo(t){return t[0].toUpperCase()+t.substr(1)}function LU(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function FU(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function VU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(n,r)=>n.charAt(0)==="\\"?n.substr(1,n.length-1):e[r]===void 0?"":e[r])}function zD(t){return R1(`${t}`,{ALLOWED_TAGS:[]})}function R1(t,e){return Lee.sanitize(t,e)}const Uc=t=>["tabindex",t],Fee=()=>["role","treegrid"],Ta=()=>["role","presentation"],Vee=()=>["role","gridcell"],Wee=()=>["role","rowheader"],WU=()=>["role","rowgroup"],Bee=()=>["role","columnheader"],mT=()=>["role","row"],jee=()=>["role","menu"],Uee=()=>["role","menuitem"],zee=()=>["role","menuitemcheckbox"],Yee=()=>["role","combobox"],BU=()=>["role","listbox"],Gee=()=>["role","option"],Kee=()=>["role","checkbox"],qee=()=>["scope","col"],Xee=()=>["scope","row"],Zee=()=>["type","text"],Km=t=>["aria-label",t],zc=()=>["aria-hidden","true"],Jee=()=>["aria-disabled","true"],Qee=()=>["aria-multiselectable","true"],jU=t=>["aria-haspopup",t],UU=t=>["aria-rowcount",t],IC=t=>["aria-colcount",t],zU=t=>["aria-rowindex",t],E1=t=>["aria-colindex",t],Zi=t=>["aria-expanded",t],ete=t=>["aria-sort",t],YD=()=>["aria-readonly","true"],GD=()=>["aria-invalid","true"],YU=t=>["aria-checked",t],x1=()=>["aria-selected","true"],tte=()=>["aria-autocomplete","list"],nte=t=>["aria-controls",t],rte=t=>["aria-activedescendant",t],ite=t=>["aria-live",t],ote=t=>["aria-relevant",t],ste=t=>["aria-setsize",t],ate=t=>["aria-posinset",t];function lte(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=null,i=t;for(;i!==null;){if(n===e){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(n+=1,i=i.parentNode)}return r}function wb(t,e){const n=t.closest(".handsontable");return!!n&&(n.parentNode===e||n===e)}function ute(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function Pd(t){return ute(t)&&t.parent}function xc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:r,DOCUMENT_FRAGMENT_NODE:i}=Node;let o=t;for(;o!=null&&o!==n;){const{nodeType:s,nodeName:a}=o;if(s===r&&(e.includes(a)||e.includes(o)))return o;const{host:l}=o;l&&s===i?o=l:o=o.parentNode}return null}function hv(t,e,n){const r=[];let i=t;for(;i&&(i=xc(i,e,n),!(!i||n&&!n.contains(i)));)r.push(i),i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:i=i.parentNode;const o=r.length;return o?r[o-1]:null}function cte(t,e){const n={element:void 0,classNames:[]};let r=t;for(;r!==null&&r!==t.ownerDocument.documentElement&&!n.element;){if(typeof e=="string"&&r.classList.contains(e))n.element=r,n.classNames.push(e);else if(e instanceof RegExp){const i=Array.from(r.classList).filter(o=>e.test(o));i.length&&(n.element=r,n.classNames.push(...i))}r=r.parentElement}return n}function wc(t,e){let n=t.parentNode,r=[];for(typeof e=="string"?t.defaultView?r=Array.prototype.slice.call(t.querySelectorAll(e),0):r=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):r.push(e);n!==null;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function hte(t){let e=0,n=t;if(n.previousSibling)for(;n=n.previousSibling;)e+=1;return e}function lu(t,e,n){const r=n.parentElement.querySelector(`.ht_clone_${t}`);return r?r.contains(e):null}function GU(t){return!t||!t.length?[]:t.filter(e=>!!e)}function KU(t,e){if(!t||!t.length)return{regexFree:[],regexes:[]};const n=[],r=[];return r.push(...t.filter(i=>{const o=i instanceof RegExp;return o&&e&&n.push(i),!o})),{regexFree:r,regexes:n}}function Me(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function Q(t,e){typeof e=="string"&&(e=e.split(" ")),e=GU(e),e.length>0&&t.classList.add(...e)}function xe(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:n,regexes:r}=KU(e,!0);n=GU(n),n.length>0&&t.classList.remove(...n),r.forEach(i=>{t.classList.forEach(o=>{i.test(o)&&t.classList.remove(o)})})}function Oe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,n]]),e.forEach(r=>{Array.isArray(r)&&r[0]!==""&&t.setAttribute(...r)})}function qd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:n,regexes:r}=KU(e,!0);n.forEach(i=>{i!==""&&t.removeAttribute(i)}),r.forEach(i=>{t.getAttributeNames().forEach(o=>{i.test(o)&&t.removeAttribute(o)})})}function qU(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let n=e.length-1;n>=0;n--)qU(e[n])}}function Va(t){let e;for(;e=t.lastChild;)t.removeChild(e)}const dte=/(<(.*)>|&(.*);)/;function Xd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;dte.test(e)?t.innerHTML=n?R1(e):e:Tc(t,e)}function Tc(t,e){const n=t.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.textContent=e:(Va(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function Od(t){const e=t.ownerDocument.documentElement,n=t.ownerDocument.defaultView;let r=t;for(;r!==e;){if(r===null)return!1;if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(r.host){if(r.host.impl)return Od(r.host.impl);if(r.host)return Od(r.host);throw new Error("Lost in Web Components world")}else return!1;else if(n.getComputedStyle(r).display==="none")return!1;r=r.parentNode}return!0}function fte(t){const n=t.ownerDocument.defaultView;let r=t;for(;r.parentNode;){if(r.style.height==="0px"||r.style.height==="0")return n.getComputedStyle(r).overflow==="hidden";r=r.parentNode}return!1}function wr(t){const e=t.ownerDocument,n=e.defaultView,r=e.documentElement;let i=t,o,s,a;for(o=i.offsetLeft,s=i.offsetTop,a=i;(i=i.offsetParent)&&!(i===e.body||!("offsetLeft"in i));)o+=i.offsetLeft,s+=i.offsetTop,a=i;return a&&a.style.position==="fixed"&&(o+=n.pageXOffset||r.scrollLeft,s+=n.pageYOffset||r.scrollTop),{left:o,top:s}}function XU(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function T1(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function M1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?XU(e):t.scrollTop}function ZU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?T1(e):t.scrollLeft}function ry(t){let e=t.ownerDocument,n=e?e.defaultView:void 0;e||(e=t.document?t.document:t,n=e.defaultView);const r=["auto","scroll"];let i=t.parentNode;for(;i&&i.style&&e.body!==i;){let{overflow:o,overflowX:s,overflowY:a}=i.style;if([o,s,a].includes("scroll"))return i;if({overflow:o,overflowX:s,overflowY:a}=n.getComputedStyle(i),r.includes(o)||r.includes(s)||r.includes(a)||i.clientHeight<=i.scrollHeight+1&&(r.includes(a)||r.includes(o))||i.clientWidth<=i.scrollWidth+1&&(r.includes(s)||r.includes(o)))return i;i=i.parentNode}return n}function gte(t){return t.scrollHeight-t.clientHeight}function mte(t){return t.scrollWidth-t.clientWidth}function qm(t){const e=t.ownerDocument,n=e.defaultView;let r=t.parentNode;for(;r&&r.style&&e.body!==r;){if(r.style.overflow!=="visible"&&r.style.overflow!=="")return r;const i=n.getComputedStyle(r),o=["scroll","hidden","auto"],s=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),l=i.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(l))return r;r=r.parentNode}return n}function iy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===n)return e==="width"?`${n.innerWidth}px`:e==="height"?`${n.innerHeight}px`:void 0}else return;const r=t.style[e];if(r!==""&&r!==void 0)return r;const i=n.getComputedStyle(t);if(i[e]!==""&&i[e]!==void 0)return i[e]}function _n(t){return t.offsetWidth}function Hn(t){return t.offsetHeight}function qg(t){return t.clientHeight||t.innerHeight}function JU(t){return t.clientWidth||t.innerWidth}function QU(t){return t.selectionStart?t.selectionStart:0}function pte(t){return t.selectionEnd?t.selectionEnd:0}function KD(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function AC(t,e,n){if(n===void 0&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch{const i=t.parentNode,o=i.style.display;i.style.display="block",t.setSelectionRange(e,n),i.style.display=o}}}let oR;function vte(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);const r=e.offsetWidth;n.style.overflow="scroll";let i=e.offsetWidth;return r===i&&(i=n.clientWidth),(t.body||t.documentElement).removeChild(n),r-i}function Xn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return oR===void 0&&(oR=vte(t)),oR}function ez(t){return t instanceof Window?t.document.body.scrollHeight>t.innerHeight:t.offsetWidth!==t.clientWidth}function tz(t){return t instanceof Window?t.document.body.scrollWidth>t.innerWidth:t.offsetHeight!==t.clientHeight}function P1(t,e,n){t.style.transform=`translate3d(${e},${n},0)`}function HC(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function bb(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function nz(t){return bb(t)&&t.hasAttribute("data-hot-input")===!1}function rz(t){return!t.parentNode}function wte(t,e){new IntersectionObserver((r,i)=>{r.forEach(o=>{o.isIntersecting&&t.offsetParent!==null&&(e(),i.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function iz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=t.ownerDocument,i=r.createRange(),o=r.defaultView.getSelection();Oe(t,"contenteditable",!0),n&&Oe(t,...zc()),e&&Q(t,"invisibleSelection"),i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i)}function oz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),n.removeAllRanges(),e&&xe(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function bte(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;iz(t,n),e(),oz(t,n)}function La(t){var e;const n=t==null||(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView.Element;return!!(n&&n!==null&&t instanceof n)}function uo(t,e,n){return(e=yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ste="base",pn=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"});class Zd{static get EDITOR_TYPE(){return Ste}constructor(e){uo(this,"hot",void 0),uo(this,"state",pn.VIRGIN),uo(this,"_opened",!1),uo(this,"_fullEditMode",!1),uo(this,"_closeCallback",null),uo(this,"TD",null),uo(this,"row",null),uo(this,"col",null),uo(this,"prop",null),uo(this,"originalValue",null),uo(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,n,r,i,o,s){this.TD=i,this.row=e,this.col=n,this.prop=r,this.originalValue=o,this.cellProperties=s,this.state=this.isOpened()?this.state:pn.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,n){let r,i,o,s;if(n){const l=this.hot.getSelectedLast();r=Math.max(Math.min(l[0],l[2]),0),i=Math.max(Math.min(l[1],l[3]),0),o=Math.max(l[0],l[2]),s=Math.max(l[1],l[3])}else[r,i,o,s]=[this.row,this.col,null,null];const a=this.hot.runHooks("modifyGetCellCoords",r,i,!1,"meta");Array.isArray(a)&&([r,i]=a),this.hot.populateFromArray(r,i,e,o,s,"edit")}beginEditing(e,n){if(this.state!==pn.VIRGIN)return;const r=this.hot,i=r.rowIndexMapper.getRenderableFromVisualIndex(this.row),o=r.columnIndexMapper.getRenderableFromVisualIndex(this.col),s=()=>{if(this.state=pn.EDITING,this.isInFullEditMode()){const l=typeof e=="string"?e:tn(this.originalValue);this.setValue(l)}this.open(n),this._opened=!0,this.focus(),r.view.render(),r.runHooks("afterBeginEditing",this.row,this.col)};this.hot.addHookOnce("afterScroll",s),r.view.scrollViewport(r._createCellCoords(i,o))||(this.hot.removeHook("afterScroll",s),s())}finishEditing(e,n,r){let i;if(r){const o=this._closeCallback;this._closeCallback=s=>{o&&o(s),r(s),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===pn.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===pn.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}const o=this.getValue();this.cellProperties.trimWhitespace?i=[[typeof o=="string"?String.prototype.trim.call(o||""):o]]:i=[[o]],this.state=pn.WAITING,this.saveValue(i,n),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",s=>{this.state=pn.FINISHED,this.discardEditor(s)}):(this.state=pn.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=pn.FINISHED,this.discardEditor()}discardEditor(e){this.state===pn.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=pn.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=pn.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===pn.WAITING}getEditedCellRect(){var e;const n=this.getEditedCell();if(!n)return;const{wtOverlays:r,wtViewport:i}=this.hot.view._wt,o=this.hot.rootWindow,s=wr(n),a=_n(n),l=wr(this.hot.rootElement),u=_n(this.hot.rootElement),c=r.topOverlay.holder,h=r.inlineStartOverlay.holder,d=c!==o?c.scrollTop:0,f=h!==o?h.scrollLeft:0,g=o.innerWidth-l.left-u,{wtTable:m}=(e=r.getParentOverlay(n))!==null&&e!==void 0?e:this.hot.view._wt,p=m.name,y=["master","inline_start"].includes(p)?d:0,b=["master","top","bottom"].includes(p)?f:0,T=s.top===l.top?0:1;let E=s.top-l.top-T-y,P=0;this.hot.isRtl()?P=o.innerWidth-s.left-a-g-1+b:P=s.left-l.left-1-b,["top","top_inline_start_corner"].includes(p)&&(E+=r.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(p)&&(P+=Math.abs(r.inlineStartOverlay.getOverlayOffset()));const I=this.hot.hasColHeaders(),H=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),U=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),j=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(I&&H<=0||H===j)&&(E+=1),U<=0&&(P+=1);const q=i.rowsRenderCalculator.startPosition,Z=i.columnsRenderCalculator.startPosition,ie=Math.abs(r.inlineStartOverlay.getScrollPosition()),ee=r.topOverlay.getScrollPosition(),re=Xn(this.hot.rootDocument);let pe=n.offsetTop;if(["inline_start","master"].includes(p)&&(pe+=q-ee),["bottom","bottom_inline_start_corner"].includes(p)){const{wtViewport:Y,wtTable:G}=r.bottomOverlay.clone;pe+=Y.getWorkspaceHeight()-G.getHeight()-re}let se=n.offsetLeft;this.hot.isRtl()?(se>=0?se=m.getWidth()-n.offsetLeft:se=Math.abs(se),se+=Z-ie-a):["top","master","bottom"].includes(p)&&(se+=Z-ie);const ce=o.getComputedStyle(this.TD),He=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",Ne=parseInt(ce[He],10)>0?0:1,Re=parseInt(ce.borderTopWidth,10)>0?0:1,w=_n(n)+Ne,S=Hn(n)+Re,C=ez(c)?re:0,F=tz(h)?re:0,B=this.hot.view.maximumVisibleElementWidth(se)-C+Ne,k=Math.max(this.hot.view.maximumVisibleElementHeight(pe)-F+Re,this.hot.view.getDefaultRowHeight());return{top:E,start:P,height:S,maxHeight:k,width:w,maxWidth:B}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let n="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?n="top-inline-start-corner":n="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?n="bottom-inline-start-corner":n="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(n="inline-start"),n}}It(Zd,AU);function jo(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function ic(t){return t.isImmediatePropagationEnabled===!1}function Mc(t){return t.button===2}function O1(t){return t.button===0}function _te(t){return t instanceof TouchEvent}function Rte(t,e){const n={x:t.offsetX,y:t.offsetY};let r=t.target;if(!La(e)||r!==e&&r.contains(e))return n;for(;r!==e;)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;return n}function Ete(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=Tte(t,"string");return typeof e=="symbol"?e:e+""}function Tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Ete(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function o(s){r.call(this,Mte(s))}return this.context.eventListeners.push({element:e,event:n,callback:r,callbackProxy:o,options:i,eventManager:this}),e.addEventListener(n,o,i),()=>{this.removeEventListener(e,n,r)}}removeEventListener(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this.context.eventListeners.length,s;for(;o;)if(o-=1,s=this.context.eventListeners[o],s.event===n&&s.element===e){if(r&&r!==s.callback||i&&s.eventManager!==this)continue;this.context.eventListeners.splice(o,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options)}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let n=this.context.eventListeners.length;for(;n;){n-=1;const r=this.context.eventListeners[n];e&&r.eventManager!==this||(this.context.eventListeners.splice(n,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options))}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,n){let r=e.document,i=e;r||(r=e.ownerDocument?e.ownerDocument:e,i=r.defaultView);const o={bubbles:!0,cancelable:n!=="mousemove",view:i,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0};let s;r.createEvent?(s=r.createEvent("MouseEvents"),s.initMouseEvent(n,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,r.body.parentNode)):s=r.createEventObject(),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(`on${n}`,s)}}function Mte(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),jo(this)},t}function oy(t){return window.requestAnimationFrame(t)}function sy(t){window.cancelAnimationFrame(t)}function sz(){return"ontouchstart"in window}function Pte(){return typeof window<"u"}let Qc;function Ote(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Qc||(typeof Intl=="object"?Qc=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?Qc=(n,r)=>`${n}`.localeCompare(r):Qc=(n,r)=>n===r?0:n>r?-1:1,Qc)}const Li=t=>{const e={value:!1};return e.test=(n,r)=>{e.value=t(n,r)},e},eu={chrome:Li((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:Li(t=>/CriOS/.test(t)),edge:Li(t=>/Edge/.test(t)),edgeWebKit:Li(t=>/EdgiOS/.test(t)),firefox:Li(t=>/Firefox/.test(t)),firefoxWebKit:Li(t=>/FxiOS/.test(t)),mobile:Li(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:Li((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},$p={mac:Li(t=>/^Mac/.test(t)),win:Li(t=>/^Win/.test(t)),linux:Li(t=>/^Linux/.test(t)),ios:Li(t=>/iPhone|iPad|iPod/i.test(t))};function Ite(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xe(eu,n=>{let{test:r}=n;return void r(t,e)})}function Ate(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xe($p,e=>{let{test:n}=e;return void n(t)})}Pte()&&(Ite(),Ate());function az(){return eu.chrome.value}function Hte(){return eu.chromeWebKit.value}function sR(){return eu.firefox.value}function kte(){return eu.firefoxWebKit.value}function ay(){return eu.safari.value}function Nte(){return eu.edge.value}function Ma(){return eu.mobile.value}function lz(){return $p.ios.value}function uz(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&$p.mac.value}function qD(){return $p.win.value}function XD(){return $p.mac.value}var ZD={},JD={},QD;function Dte(){if(QD)return JD;QD=1;var t=$t(),e=Dn(),n=ai(),r=Ln(),i=Ls(),o=XM(),s=L2(),a=Ti(),l=Ql(),u=Zl(),c=!u&&l("map",TypeError),h=o(function(){var d=this.iterator,f=r(e(this.next,d)),g=this.done=!!f.done;if(!g)return s(d,this.mapper,[f.value,this.counter++],!0)});return t({target:"Iterator",proto:!0,real:!0,forced:u||c},{map:function(f){r(this);try{n(f)}catch(g){a(this,"throw",g)}return c?e(c,this,f):new h(i(this),{mapper:f})}}),JD}var e$;function $te(){return e$||(e$=1,Dte()),ZD}$te();function Nr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=typeof t;if(n==="number")return!isNaN(t)&&isFinite(t);if(n==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);const r=Array.from(new Set([".",...e])).map(i=>`\\${i}`).join("|");return new RegExp(`^[+-]?(((${r})?\\d+((${r})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(n==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function Lte(t){return Nr(t,[","])}function Ce(t,e,n){let r=-1;for(typeof e=="function"?(n=e,e=t):r=t-1;++r<=e&&n(r)!==!1;);}function t$(t,e,n){let r=t+1;for(typeof e=="function"&&(n=e,e=0);--r>=e&&n(r)!==!1;);}function cz(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function it(t,e,n){return Math.min(t,e)===t?e:Math.max(t,n)===t?n:t}function n$(t,e,n){t.addEventListener(e,n,!1)}function r$(t,e,n){t.removeEventListener(e,n,!1)}function dv(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function hz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300,textContent:h=>h.value,...e},r=t.body,i=t.createTextNode(""),o=t.createElement("span");let s;function a(){var h,d;i.textContent=n.textContent(s),o.style.position="absolute",o.style.fontSize=dv(s).fontSize,o.style.fontFamily=dv(s).fontFamily,o.style.whiteSpace="pre",r.appendChild(o);const f=parseInt(((h=dv(s))===null||h===void 0?void 0:h.paddingInlineStart)||0,10),g=parseInt(((d=dv(s))===null||d===void 0?void 0:d.paddingInlineEnd)||0,10),m=o.clientWidth+f+g+1;r.removeChild(o);const p=s.style;p.height=`${n.minHeight}px`,n.minWidth>m?p.width=`${n.minWidth}px`:m>n.maxWidth?p.width=`${n.maxWidth}px`:p.width=`${m}px`;const y=s.scrollHeight?s.scrollHeight-1:0;n.minHeight>y?p.height=`${n.minHeight}px`:n.maxHeight<y?(p.height=`${n.maxHeight}px`,p.overflowY="visible"):p.height=`${y}px`}function l(){t.defaultView.setTimeout(a,0)}function u(h){if(h&&h.minHeight)if(h.minHeight==="inherit")n.minHeight=s.clientHeight;else{const d=parseInt(h.minHeight,10);isNaN(d)||(n.minHeight=d)}if(h&&h.maxHeight)if(h.maxHeight==="inherit")n.maxHeight=s.clientHeight;else{const d=parseInt(h.maxHeight,10);isNaN(d)||(n.maxHeight=d)}if(h&&h.minWidth)if(h.minWidth==="inherit")n.minWidth=s.clientWidth;else{const d=parseInt(h.minWidth,10);isNaN(d)||(n.minWidth=d)}if(h&&h.maxWidth)if(h.maxWidth==="inherit")n.maxWidth=s.clientWidth;else{const d=parseInt(h.maxWidth,10);isNaN(d)||(n.maxWidth=d)}o.firstChild||(o.className="autoResize",o.style.display="inline-block",o.appendChild(i))}function c(h,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;s=h,u(d),s.nodeName==="TEXTAREA"&&(s.style.resize="none",s.style.height=`${n.minHeight}px`,s.style.minWidth=`${n.minWidth}px`,s.style.maxWidth=`${n.maxWidth}px`,s.style.overflowY="hidden"),f&&(n$(s,"input",a),n$(s,"keydown",l)),a()}return{init:c,resize:a,unObserve(){r$(s,"input",a),r$(s,"keydown",l)}}}function i$(t,e){const n=QU(e),r=e.value.split(`
`);let i=n,o=0;for(let s=0;s<r.length;s++){const a=r[s];s!==0&&(o+=r[s-1].length+1);const l=o+a.length;if(t==="home"?i=o:t==="end"&&(i=l),n<=l)break}AC(e,i)}function uu(t,e,n){return(e=Fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Wte="ht_editor_visible",fv="ht_editor_hidden",o$="textEditor",Bte="text";class Yc extends Zd{static get EDITOR_TYPE(){return Bte}constructor(e){super(e),uu(this,"eventManager",new Vo(this)),uu(this,"autoResize",hz(this.hot.rootDocument)),uu(this,"TEXTAREA",void 0),uu(this,"textareaStyle",void 0),uu(this,"TEXTAREA_PARENT",void 0),uu(this,"textareaParentStyle",void 0),uu(this,"layerClass",void 0),this.eventManager=new Vo(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),wb(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,n,r,i,o,s){const a=this.state;if(super.prepare(e,n,r,i,o,s),!s.readOnly){this.refreshDimensions(!0);const{allowInvalid:l}=s;l&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==pn.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(e,n){this.state===pn.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,n))}focus(){this.TEXTAREA.select(),AC(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),Oe(this.TEXTAREA,[["data-hot-input",""],Uc(-1)]),Q(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),Q(this.TEXTAREA_PARENT,"handsontableInputHolder"),Me(this.TEXTAREA_PARENT,this.layerClass)&&xe(this.TEXTAREA_PARENT,this.layerClass),Q(this.TEXTAREA_PARENT,fv),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){Nte()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",xe(this.TEXTAREA_PARENT,this.layerClass),Q(this.TEXTAREA_PARENT,fv)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";const e=this.TEXTAREA_PARENT.childNodes;let n=!1;Ce(e.length-1,r=>{const i=e[r];if(Me(i,"handsontableEditor"))return n=!0,!1}),Me(this.TEXTAREA_PARENT,fv)&&xe(this.TEXTAREA_PARENT,fv),n?(this.layerClass=Wte,Q(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),Q(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),n=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=n,this.setValue(n),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==pn.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}const{top:n,start:r,width:i,maxWidth:o,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${n}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${r}px`,this.showEditableElement();const l=this.hot.rootWindow.getComputedStyle(this.TD);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor,this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(i,o),minHeight:Math.min(s,a),maxWidth:o,maxHeight:a},!0)}bindEvents(){lz()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===pn.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===pn.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),r={runOnlyIf:()=>we(this.hot.getSelected()),group:o$},i=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};n.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(i(),!1),runOnlyIf:o=>!this.hot.selection.isMultiple()&&!o.altKey},{keys:[["Meta","Enter"]],callback:()=>(i(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(i(),!1)},{keys:[["Home"]],callback:(o,s)=>{let[a]=s;i$(a,this.TEXTAREA)}},{keys:[["End"]],callback:(o,s)=>{let[a]=s;i$(a,this.TEXTAREA)}}],r)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(o$)}}const dz="gridDefault",tu="editorManager.handlingEditor",jte={name:"editorCloseAndSave",callback(t){t._getEditorManager().closeEditorAndSaveChanges()}},Ute={name:"editorCloseAndSaveByArrowKeys",callback(t,e,n){const r=t._getEditorManager(),i=r.getActiveEditor();i.isInFullEditMode()&&i.state===pn.EDITING||(r.closeEditorAndSaveChanges(),t.getSelected()&&(n.includes("arrowdown")?t.selection.transformStart(1,0):n.includes("arrowup")?t.selection.transformStart(-1,0):n.includes("arrowleft")?t.selection.transformStart(0,-1*t.getDirectionFactor()):n.includes("arrowright")&&t.selection.transformStart(0,t.getDirectionFactor())),e.preventDefault())}},zte={name:"editorCloseAndSaveByEnter",callback(t,e){const n=t._getEditorManager();n.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),n.moveSelectionAfterEnter(e)}},Yte={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},Gte={name:"editorFastOpen",callback(t,e){const{highlight:n}=t.getSelectedRangeLast();n.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},Kte={name:"editorOpen",callback(t,e,n){const r=t._getEditorManager(),i=t.getSelectedRangeLast(),{highlight:o}=i;if(t.selection.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0){const s=t.getSettings(),a=typeof s.enterMoves=="function"?s.enterMoves(e):s.enterMoves;n.includes("shift")?t.selection.transformFocus(-a.row,-a.col):t.selection.transformFocus(a.row,a.col);return}o.isHeader()||(t.getSettings().enterBeginsEditing?r.cellProperties.readOnly?r.moveSelectionAfterEnter(e):r.openEditor(null,e,!0):r.moveSelectionAfterEnter(e),jo(e))}};function qte(){return[jte,Ute,zte,Yte,Gte,Kte]}const Xte={name:"extendCellsSelectionDown",callback(t){const{selection:e}=t,{highlight:n}=t.getSelectedRangeLast();!e.isSelectedByColumnHeader()&&!e.isSelectedByCorner()&&(n.isCell()||n.isHeader()&&e.isSelectedByRowHeader())&&(e.markSource("keyboard"),e.transformEnd(1,0),e.markEndSource())}},Zte={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{selection:e,rowIndexMapper:n}=t,{to:r}=t.getSelectedRangeLast(),i=Math.min(r.row+t.countVisibleRows(),t.countRows()-1),o=n.getNearestNotHiddenIndex(i,-1);if(o!==null){const s=t._createCellCoords(o,r.col),a=r.row-t.getFirstFullyVisibleRow(),l=Math.min(s.row-a,t.countRows()-1);e.markSource("keyboard"),e.setRangeEnd(s),e.markEndSource(),t.scrollViewportTo({row:l,verticalSnap:"top",horizontalSnap:"start"})}}},Jte={name:"extendCellsSelectionLeft",callback(t){const{selection:e}=t,{highlight:n}=t.getSelectedRangeLast();!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&(n.isCell()||n.isHeader()&&e.isSelectedByColumnHeader())&&(e.markSource("keyboard"),e.transformEnd(0,-1*t.getDirectionFactor()),e.markEndSource())}},Qte={name:"extendCellsSelectionRight",callback(t){const{selection:e}=t,{highlight:n}=t.getSelectedRangeLast();!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&(n.isCell()||n.isHeader()&&e.isSelectedByColumnHeader())&&(e.markSource("keyboard"),e.transformEnd(0,t.getDirectionFactor()),e.markEndSource())}},ene={name:"extendCellsSelectionToColumns",callback(t){const{selection:e}=t,{highlight:n,from:r,to:i}=t.getSelectedRangeLast();e.markSource("keyboard"),e.isSelectedByRowHeader()?e.selectAll(!0,!0):t.selectColumns(r.col,i.col,n),e.markEndSource()}},tne={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&e.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(t.countRows()-1,-1),l=i.clone();l.row=r.row,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col)),e.markEndSource()}}},nne={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast();if(!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&r.isCell()){const s=n.getNearestNotHiddenIndex(t.countCols()-1,-1),a=i.clone();a.col=r.col,e.markSource("keyboard"),e.setRangeStart(a,void 0,!1,r.clone()),e.setRangeEnd(t._createCellCoords(o.row,s)),e.markEndSource()}}},rne={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast();if(!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&r.isCell()){const s=parseInt(t.getSettings().fixedColumnsStart,10),a=n.getNearestNotHiddenIndex(s,1),l=i.clone();l.col=r.col,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,r.clone()),e.setRangeEnd(t._createCellCoords(o.row,a)),e.markEndSource()}}},ine={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&e.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]),l=i.clone();l.col=r.col,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a)),e.markEndSource()}}},one={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&e.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]),l=i.clone();l.col=r.col,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a)),e.markEndSource()}}},sne={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&e.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(0,1),l=i.clone();l.row=r.row,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col)),e.markEndSource()}}},ane={name:"extendCellsSelectionToRows",callback(t){const{selection:e}=t,{highlight:n,from:r,to:i}=t.getSelectedRangeLast();e.markSource("keyboard"),e.isSelectedByColumnHeader()?e.selectAll(!0,!0):t.selectRows(r.row,i.row,n),e.markEndSource()}},lne={name:"extendCellsSelectionUp",callback(t){const{selection:e}=t,{highlight:n}=t.getSelectedRangeLast();!e.isSelectedByColumnHeader()&&!e.isSelectedByCorner()&&(n.isCell()||n.isHeader()&&e.isSelectedByRowHeader())&&(e.markSource("keyboard"),e.transformEnd(-1,0),e.markEndSource())}},une={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{selection:e,rowIndexMapper:n}=t,{to:r}=t.getSelectedRangeLast(),i=Math.max(r.row-t.countVisibleRows(),0),o=n.getNearestNotHiddenIndex(i,1);if(o!==null){const s=t._createCellCoords(o,r.col),a=r.row-t.getFirstFullyVisibleRow(),l=Math.max(s.row-a,0);e.markSource("keyboard"),e.setRangeEnd(s),e.markEndSource(),t.scrollViewportTo({row:l,verticalSnap:"top",horizontalSnap:"start"})}}};function cne(){return[Xte,Zte,Jte,Qte,ene,tne,nne,rne,ine,one,sne,ane,lne,une]}const hne={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.transformStart(1,0),e.markEndSource()}},dne={name:"moveCellSelectionDownByViewportHeight",callback(t){const{selection:e}=t,{navigableHeaders:n}=t.getSettings(),r=n?t.countColHeaders():0,{row:i}=t.getSelectedRangeLast().highlight;let o=t.countVisibleRows()+r;o=o===0?1:o,i===t.countRows()-1?o=1:i+o>t.countRows()&&(o=t.countRows()-i-1),e.markSource("keyboard"),e.transformStart(o,0),e.markEndSource(),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}},fne={name:"moveCellSelectionInlineEnd",callback(t,e){const{selection:n}=t,r=t.getSettings(),i=t.getSelectedRangeLast(),o=typeof r.tabMoves=="function"?r.tabMoves(e):r.tabMoves;n.markSource("keyboard"),n.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?n.transformFocus(-o.row,-o.col):n.transformStart(-o.row,-o.col),n.markEndSource()}},gne={name:"moveCellSelectionInlineStart",callback(t,e){const{selection:n}=t,r=t.getSettings(),i=t.getSelectedRangeLast(),o=typeof r.tabMoves=="function"?r.tabMoves(e):r.tabMoves;n.markSource("keyboard"),n.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?n.transformFocus(o.row,o.col):n.transformStart(o.row,o.col),n.markEndSource()}},mne={name:"moveCellSelectionLeft",callback(t){const{selection:e}=t;e.markSource("keyboard"),e.transformStart(0,-1*t.getDirectionFactor()),e.markEndSource()}},pne={name:"moveCellSelectionRight",callback(t){const{selection:e}=t;e.markSource("keyboard"),e.transformStart(0,t.getDirectionFactor()),e.markEndSource()}},vne={name:"moveCellSelectionToMostBottom",callback(t){const{selection:e}=t,{col:n}=t.getSelectedRangeLast().highlight;let r=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);r===null&&(r=-1),e.setRangeStart(t._createCellCoords(r,n))}},wne={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,i=parseInt(t.getSettings().fixedRowsBottom,10),o=n.getNearestNotHiddenIndex(t.countRows()-i-1,-1),s=r.getNearestNotHiddenIndex(t.countCols()-1,-1);e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(o,s)),e.markEndSource()}},bne={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t;e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1))),e.markEndSource()}},yne={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,r=parseInt(t.getSettings().fixedColumnsStart,10),i=t.getSelectedRangeLast().highlight.row,o=n.getNearestNotHiddenIndex(r,1);e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(i,o)),e.markEndSource()}},Cne={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,r=t.getSelectedRangeLast().highlight.row;let i=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);i===null&&(i=t.isRtl()?-1:-t.countRowHeaders()),e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(r,i)),e.markEndSource()}},Sne={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{row:r}=t.getSelectedRangeLast().highlight;let i=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);i===null&&(i=t.isRtl()?-t.countRowHeaders():-1),e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(r,i)),e.markEndSource()}},_ne={name:"moveCellSelectionToMostTop",callback(t){const{selection:e}=t,{col:n}=t.getSelectedRangeLast().highlight;let r=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);r===null&&(r=-t.countColHeaders()),e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(r,n)),e.markEndSource()}},Rne={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,i=parseInt(t.getSettings().fixedRowsTop,10),o=parseInt(t.getSettings().fixedColumnsStart,10),s=n.getNearestNotHiddenIndex(i,1),a=r.getNearestNotHiddenIndex(o,1);e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(s,a)),e.markEndSource()}},Ene={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.transformStart(-1,0),e.markEndSource()}},xne={name:"moveCellSelectionUpByViewportHight",callback(t){const{selection:e}=t,{navigableHeaders:n}=t.getSettings(),r=n?t.countColHeaders():0,{row:i}=t.getSelectedRangeLast().highlight;let o=t.countVisibleRows()+r;o=o===0?-1:-o,i===-r?o=-1:i+o<r&&(o=-(i+r)),e.markSource("keyboard"),e.transformStart(o,0),e.markEndSource(),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function Tne(){return[hne,dne,fne,gne,mne,pne,vne,wne,bne,yne,Cne,Sne,_ne,Rne,Ene,xne]}const Mne={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},Pne={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeLast(),n=t.getFirstFullyVisibleRow()-1,r=t.getFirstFullyVisibleColumn()-1,i=t.getLastFullyVisibleRow()+1,o=t.getLastFullyVisibleColumn()+1,s=t._createCellCoords(n,r),a=t._createCellCoords(i,o);if(!t._createCellRange(s,s,a).includes(e)&&(e.row>=0||e.col>=0)){const u={};if(e.col>=0){const c=Math.floor(t.countVisibleCols()/2);u.col=Math.max(e.col-c,0)}if(e.row>=0){const c=Math.floor(t.countVisibleRows()/2);u.row=Math.max(e.row-c,0)}t.scrollViewportTo({...u,verticalSnap:"top",horizontalSnap:"start"})}}},One={name:"selectAllCells",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.selectAll(!0,!0,{disableHeadersHighlight:!0}),e.markEndSource()}},Ine={name:"selectAllCellsAndHeaders",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.selectAll(!0,!0,{disableHeadersHighlight:!1}),e.markEndSource()}},Ane={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:n,col:r}=e[e.length-1].highlight.normalize(),i=t.getDataAtCell(n,r),o=new Map;for(let s=0;s<e.length;s++)e[s].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==n||l!==r)){const{readOnly:u}=t.getCellMeta(a,l);u||o.set(`${a}x${l}`,[a,l,i])}});t.setDataAtCell(Array.from(o.values()))}},Hne=[...qte(),...cne(),...Tne(),Mne,Pne,One,Ine,Ane];function fz(t){const e={};return Hne.forEach(n=>{let{name:r,callback:i}=n;e[r]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i(t,...s)}}),e}function kne(t){const e=t.getShortcutManager().addContext("editor"),n=fz(t),r={group:tu};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(i,o)=>n.editorCloseAndSaveByEnter(i,o)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(i,o)=>n.editorCloseAndSaveByEnter(i,o)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:(i,o)=>n.editorCloseAndSave(i,o)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(i,o)=>n.editorCloseAndSaveByArrowKeys(i,o)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],r)}function Nne(t){const e=t.getShortcutManager().addContext("grid"),n=fz(t),r={runOnlyIf:()=>{const{navigableHeaders:i}=t.getSettings();return we(t.getSelected())&&(i||!i&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:dz};e.addShortcuts([{keys:[["F2"]],callback:i=>n.editorFastOpen(i)},{keys:[["Enter"],["Enter","Shift"]],callback:(i,o)=>n.editorOpen(i,o)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:tu,runOnlyIf:()=>we(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells(),runOnlyIf:()=>{var i;return!((i=t.getSelectedRangeLast())!==null&&i!==void 0&&i.highlight.isHeader())}},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>{var i;return(i=t.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight.isHeader()},preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>{var i,o;return!((i=t.getSelectedRangeLast())!==null&&i!==void 0&&i.highlight.isHeader())&&((o=t.getSelectedRangeLast())===null||o===void 0?void 0:o.getCellsCount())>1}},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:i=>n.moveCellSelectionInlineStart(i)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:i=>n.moveCellSelectionInlineEnd(i)},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],r)}function Dne(t){[Nne,kne].forEach(e=>e(t))}const s$="handsontableEditor",$ne="handsontable";class I1 extends Yc{static get EDITOR_TYPE(){return $ne}open(){super.open();const e=this.htContainer.style;this.htEditor&&(this.htEditor.destroy(),e.width="",e.height="",e.overflow=""),e.display==="none"&&(e.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),AC(this.TEXTAREA,0,this.TEXTAREA.value.length),this.htEditor.updateSettings({width:this.getWidth(),height:this.getHeight()}),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s);const a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,themeName:this.hot.getCurrentThemeName(),afterOnCellMouseDown(u,c){const h=this.getSourceData(c.row,c.col);h!==void 0&&a.setValue(h),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&kn(l,s.handsontable),this.htOptions=l}beginEditing(e,n){const r=this.hot.getSettings().onBeginEditing;r&&r()===!1||super.beginEditing(e,n)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,n,r){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const i=this.htEditor.getValue();i!==void 0&&this.setValue(i)}super.finishEditing(e,n,r)}getHeight(){return this.htEditor.view.getTableHeight()+1}getWidth(){return this.htEditor.view.getTableWidth()}assignHooks(){this.hot.addHook("afterDestroy",()=>{var e;(e=this.htEditor)===null||e===void 0||e.destroy()}),this.hot.addHook("afterSetTheme",(e,n)=>{if(!n){var r;(r=this.htEditor)===null||r===void 0||r.useTheme(e)}})}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();const r={group:s$,relativeToGroup:tu,position:"before"},i=(o,s)=>{const a=this.htEditor;if(o!==void 0&&(o<0||a.flipped&&o>a.countRows()-1?a.deselectCell():a.selectCell(o,0),a.getData().length))return s.preventDefault(),jo(s),this.hot.listen(),this.TEXTAREA.focus(),!1};n.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{const s=this.htEditor;let a,l;return!s.getSelectedLast()&&s.flipped?a=s.countRows()-1:s.getSelectedLast()&&(s.flipped?(l=s.getSelectedLast()[0],a=Math.max(0,l-1)):(l=s.getSelectedLast()[0],a=l-1)),i(a,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{const s=this.htEditor;let a,l;if(!s.getSelectedLast()&&!s.flipped)a=0;else if(s.getSelectedLast()){if(s.flipped)a=s.getSelectedLast()[0]+1;else if(!s.flipped){const u=s.countRows()-1;l=s.getSelectedLast()[0],a=Math.min(u,l+1)}}return i(a,o)},preventDefault:!1}],r)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(s$)}}const Ee={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:sR()?182:174,AUDIO_MUTE:sR()?181:173,AUDIO_UP:sR()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},Lne=[Ee.ALT,Ee.ARROW_DOWN,Ee.ARROW_LEFT,Ee.ARROW_RIGHT,Ee.ARROW_UP,Ee.AUDIO_DOWN,Ee.AUDIO_MUTE,Ee.AUDIO_UP,Ee.BACKSPACE,Ee.CAPS_LOCK,Ee.DELETE,Ee.END,Ee.ENTER,Ee.ESCAPE,Ee.F1,Ee.F2,Ee.F3,Ee.F4,Ee.F5,Ee.F6,Ee.F7,Ee.F8,Ee.F9,Ee.F10,Ee.F11,Ee.F12,Ee.F13,Ee.F14,Ee.F15,Ee.F16,Ee.F17,Ee.F18,Ee.F19,Ee.HOME,Ee.INSERT,Ee.MEDIA_NEXT,Ee.MEDIA_PLAY_PAUSE,Ee.MEDIA_PREV,Ee.MEDIA_STOP,Ee.NULL,Ee.NUM_LOCK,Ee.PAGE_DOWN,Ee.PAGE_UP,Ee.PAUSE,Ee.SCROLL_LOCK,Ee.SHIFT,Ee.TAB];function Fne(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function gz(t){return Lne.includes(t)}function Vne(t){return[Ee.CONTROL,Ee.COMMAND_LEFT,Ee.COMMAND_RIGHT,Ee.COMMAND_FIREFOX].includes(t)}function Lp(t,e){const n=e.split("|");let r=!1;return W(n,i=>{if(t===Ee[i])return r=!0,!1}),r}const Wne="base";function Fp(t,e,n,r,i,o,s){const a=s.ariaTags,l=[],u=[],c=[],h=[];s.className&&Q(e,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&h.push(YD())):a&&c.push(YD()[0]),s.valid===!1&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&h.push(GD())):(u.push(s.invalidCellClassName),a&&c.push(GD()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!o&&s.placeholder&&l.push(s.placeholderCellClassName),xe(e,u),Q(e,l),qd(e,c),Oe(e,h)}Fp.RENDERER_TYPE=Wne;const Bne="text";function Ka(t,e,n,r,i,o,s){Fp.apply(this,[t,e,n,r,i,o,s]);let a=o;!a&&s.placeholder&&(a=s.placeholder),a=tn(a),s.trimWhitespace&&(a=a.trim()),Tc(e,a)}Ka.RENDERER_TYPE=Bne;function Rt(t){return typeof t=="function"}function kC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,n=null,r;function i(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n&&clearTimeout(n),n=setTimeout(()=>{r=t.apply(this,s)},e),r}return i}function mz(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.apply(this,n.concat(s))}}function jne(t){const e=t.length;function n(r){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const l=r.concat(s);let u;return l.length>=e?u=t.apply(this,l):u=n(l),u}}return n([])}function pT(t,e,n,r,i,o,s,a){return we(a)?t.call(e,n,r,i,o,s,a):we(s)?t.call(e,n,r,i,o,s):we(o)?t.call(e,n,r,i,o):we(i)?t.call(e,n,r,i):we(r)?t.call(e,n,r):we(n)?t.call(e,n):t.call(e)}function Une(t,e){pz(t,e),e.add(t)}function a$(t,e,n){pz(t,e),e.set(t,n)}function pz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gv(t,e,n){return(e=zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=Yne(t,"string");return typeof e=="symbol"?e:e+""}function Yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aR(t,e){return t.get(vT(t,e))}function vT(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Gne="autocomplete";var lR=new WeakMap,l$=new WeakMap,uR=new WeakSet;class A1 extends I1{constructor(){super(...arguments),Une(this,uR),gv(this,"query",null),gv(this,"strippedChoices",[]),gv(this,"rawChoices",[]),a$(this,lR,this.hot.guid.slice(0,9)),a$(this,l$,kC(()=>{this.focus()},100)),gv(this,"sortByRelevance",function(e,n,r){const i=[],o=[],s=e.length;let a=n.length,l,u,c,h;if(s===0){for(c=0;c<a;c++)o.push(c);return o}for(c=0;c<a;c++){if(u=zD(tn(n[c])),r)h=u.indexOf(e);else{const d=this.cellProperties.locale;h=u.toLocaleLowerCase(d).indexOf(e.toLocaleLowerCase(d))}h!==-1&&(l=u.length-h-s,i.push({baseIndex:c,index:h,charsLeft:l,value:u}))}for(i.sort((d,f)=>{if(f.index===-1)return-1;if(d.index===-1)return 1;if(d.index<f.index)return-1;if(f.index<d.index)return 1;if(d.index===f.index){if(d.charsLeft<f.charsLeft)return-1;if(d.charsLeft>f.charsLeft)return 1}return 0}),c=0,a=i.length;c<a;c++)o.push(i[c].baseIndex);return o})}static get EDITOR_TYPE(){return Gne}getValue(){const e=this.rawChoices.find(n=>this.stripValueIfNeeded(n)===this.TEXTAREA.value);return we(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),Q(this.htContainer,"autocompleteEditor"),Q(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&Oe(this.TEXTAREA,[Zee(),Yee(),jU("listbox"),tte()])}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.hot.getSettings().ariaTags&&Oe(this.TEXTAREA,[Zi("false"),nte(`${aR(lR,this)}-listbox-${e}-${n}`)])}open(){super.open();const e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,n=this.hot.getSettings().ariaTags,r=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,i=r==null?void 0:r.length,{row:o,col:s}=this;this.showEditableElement(),this.focus(),this.addHook("beforeKeyDown",a=>this.onBeforeKeyDown(a)),this.htEditor.addHook("afterScroll",aR(l$,this)),this.htEditor.updateSettings({colWidths:e?[_n(this.TEXTAREA)-2]:void 0,autoColumnSize:!0,renderer:(a,l,u,c,h,d,f)=>{Ka(a,l,u,c,h,d,f);const{filteringCaseSensitive:g,allowHtml:m,locale:p}=this.cellProperties,y=this.query;let b=tn(d),T,E;b&&!m&&(T=g===!0?b.indexOf(y):b.toLocaleLowerCase(p).indexOf(y.toLocaleLowerCase(p)),T!==-1&&(E=b.substr(T,y.length),b=b.replace(E,`<strong>${E}</strong>`))),n&&Oe(l,[Gee(),...r?[ste(i)]:[],...r?[ate(r.indexOf(d)+1)]:[],["id",`${this.htEditor.rootElement.id}_${u}-${c}`]]),l.innerHTML=b},afterSelectionEnd:(a,l)=>{if(n){const u=h=>{Oe(h,[x1()]),Oe(this.TEXTAREA,...rte(h.id))},c=this.htEditor.getCell(a,l,!0);c!==null?u(c):this.htEditor.addHookOnce("afterScrollVertically",()=>{const h=this.htEditor.getCell(a,l,!0);u(h)})}}}),n&&(Oe(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...Ta()),Oe(this.htEditor.rootElement,[BU(),ite("polite"),ote("text"),["id",`${aR(lR,this)}-listbox-${o}-${s}`]]),Oe(this.TEXTAREA,...Zi("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&Oe(this.TEXTAREA,[Zi("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){const n=this.cellProperties.source;this.query=e,typeof n=="function"?n.call(this.cellProperties,e,r=>{this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}updateChoicesList(e){const n=QU(this.TEXTAREA),r=pte(this.TEXTAREA),i=this.cellProperties.sortByRelevance,o=this.cellProperties.filter;let s=null,a=null,l=e;i&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));const u=Array.isArray(s)?s.length:0;if(o===!1)u&&(a=s[0]);else{const c=[];for(let h=0,d=l.length;h<d&&!(i&&u<=h);h++)u?c.push(l[s[h]]):c.push(l[h]);a=0,l=c}this.strippedChoices=l,l.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(pb([l])),l.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),AC(this.TEXTAREA,n,n===r?void 0:r)}flipDropdownIfNeeded(){const e=this.getEditedCellRect(),n=e.height;let r=e.top;if(this.hot.view.isVerticallyScrollableByWindow()){const a=this.hot.view.getTableOffset().top-this.hot.rootWindow.scrollY;r=Math.max(r+a,0)}const i=this.getHeight(),o=this.hot.view.getWorkspaceHeight()-r-n,s=i>o&&r>o+n;return s?this.flipDropdown(i):this.unflipDropdown(),this.limitDropdownIfNeeded(s?r:o,i),s}limitDropdownIfNeeded(e,n){if(n>e){let r=0,i=0,o=0,s=null;do o=this.htEditor.getRowHeight(i)||this.htEditor.view.getDefaultRowHeight(),r+=o,i+=1;while(r<e);s=r-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+n-s}px`),this.setDropdownHeight(r-o)}}flipDropdown(e){const n=this.htEditor.rootElement.style;n.position="absolute",n.top=`${-e}px`,this.htEditor.flipped=!0}unflipDropdown(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){this.htEditor.updateSettings({width:this.getWidth(),height:this.getHeight()}),vT(uR,this,u$).call(this),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e}),vT(uR,this,u$).call(this),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getHeight(){const e=this.hot.rootWindow.getComputedStyle(this.htContainer.querySelector(".htCore")),n=parseInt(e.borderTopWidth,10)+parseInt(e.borderBottomWidth,10),r=Math.min(this.cellProperties.visibleRows,this.strippedChoices.length);return Array.from({length:r},(o,s)=>s).reduce((o,s)=>{const a=this.htEditor.getRowHeight(s)||this.htEditor.view.getDefaultRowHeight();return o+a},0)+n+1}getWidth(){const e=this.hot.rootWindow.getComputedStyle(this.htContainer.querySelector(".htCore")),n=parseInt(e.borderInlineStartWidth,10)+parseInt(e.borderInlineEndWidth,10);return this.htEditor.getColWidth(0)+n}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:n}=this.cellProperties,r=nt(e,o=>tn(o));return nt(r,o=>n?o:zD(o))}allowKeyEventPropagation(e){const n=this.htEditor.getSelectedRangeLast(),r={row:n?n.from.row:-1};let i=!1;return e===Ee.ARROW_DOWN&&r.row>0&&r.row<this.htEditor.countRows()-1&&(i=!0),e===Ee.ARROW_UP&&r.row>-1&&(i=!0),i}onBeforeKeyDown(e){if(Fne(e.keyCode)||e.keyCode===Ee.BACKSPACE||e.keyCode===Ee.DELETE||e.keyCode===Ee.INSERT){let n=10;if(e.keyCode===Ee.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(n+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},n)}}}function u$(){this.htEditor.view.hasVerticalScroll()&&this.htEditor.updateSettings({width:this.getWidth()+Xn(this.hot.rootDocument)})}const Kne="checkbox";class vz extends Zd{static get EDITOR_TYPE(){return Kne}beginEditing(e,n){if(n&&n.type==="mouseup"&&n.target.nodeName==="TD"){const r=this.TD.querySelector('input[type="checkbox"]');Me(r,"htBadValue")||r.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */const Al=()=>window,Bi=()=>window.document,wT=(t,e)=>window.setTimeout(t,e),hs=function(t,e,n,r){t.addEventListener(e,n,!!r)},Ks=function(t,e,n,r){t.removeEventListener(e,n,!!r)},qne=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},fi=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},cR=function(t,e){fi(t,e)||(t.className=t.className===""?e:t.className+" "+e)},hR=function(t,e){t.className=qne((" "+t.className+" ").replace(" "+e+" "," "))},H1=function(t){return/Array/.test(Object.prototype.toString.call(t))},yi=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},Xne=function(t){let e=t.getDay();return e===0||e===6},Zne=function(t){return t%4===0&&t%100!==0||t%400===0},c$=function(t,e){return[31,Zne(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},mv=function(t){yi(t)&&t.setHours(0,0,0,0)},pv=function(t,e){return t.getTime()===e.getTime()},ly=function(t,e,n){let r,i;for(r in e)i=t[r]!==void 0,i&&typeof e[r]=="object"&&e[r]!==null&&e[r].nodeName===void 0?yi(e[r])?n&&(t[r]=new Date(e[r].getTime())):H1(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=ly({},e[r],n):(n||!i)&&(t[r]=e[r]);return t},h$=function(t,e,n){let r=Bi().createEvent("HTMLEvents");r.initEvent(e,!0,!1),r=ly(r,n),t.dispatchEvent(r)},d$=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},qo={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},f$=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},Jne=function(t){let e=[],n="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},Qne=function(t,e){t.setHours(0,0,0,0);let n=t.getDate(),r=t.getDay(),i=e,o=i-1,s=7,a=function(d){return(d+s-1)%s};t.setDate(n+o-a(r));let l=new Date(t.getFullYear(),0,i),u=24*60*60*1e3,c=(t.getTime()-l.getTime())/u;return 1+Math.round((c-o+a(l.getDay()))/s)},ere=function(t,e,n,r,i){let o=new Date(r,n,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(o).isoWeek():Qne(o,i))+"</td>"},tre=function(t,e,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},nre=function(t){return"<tbody>"+t.join("")+"</tbody>"},rre=function(t){let e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+f$(t,e)+'">'+f$(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},ire=function(t,e,n,r,i,o){let s,a,l,u=t._o,c=n===u.minYear,h=n===u.maxYear,d='<div id="'+o+'" class="pika-title" role="heading" aria-live="polite">',f,g,m=!0,p=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(n===i?s-e:12+s-e)+'"'+(s===r?' selected="selected"':"")+(c&&s<u.minMonth||h&&s>u.maxMonth?' disabled="disabled"':"")+">"+u.i18n.months[s]+"</option>");for(f='<div class="pika-label">'+u.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",H1(u.yearRange)?(s=u.yearRange[0],a=u.yearRange[1]+1):(s=n-u.yearRange,a=1+n+u.yearRange),l=[];s<a&&s<=u.maxYear;s++)s>=u.minYear&&l.push('<option value="'+s+'"'+(s===n?' selected="selected"':"")+">"+s+"</option>");return g='<div class="pika-label">'+n+u.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",u.showMonthAfterYear?d+=g+f:d+=f+g,c&&(r===0||u.minMonth>=r)&&(m=!1),h&&(r===11||u.maxMonth<=r)&&(p=!1),e===0&&(d+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+u.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(d+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+u.i18n.nextMonth+"</button>"),d+="</div>"},ore=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+rre(t)+nre(e)+"</table>"};function bT(t){let e=this,n=e.config(t);e._onMouseDown=function(i){if(!e._v)return;i=i||Al().event;let o=i.target||i.srcElement;if(o)if(fi(o,"is-disabled")||(fi(o,"pika-button")&&!fi(o,"is-empty")&&!fi(o.parentNode,"is-disabled")?(e.setDate(new Date(o.getAttribute("data-pika-year"),o.getAttribute("data-pika-month"),o.getAttribute("data-pika-day"))),n.bound&&wT(function(){e.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()},100)):fi(o,"pika-prev")?e.prevMonth():fi(o,"pika-next")&&e.nextMonth()),fi(o,"pika-select"))e._c=!0;else if(i.preventDefault)i.preventDefault();else return i.returnValue=!1,!1},e._onChange=function(i){i=i||Al().event;let o=i.target||i.srcElement;o&&(fi(o,"pika-select-month")?e.gotoMonth(o.value):fi(o,"pika-select-year")&&e.gotoYear(o.value))},e._onKeyChange=function(i){if(i=i||Al().event,e.isVisible())switch(i.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let i=this.moment(n.field.value,n.format,n.formatStrict);return i&&i.isValid()?i.toDate():null}else return new Date(Date.parse(n.field.value))},e._onInputChange=function(i){let o;i.firedBy!==e&&(o=e._parseFieldValue(),yi(o)&&e.setDate(o),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let i=Bi().activeElement;do if(fi(i,"pika-single"))return;while(i=i.parentNode);e._c||(e._b=wT(function(){e.hide()},50)),e._c=!1},e._onClick=function(i){i=i||Al().event;let o=i.target||i.srcElement,s=o;if(o){!hasEventListeners&&fi(o,"pika-select")&&(o.onchange||(o.setAttribute("onchange","return;"),hs(o,"change",e._onChange)));do if(fi(s,"pika-single")||s===n.trigger)return;while(s=s.parentNode);e._v&&o!==n.trigger&&s!==n.trigger&&e.hide()}},e.el=Bi().createElement("div"),e.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),hs(e.el,"mousedown",e._onMouseDown,!0),hs(e.el,"touchend",e._onMouseDown,!0),hs(e.el,"change",e._onChange),n.keyboardInput&&hs(Bi(),"keydown",e._onKeyChange),n.field&&(n.container?n.container.appendChild(e.el):n.bound?Bi().body.appendChild(e.el):n.field.parentNode.insertBefore(e.el,n.field.nextSibling),hs(n.field,"change",e._onInputChange),n.defaultDate||(n.defaultDate=e._parseFieldValue(),n.setDefaultDate=!0));let r=n.defaultDate;yi(r)?n.setDefaultDate?e.setDate(r,!0):e.gotoDate(r):e.gotoDate(new Date),n.bound?(this.hide(),e.el.className+=" is-bound",hs(n.trigger,"click",e._onInputClick),hs(n.trigger,"focus",e._onInputFocus),hs(n.trigger,"blur",e._onInputBlur)):this.show()}bT.prototype={config:function(t){this._o||(this._o=ly({},qo,!0));let e=ly(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,yi(e.minDate)||(e.minDate=!1),yi(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),H1(e.yearRange)){let r=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||qo.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,yi(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return yi(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",h$(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!yi(t))return;let n=this._o.minDate,r=this._o.maxDate;yi(n)&&t<n?t=n:yi(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),mv(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),h$(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(yi(t)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let n=this.getDate()||new Date,r=parseInt(e)*24*60*60*1e3,i;t==="add"?i=new Date(n.valueOf()+r):t==="subtract"&&(i=new Date(n.valueOf()-r)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=d$(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=d$({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(mv(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=qo.minDate,this._o.minYear=qo.minYear,this._o.minMonth=qo.minMonth,this._o.startRange=qo.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(mv(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=qo.maxDate,this._o.maxYear=qo.maxYear,this._o.maxMonth=qo.maxMonth,this._o.endRange=qo.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,n=e.minYear,r=e.maxYear,i=e.minMonth,o=e.maxMonth,s="",a;this._y<=n&&(this._y=n,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o));for(let l=0;l<e.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+ire(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=s,e.bound&&e.field.type!=="hidden"&&wT(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,n,r,i,o,s,a,l,u,c;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,n=this.el.offsetHeight,r=Al().innerWidth||Bi().documentElement.clientWidth,i=Al().innerHeight||Bi().documentElement.clientHeight,o=Bi().body.scrollTop||Bi().documentElement.scrollTop,u=!0,c=!0,l=t.getBoundingClientRect(),s=l.left+Al().pageXOffset,a=l.bottom+Al().pageYOffset,(this._o.reposition&&s+e>r||this._o.position.indexOf("right")>-1&&s-e+t.offsetWidth>0)&&(s=s-e+t.offsetWidth,u=!1),(this._o.reposition&&a+n>i+o||this._o.position.indexOf("top")>-1&&a-n-t.offsetHeight>0)&&(a=a-n-t.offsetHeight,c=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",cR(this.el,u?"left-aligned":"right-aligned"),cR(this.el,c?"bottom-aligned":"top-aligned"),hR(this.el,u?"right-aligned":"left-aligned"),hR(this.el,c?"top-aligned":"bottom-aligned"))},render:function(t,e,n){let r=this._o,i=new Date,o=c$(t,e),s=new Date(t,e,1).getDay(),a=[],l=[];mv(i),r.firstDay>0&&(s-=r.firstDay,s<0&&(s+=7));let u=e===0?11:e-1,c=e===11?0:e+1,h=e===0?t-1:t,d=e===11?t+1:t,f=c$(h,u),g=o+s,m=g;for(;m>7;)m-=7;g+=7-m;let p=!1;for(let y=0,b=0;y<g;y++){let T=new Date(t,e,1+(y-s)),E=yi(this._d)?pv(T,this._d):!1,P=pv(T,i),I=r.events.indexOf(T.toDateString())!==-1,H=y<s||y>=o+s,U=1+(y-s),K=e,j=t,q=r.startRange&&pv(r.startRange,T),Z=r.endRange&&pv(r.endRange,T),ie=r.startRange&&r.endRange&&r.startRange<T&&T<r.endRange,ee=r.minDate&&T<r.minDate||r.maxDate&&T>r.maxDate||r.disableWeekends&&Xne(T)||r.disableDayFn&&r.disableDayFn(T);H&&(y<s?(U=f+U,K=u,j=h):(U=U-o,K=c,j=d));let re={day:U,month:K,year:j,hasEvent:I,isSelected:E,isToday:P,isDisabled:ee,isEmpty:H,isStartRange:q,isEndRange:Z,isInRange:ie,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&E&&(p=!0),l.push(Jne(re)),++b===7&&(r.showWeekNumber&&l.unshift(ere(this,y-s,e,t,r.firstWeekOfYearMinDays)),a.push(tre(l,r.isRTL,r.pickWholeWeek,p)),l=[],b=0,p=!1)}return ore(r,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),hR(this.el,"is-hidden"),this._o.bound&&(hs(Bi(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&Ks(Bi(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),cR(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),Ks(this.el,"mousedown",this._onMouseDown,!0),Ks(this.el,"touchend",this._onMouseDown,!0),Ks(this.el,"change",this._onChange),t.keyboardInput&&Ks(Bi(),"keydown",this._onKeyChange),t.field&&(Ks(t.field,"change",this._onInputChange),t.bound&&(Ks(t.trigger,"click",this._onInputClick),Ks(t.trigger,"focus",this._onInputFocus),Ks(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function sre(t,e){are(t,e),e.add(t)}function are(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g$(t,e,n){return(e=lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=ure(t,"string");return typeof e=="symbol"?e:e+""}function ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dR(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const wz="date",m$="dateEditor",cre="DD/MM/YYYY";var vv=new WeakSet;class bz extends Yc{constructor(){super(...arguments),sre(this,vv),g$(this,"parentDestroyed",!1),g$(this,"$datePicker",null)}static get EDITOR_TYPE(){return wz}init(){if(typeof ne!="function")throw new Error("You need to include moment.js to your project.");if(typeof bT!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()}),this.hot.addHook("afterSetTheme",(e,n)=>{n||(xe(this.datePicker,/ht-theme-.*/g),Q(this.datePicker,e))})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),Q(this.datePicker,"htDatepickerHolder");const e=this.hot.getCurrentThemeName();xe(this.datePicker,/ht-theme-.*/g),Q(this.datePicker,e),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",n=>{Me(n.target,"pika-day")&&this.hideDatepicker(),n.stopPropagation()})}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const r=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(e),super.open(),r.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:m$})}close(){var e;this._opened=!1,(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{const i=this.hot._getEditorManager();i.closeEditor(),this.hot.view.render(),i.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(m$),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,n)}showDatepicker(e){const n=dR(vv,this,fR).call(this),r=this.hot.view.isMouseDown(),i=e?gz(e.keyCode):!1;let o;this.datePicker.style.display="block",this.$datePicker=new bT(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(ne),this.$datePicker._onInputFocus=function(){},this.originalValue?(o=this.originalValue,ne(o,n,!0).isValid()&&this.$datePicker.setMoment(ne(o,n),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!i&&!r&&this.setValue("")):this.cellProperties.defaultDate?(o=this.cellProperties.defaultDate,ne(o,n,!0).isValid()&&this.$datePicker.setMoment(ne(o,n),!0),!i&&!r&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){var e;const n=this.TEXTAREA,r={};this.cellProperties&&this.cellProperties.datePickerConfig&&OC(r,this.cellProperties.datePickerConfig);const i=r.onSelect,o=r.onClose;return r.field=n,r.trigger=n,r.container=this.datePicker,r.bound=!1,r.keyboardInput=!1,r.format=(e=r.format)!==null&&e!==void 0?e:dR(vv,this,fR).call(this),r.reposition=r.reposition||!1,r.isRTL=!1,r.onSelect=s=>{let a=s;isNaN(a.getTime())||(a=ne(a).format(dR(vv,this,fR).call(this))),this.setValue(a),i&&i(),Ma()&&this.hideDatepicker()},r.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),o&&o()},r}refreshDimensions(e){var n;if(super.refreshDimensions(e),this.state!==pn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}const{rowIndexMapper:r,columnIndexMapper:i}=this.hot,{wtOverlays:o}=this.hot.view._wt,{wtTable:s}=(n=o.getParentOverlay(this.TD))!==null&&n!==void 0?n:this.hot.view._wt,a=r.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleRow()),l=r.getVisualFromRenderableIndex(s.getLastPartiallyVisibleRow()),u=i.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleColumn()),c=i.getVisualFromRenderableIndex(s.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=l&&this.col>=u&&this.col<=c){const h=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+h.top+Hn(this.TD)}px`;let d=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?d+=h.right-_n(this.datePicker):d+=h.left,this.datePickerStyle.left=`${d}px`}else this.hideDatepicker()}}function fR(){var t;return(t=this.cellProperties.dateFormat)!==null&&t!==void 0?t:cre}const hre="dropdown";class yz extends A1{static get EDITOR_TYPE(){return hre}prepare(e,n,r,i,o,s){s.filter=!1,s.strict=!0,super.prepare(e,n,r,i,o,s)}}const dre="numeric";class Cz extends Yc{static get EDITOR_TYPE(){return dre}}function fre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const pre="password";class Sz extends Yc{constructor(){super(...arguments),fre(this,"autoResize",hz(this.hot.rootDocument,{textContent:e=>"".repeat(e.value.length)}))}static get EDITOR_TYPE(){return pre}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Va(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const gR="ht_editor_visible",p$="selectEditor",vre="select";class _z extends Zd{static get EDITOR_TYPE(){return vre}init(){this.selectWrapper=this.hot.rootDocument.createElement("div"),this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.selectWrapper.style.display="none";const e=this.hot.rootDocument.createElement("DIV"),n=this.hot.getSettings().ariaTags;e.className="htAutocompleteArrow",n&&e.setAttribute(...zc()),e.appendChild(this.hot.rootDocument.createTextNode("")),Q(this.selectWrapper,"htSelectEditor"),this.selectWrapper.appendChild(this.select),this.selectWrapper.insertBefore(e,this.selectWrapper.firstChild),this.hot.rootElement.appendChild(this.selectWrapper),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.selectWrapper.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.selectWrapper.style.display="none",Me(this.selectWrapper,gR)&&xe(this.selectWrapper,gR),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s);const a=this.cellProperties.selectOptions;let l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),Va(this.select),Xe(l,(u,c)=>{const h=this.hot.rootDocument.createElement("OPTION");h.value=c,Xd(h,u),this.select.appendChild(h)})}prepareOptions(e){let n={};if(Array.isArray(e))for(let r=0,i=e.length;r<i;r++)n[e[r]]=e[r];else typeof e=="object"&&(n=e);return n}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==pn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}const{top:e,start:n,width:r,height:i}=this.getEditedCellRect(),o=this.selectWrapper.style;o.height=`${i}px`,o.width=`${r}px`,o.top=`${e}px`,o[this.hot.isRtl()?"right":"left"]=`${n}px`,o.margin="0px",Q(this.selectWrapper,gR)}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),r={group:p$};this.isInFullEditMode()&&n.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{const i=this.select.selectedIndex-1;i>=0&&(this.select[i].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const i=this.select.selectedIndex+1;i<=this.select.length-1&&(this.select[i].selected=!0)}}],r)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(p$)}}const wre="time";class Rz extends Yc{static get EDITOR_TYPE(){return wre}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.TEXTAREA.dir="ltr"}}function gt(){we(console)&&console.warn(...arguments)}function k1(){we(console)&&console.error(...arguments)}const oc=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","beforeCompositionStart","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterSetTheme","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyRowHeightByOverlayName","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyGetCoordsElement","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],mR=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),pR=new Map([[]]);var v$={},vR,w$;function bre(){if(w$)return vR;w$=1;var t=Ud();return vR=function(e,n,r){for(var i=0,o=arguments.length>2?r:t(n),s=new e(o);o>i;)s[i]=n[i++];return s},vR}var wR,b$;function yre(){if(b$)return wR;b$=1;var t=Nn();return wR=function(e,n){var r=t[e],i=r&&r.prototype;return i&&i[n]},wR}var bR,y$;function NC(){if(y$)return bR;y$=1;var t=Wo(),e=qM(),n=Jl().f,r=t("unscopables"),i=Array.prototype;return i[r]===void 0&&n(i,r,{configurable:!0,value:e(null)}),bR=function(o){i[r][o]=!0},bR}var C$;function Cre(){if(C$)return v$;C$=1;var t=$t(),e=xn(),n=ai(),r=xp(),i=bre(),o=yre(),s=NC(),a=Array,l=e(o("Array","sort"));return t({target:"Array",proto:!0},{toSorted:function(c){c!==void 0&&n(c);var h=r(this),d=i(a,h);return l(d,c)}}),s("toSorted"),v$}Cre();function Sre(t,e){Ez(t,e),e.add(t)}function yR(t,e,n){Ez(t,e),e.set(t,n)}function Ez(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S$(t,e,n){return t.set(uy(t,e),n),n}function tr(t,e){return t.get(uy(t,e))}function uy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const _re=100;var gi=new WeakMap,Bh=new WeakMap,CR=new WeakMap,SR=new WeakSet;class _${constructor(){Sre(this,SR),yR(this,gi,new Map),yR(this,Bh,new Map),yR(this,CR,new Set),oc.forEach(e=>uy(SR,this,R$).call(this,e))}getHooks(e){var n;return(n=tr(gi,this).get(e))!==null&&n!==void 0?n:[]}add(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};tr(gi,this).has(e)||(uy(SR,this,R$).call(this,e),oc.push(e));const i=tr(gi,this).get(e);if(i.find(u=>u.callback===n))return;const o=Number.isInteger(r.orderIndex)?r.orderIndex:0,s=!!r.runOnce,a=!!r.initialHook;let l=!1;if(a){const u=i.find(c=>c.initialHook);u&&(u.callback=n,l=!0)}if(!l){i.push({callback:n,orderIndex:o,runOnce:s,initialHook:a,skip:!1});let u=tr(CR,this).has(e);!u&&o!==0&&(u=!0,tr(CR,this).add(e)),u&&i.length>1&&tr(gi,this).set(e,i.toSorted((c,h)=>c.orderIndex-h.orderIndex))}}has(e){return tr(gi,this).has(e)&&tr(gi,this).get(e).length>0}remove(e,n){if(!tr(gi,this).has(e))return!1;const r=tr(gi,this).get(e),i=r.find(o=>o.callback===n);if(i){let o=tr(Bh,this).get(e);return i.skip=!0,o+=1,o>_re&&(tr(gi,this).set(e,r.filter(s=>!s.skip)),o=0),tr(Bh,this).set(e,o),!0}return!1}destroy(){tr(gi,this).clear(),tr(Bh,this).clear(),S$(gi,this,null),S$(Bh,this,null)}}function R$(t){tr(gi,this).set(t,[]),tr(Bh,this).set(t,0)}function Rre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Tre=yt`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`;class de{constructor(){Rre(this,"globalBucket",new _$)}static getSingleton(){return Pre()}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=new _$),e.pluginHookBucket):this.globalBucket}add(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return Array.isArray(n)?W(n,o=>this.add(e,o,r)):(mR.has(e)&&gt(VU(Tre,{hookName:e,removedInVersion:mR.get(e)})),pR.has(e)&&gt(pR.get(e)),this.getBucket(r).add(e,n,{orderIndex:i,runOnce:!1})),this}once(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return Array.isArray(n)?W(n,o=>this.once(e,o,r)):this.getBucket(r).add(e,n,{orderIndex:i,runOnce:!0}),this}addAsFixed(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Array.isArray(n)?W(n,i=>this.addAsFixed(e,i,r)):this.getBucket(r).add(e,n,{initialHook:!0}),this}remove(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return this.getBucket(r).remove(e,n)}has(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.getBucket(n).has(e)}run(e,n,r,i,o,s,a,l){{const u=this.getBucket().getHooks(n),c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=pT(u[h].callback,e,r,i,o,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h].callback),h+=1}}{const u=this.getBucket(e).getHooks(n),c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=pT(u[h].callback,e,r,i,o,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h].callback,e),h+=1}}return r}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.getBucket(e).destroy()}register(e){this.isRegistered(e)||oc.push(e)}deregister(e){this.isRegistered(e)&&oc.splice(oc.indexOf(e),1)}isDeprecated(e){return pR.has(e)||mR.has(e)}isRegistered(e){return oc.indexOf(e)>=0}getRegistered(){return oc}}const Mre=new de;function Pre(){return Mre}const _R=new Map;function Uo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";_R.has(t)||_R.set(t,new Map);const e=_R.get(t);function n(a,l){e.set(a,l)}function r(a){return e.get(a)}function i(a){return e.has(a)}function o(){return[...e.keys()]}function s(){return[...e.values()]}return{register:n,getItem:r,hasItem:i,getNames:o,getValues:s}}const yT=new WeakMap,{register:Ore,getItem:xz,hasItem:Tz,getNames:oOe,getValues:sOe}=Uo("editors");function Ire(t){const e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new n(r)),e[r.guid]},de.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function Mz(t,e){let n;if(typeof t=="function")yT.get(t)||pi(null,t),n=yT.get(t);else if(typeof t=="string")n=xz(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!n)throw Error(`No editor registered under name "${t}"`);return n.getInstance(e)}function E$(t){if(typeof t=="function")return t;if(!Tz(t))throw Error(`No registered editor found under "${t}" name`);return xz(t).getConstructor()}function pi(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);const n=new Ire(e);typeof t=="string"&&Ore(t,n),yT.set(e,n)}function Are(){pi(Zd),pi(A1),pi(vz),pi(bz),pi(yz),pi(I1),pi(Cz),pi(Sz),pi(_z),pi(Yc),pi(Rz)}const Hre="html";function N1(t,e,n,r,i,o,s){Fp.apply(this,[t,e,n,r,i,o,s]),Xd(e,o??"",!1)}N1.RENDERER_TYPE=Hre;const kre="autocomplete";function Jd(t,e,n,r,i,o,s){const{rootDocument:a}=t,l=s.allowHtml?N1:Ka,u=a.createElement("DIV"),c=t.getSettings().ariaTags;if(u.className="htAutocompleteArrow",c&&u.setAttribute(...zc()),u.appendChild(a.createTextNode("")),l.apply(this,[t,e,n,r,i,o,s]),e.firstChild||e.appendChild(a.createTextNode("")),e.insertBefore(u,e.firstChild),Q(e,"htAutocomplete"),!t.acArrowListener){const h=new Vo(t);t.acArrowListener=function(d){Me(d.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(n,r),e)},h.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{h.destroy()})}}Jd.RENDERER_TYPE=kre;const Nre="dropdown";function D1(t,e,n,r,i,o,s){Jd.apply(this,[t,e,n,r,i,o,s])}D1.RENDERER_TYPE=Nre;var x$={},T$={},M$;function Dre(){if(M$)return T$;M$=1;var t=$t(),e=Dn(),n=zd(),r=ai(),i=Ln(),o=Ls(),s=Ti(),a=Ql(),l=a("every",TypeError);return t({target:"Iterator",proto:!0,real:!0,forced:l},{every:function(c){i(this);try{r(c)}catch(f){s(this,"throw",f)}if(l)return e(l,this,c);var h=o(this),d=0;return!n(h,function(f,g){if(!c(f,d++))return g()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),T$}var P$;function $re(){return P$||(P$=1,Dre()),x$}$re();const Pz="ContextMenu:items",$e=Pz,$1=`${$e}.noItems`,L1=`${$e}.insertRowAbove`,F1=`${$e}.insertRowBelow`,V1=`${$e}.insertColumnOnTheLeft`,W1=`${$e}.insertColumnOnTheRight`,B1=`${$e}.removeRow`,j1=`${$e}.removeColumn`,U1=`${$e}.undo`,z1=`${$e}.redo`,cy=`${$e}.readOnly`,Y1=`${$e}.clearColumn`,G1=`${$e}.copy`,K1=`${$e}.copyWithHeaders`,q1=`${$e}.copyWithGroupHeaders`,X1=`${$e}.copyHeadersOnly`,Z1=`${$e}.cut`,J1=`${$e}.freezeColumn`,Q1=`${$e}.unfreezeColumn`,eP=`${$e}.mergeCells`,tP=`${$e}.unmergeCells`,nP=`${$e}.addComment`,rP=`${$e}.editComment`,iP=`${$e}.removeComment`,oP=`${$e}.readOnlyComment`,sP=`${$e}.align`,aP=`${$e}.align.left`,lP=`${$e}.align.center`,uP=`${$e}.align.right`,cP=`${$e}.align.justify`,hP=`${$e}.align.top`,dP=`${$e}.align.middle`,fP=`${$e}.align.bottom`,gP=`${$e}.borders`,mP=`${$e}.borders.top`,pP=`${$e}.borders.right`,vP=`${$e}.borders.bottom`,wP=`${$e}.borders.left`,bP=`${$e}.borders.remove`,yP=`${$e}.nestedHeaders.insertChildRow`,CP=`${$e}.nestedHeaders.detachFromParent`,SP=`${$e}.hideColumn`,_P=`${$e}.showColumn`,RP=`${$e}.hideRow`,EP=`${$e}.showRow`,Fr="Filters:",dn=`${Fr}conditions`,DC=`${dn}.none`,xP=`${dn}.isEmpty`,TP=`${dn}.isNotEmpty`,MP=`${dn}.isEqualTo`,PP=`${dn}.isNotEqualTo`,OP=`${dn}.beginsWith`,IP=`${dn}.endsWith`,AP=`${dn}.contains`,HP=`${dn}.doesNotContain`,Lre=`${dn}.byValue`,kP=`${dn}.greaterThan`,NP=`${dn}.greaterThanOrEqualTo`,DP=`${dn}.lessThan`,$P=`${dn}.lessThanOrEqualTo`,LP=`${dn}.isBetween`,FP=`${dn}.isNotBetween`,VP=`${dn}.after`,WP=`${dn}.before`,BP=`${dn}.today`,jP=`${dn}.tomorrow`,UP=`${dn}.yesterday`,zP=`${Fr}labels.filterByCondition`,YP=`${Fr}labels.filterByValue`,GP=`${Fr}labels.conjunction`,$C=`${Fr}labels.disjunction`,hy=`${Fr}values.blankCells`,KP=`${Fr}buttons.selectAll`,qP=`${Fr}buttons.clear`,XP=`${Fr}buttons.ok`,ZP=`${Fr}buttons.cancel`,JP=`${Fr}buttons.placeholder.search`,QP=`${Fr}buttons.placeholder.value`,eO=`${Fr}buttons.placeholder.secondValue`,tO="CheckboxRenderer:",nO=`${tO}checked`,rO=`${tO}unchecked`,Fre=Object.freeze(Object.defineProperty({__proto__:null,CHECKBOX_CHECKED:nO,CHECKBOX_RENDERER_NAMESPACE:tO,CHECKBOX_UNCHECKED:rO,CONTEXTMENU_ITEMS_ADD_COMMENT:nP,CONTEXTMENU_ITEMS_ALIGNMENT:sP,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:fP,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:lP,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:cP,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:aP,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:dP,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:uP,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:hP,CONTEXTMENU_ITEMS_BORDERS:gP,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:vP,CONTEXTMENU_ITEMS_BORDERS_LEFT:wP,CONTEXTMENU_ITEMS_BORDERS_RIGHT:pP,CONTEXTMENU_ITEMS_BORDERS_TOP:mP,CONTEXTMENU_ITEMS_CLEAR_COLUMN:Y1,CONTEXTMENU_ITEMS_COPY:G1,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:X1,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:q1,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:K1,CONTEXTMENU_ITEMS_CUT:Z1,CONTEXTMENU_ITEMS_EDIT_COMMENT:rP,CONTEXTMENU_ITEMS_FREEZE_COLUMN:J1,CONTEXTMENU_ITEMS_HIDE_COLUMN:SP,CONTEXTMENU_ITEMS_HIDE_ROW:RP,CONTEXTMENU_ITEMS_INSERT_LEFT:V1,CONTEXTMENU_ITEMS_INSERT_RIGHT:W1,CONTEXTMENU_ITEMS_MERGE_CELLS:eP,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:CP,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:yP,CONTEXTMENU_ITEMS_NO_ITEMS:$1,CONTEXTMENU_ITEMS_READ_ONLY:cy,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:oP,CONTEXTMENU_ITEMS_REDO:z1,CONTEXTMENU_ITEMS_REMOVE_BORDERS:bP,CONTEXTMENU_ITEMS_REMOVE_COLUMN:j1,CONTEXTMENU_ITEMS_REMOVE_COMMENT:iP,CONTEXTMENU_ITEMS_REMOVE_ROW:B1,CONTEXTMENU_ITEMS_ROW_ABOVE:L1,CONTEXTMENU_ITEMS_ROW_BELOW:F1,CONTEXTMENU_ITEMS_SHOW_COLUMN:_P,CONTEXTMENU_ITEMS_SHOW_ROW:EP,CONTEXTMENU_ITEMS_UNDO:U1,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:Q1,CONTEXTMENU_ITEMS_UNMERGE_CELLS:tP,CONTEXT_MENU_ITEMS_NAMESPACE:Pz,FILTERS_BUTTONS_CANCEL:ZP,FILTERS_BUTTONS_CLEAR:qP,FILTERS_BUTTONS_OK:XP,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:JP,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:eO,FILTERS_BUTTONS_PLACEHOLDER_VALUE:QP,FILTERS_BUTTONS_SELECT_ALL:KP,FILTERS_CONDITIONS_AFTER:VP,FILTERS_CONDITIONS_BEFORE:WP,FILTERS_CONDITIONS_BEGINS_WITH:OP,FILTERS_CONDITIONS_BETWEEN:LP,FILTERS_CONDITIONS_BY_VALUE:Lre,FILTERS_CONDITIONS_CONTAINS:AP,FILTERS_CONDITIONS_EMPTY:xP,FILTERS_CONDITIONS_ENDS_WITH:IP,FILTERS_CONDITIONS_EQUAL:MP,FILTERS_CONDITIONS_GREATER_THAN:kP,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:NP,FILTERS_CONDITIONS_LESS_THAN:DP,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:$P,FILTERS_CONDITIONS_NAMESPACE:dn,FILTERS_CONDITIONS_NONE:DC,FILTERS_CONDITIONS_NOT_BETWEEN:FP,FILTERS_CONDITIONS_NOT_CONTAIN:HP,FILTERS_CONDITIONS_NOT_EMPTY:TP,FILTERS_CONDITIONS_NOT_EQUAL:PP,FILTERS_CONDITIONS_TODAY:BP,FILTERS_CONDITIONS_TOMORROW:jP,FILTERS_CONDITIONS_YESTERDAY:UP,FILTERS_DIVS_FILTER_BY_CONDITION:zP,FILTERS_DIVS_FILTER_BY_VALUE:YP,FILTERS_LABELS_CONJUNCTION:GP,FILTERS_LABELS_DISJUNCTION:$C,FILTERS_NAMESPACE:Fr,FILTERS_VALUES_BLANK_CELLS:hy},Symbol.toStringTag,{value:"Module"})),O$=new WeakMap,I$=new WeakMap,Vre="htBadValue",Id="data-row",Ad="data-col",Wre="checkboxRenderer",Oz="checkbox";de.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,n){const{label:r,type:i,row:o,column:s,prop:a}=e;if(i===Oz){if(r){const{value:l,property:u}=r;let c=n;if(l)c=typeof l=="function"?l(o,s,a,n):l;else if(u){const h=this.getDataAtRowProp(o,u);c=h!==null?h:n}t=c}return t}});function iO(t,e,n,r,i,o,s){const{rootDocument:a}=t,l=t.getSettings().ariaTags;Fp.apply(this,[t,e,n,r,i,o,s]),Bre(t);let u=jre(a);const c=s.label;let h=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),Va(e),o===s.checkedTemplate||tn(o).toLocaleLowerCase(s.locale)===tn(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:o===s.uncheckedTemplate||tn(o).toLocaleLowerCase(s.locale)===tn(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:bn(o)?Q(u,"noValue"):(u.style.display="none",Q(u,Vre),h=!0),Oe(u,[[Id,n],[Ad,r]]),l&&Oe(u,[Km(u.checked?t.getTranslatedPhrase(nO):t.getTranslatedPhrase(rO)),YU(u.checked),Kee()]),!h&&c){let m="";if(c.value)m=typeof c.value=="function"?c.value.call(this,n,r,i,o):c.value;else if(c.property){const y=t.getDataAtRowProp(n,c.property);m=y!==null?y:""}const p=Ure(a,m,c.separated!==!0);c.position==="before"?c.separated?(e.appendChild(p),e.appendChild(u)):(p.appendChild(u),u=p):(!c.position||c.position==="after")&&(c.separated?(e.appendChild(u),e.appendChild(p)):(p.insertBefore(u,p.firstChild),u=p))}(!c||c&&!c.separated)&&e.appendChild(u),h&&e.appendChild(a.createTextNode("#bad-value#")),O$.has(t)||(O$.set(t,!0),d());function d(){const p=t.getShortcutManager().getContext("grid"),y={group:Wre,relativeToGroup:tu,position:"before"};p.addShortcuts([{keys:[["space"]],callback:()=>(f(),!g()),runOnlyIf:()=>{var b;return(b=t.getSelectedRangeLast())===null||b===void 0?void 0:b.highlight.isCell()}},{keys:[["enter"]],callback:()=>(f(),!g()),runOnlyIf:()=>{const b=t.getSelectedRangeLast();return t.getSettings().enterBeginsEditing&&(b==null?void 0:b.highlight.isCell())&&!t.selection.isMultiple()}},{keys:[["delete"],["backspace"]],callback:()=>(f(!0),!g()),runOnlyIf:()=>{var b;return(b=t.getSelectedRangeLast())===null||b===void 0?void 0:b.highlight.isCell()}}],y)}function f(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const p=t.getSelectedRange(),y=[],b=new Map;let T=[],E=0;if(p){for(let P=0;P<p.length;P++){const{row:I,col:H}=p[P].getTopStartCorner(),{row:U,col:K}=p[P].getBottomEndCorner();for(let j=I;j<=U;j+=1)for(let q=H;q<=K;q+=1){const Z=t.getCellMeta(j,q);if(Z.hidden)continue;const ie={checkedTemplate:Z.checkedTemplate,uncheckedTemplate:Z.uncheckedTemplate};if(Z.type!=="checkbox"){m===!0&&!Z.readOnly&&(b.has(y.length)?b.set(y.length,[...b.get(y.length),[j,q,null]]):b.set(y.length,[[j,q,null]]));continue}if(Z.readOnly===!0)continue;typeof Z.checkedTemplate>"u"&&(Z.checkedTemplate=!0),typeof Z.uncheckedTemplate>"u"&&(Z.uncheckedTemplate=!1);const ee=t.getDataAtCell(j,q);m===!1?[Z.checkedTemplate,Z.checkedTemplate.toString()].includes(ee)?T.push([j,q,Z.uncheckedTemplate,ie]):[Z.uncheckedTemplate,Z.uncheckedTemplate.toString(),null,void 0].includes(ee)&&T.push([j,q,Z.checkedTemplate,ie]):T.push([j,q,Z.uncheckedTemplate,ie]),E+=1}y.push(E),E=0}T.every(P=>{let[,,I]=P;return I===T[0][2]})?T=T.map(P=>{let[I,H,U]=P;return[I,H,U]}):T=T.map(P=>{let[I,H,,U]=P;return[I,H,U.checkedTemplate]}),T.length>0&&y.forEach((P,I)=>{let H=T.splice(0,P);b.size&&b.has(I)&&(H=[...H,...b.get(I)]),t.setDataAtCell(H)})}}function g(){const m=t.getSelectedRange();if(m){for(let p=0;p<m.length;p++){const y=m[p].getTopStartCorner(),b=m[p].getBottomEndCorner();for(let T=y.row;T<=b.row;T++)for(let E=y.col;E<=b.col;E++){if(t.getCellMeta(T,E).readOnly)continue;const I=t.getCell(T,E);if(La(I)&&I.querySelectorAll("input[type=checkbox]").length>0)return!0}}return!1}}}iO.RENDERER_TYPE=Oz;function Bre(t){let e=I$.get(t);if(!e){const{rootElement:n}=t;e=new Vo(t),e.addEventListener(n,"click",r=>Yre(r,t)),e.addEventListener(n,"mouseup",r=>zre(r,t)),e.addEventListener(n,"change",r=>Gre(r,t)),I$.set(t,e)}return e}function jre(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function Ure(t,e,n){const r=t.createElement("label");r.className=`htCheckboxRendererLabel ${n?"fullWidth":""}`;const i=t.createTextNode(e);if(n){const o=t.createElement("span");o.appendChild(i),r.appendChild(o)}else r.appendChild(i);return r.cloneNode(!0)}function zre(t,e){const{target:n}=t;oO(n)&&(!n.hasAttribute(Id)||!n.hasAttribute(Ad)||setTimeout(e.listen,10))}function Yre(t,e){const{target:n}=t;if(!oO(n)||!n.hasAttribute(Id)||!n.hasAttribute(Ad))return;const r=parseInt(n.getAttribute(Id),10),i=parseInt(n.getAttribute(Ad),10);e.getCellMeta(r,i).readOnly&&t.preventDefault()}function Gre(t,e){const{target:n}=t;if(!oO(n)||!n.hasAttribute(Id)||!n.hasAttribute(Ad))return;const r=parseInt(n.getAttribute(Id),10),i=parseInt(n.getAttribute(Ad),10),o=e.getCellMeta(r,i);if(!o.readOnly){let s=null;t.target.checked?s=o.uncheckedTemplate===void 0?!0:o.checkedTemplate:s=o.uncheckedTemplate===void 0?!1:o.uncheckedTemplate,e.setDataAtCell(r,i,s)}}function oO(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}const Kre="handsontable";function sO(t,e,n,r,i,o,s){Jd.apply(this,[t,e,n,r,i,o,s])}sO.RENDERER_TYPE=Kre;var qre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var RR,A$;function Zre(){return A$||(A$=1,RR={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(t){let e=t%10;return~~(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),RR}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var ER,H$;function Iz(){if(H$)return ER;H$=1;const t=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function e(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function n(l,u,c,h,d,f,g){if(!isNaN(+l))return+l;let m="",p=l.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(p!==l)return-1*n(p,u,c,h,d,f);for(let I=0;I<t.length;I++){let H=t[I];if(m=l.replace(RegExp(`([0-9 ])(${H.key})$`),"$1"),m!==l)return n(m,u,c,h,d,f)*H.factor}if(m=l.replace("%",""),m!==l)return n(m,u,c,h,d,f)/100;let y=parseFloat(l);if(isNaN(y))return;let b=h(y);if(b&&b!=="."&&(m=l.replace(new RegExp(`${e(b)}$`),""),m!==l))return n(m,u,c,h,d,f);let T={};Object.keys(f).forEach(I=>{T[f[I]]=I});let E=Object.keys(T).sort().reverse(),P=E.length;for(let I=0;I<P;I++){let H=E[I],U=T[H];if(m=l.replace(H,""),m!==l){let K;switch(U){case"thousand":K=Math.pow(10,3);break;case"million":K=Math.pow(10,6);break;case"billion":K=Math.pow(10,9);break;case"trillion":K=Math.pow(10,12);break}return n(m,u,c,h,d,f)*K}}}function r(l,u,c){let h=l.replace(c,"");return h=h.replace(new RegExp(`([0-9])${e(u.thousands)}([0-9])`,"g"),"$1$2"),h=h.replace(u.decimal,"."),h}function i(l,u,c="",h,d,f,g){if(l==="")return;if(l===d)return 0;let m=r(l,u,c);return n(m,u,c,h,d,f)}function o(l,u){if(!(l.indexOf(":")&&u.thousands!==":"))return!1;let h=l.split(":");if(h.length!==3)return!1;let d=+h[0],f=+h[1],g=+h[2];return!isNaN(d)&&!isNaN(f)&&!isNaN(g)}function s(l){let u=l.split(":"),c=+u[0],h=+u[1];return+u[2]+60*h+3600*c}function a(l,u){const c=uO();let h=c.currentDelimiters(),d=c.currentCurrency().symbol,f=c.currentOrdinal(),g=c.getZeroFormat(),m=c.currentAbbreviations(),p;if(typeof l=="string")o(l,h)?p=s(l):p=i(l,h,d,f,g,m);else if(typeof l=="number")p=l;else return;if(p!==void 0)return p}return ER={unformat:a},ER}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var xR,k$;function aO(){if(k$)return xR;k$=1;let t=Iz();const e=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,n=["currency","percent","byte","time","ordinal","number"],r=["trillion","billion","million","thousand"],i=["prefix","infix","postfix"],o=["sign","parenthesis"],s={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},u={output:{type:"string",validValues:n},base:{type:"string",validValues:["decimal","binary","general"],restriction:(p,y)=>y.output==="byte",message:"`base` must be provided only when the output is `byte`",mandatory:p=>p.output==="byte"},characteristic:{type:"number",restriction:p=>p>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:r},average:"boolean",lowPrecision:{type:"boolean",restriction:(p,y)=>y.average===!0,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:i},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:p=>p>=0,message:"value must be positive"},{restriction:(p,y)=>!y.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:p=>p>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:o},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(p,y)=>y.output==="percent",message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:p=>p.match(e),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:s,spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function h(p,y){let b=d(p),T=g(y);return b&&T}function d(p){return t.unformat(p)!==void 0}function f(p,y,b,T=!1){let E=Object.keys(p).map(P=>{if(!y[P])return console.error(`${b} Invalid key: ${P}`),!1;let I=p[P],H=y[P];if(typeof H=="string"&&(H={type:H}),H.type==="format"){if(!f(I,u,`[Validate ${P}]`,!0))return!1}else if(typeof I!==H.type)return console.error(`${b} ${P} type mismatched: "${H.type}" expected, "${typeof I}" provided`),!1;if(H.restrictions&&H.restrictions.length){let U=H.restrictions.length;for(let K=0;K<U;K++){let{restriction:j,message:q}=H.restrictions[K];if(!j(I,p))return console.error(`${b} ${P} invalid value: ${q}`),!1}}return H.restriction&&!H.restriction(I,p)?(console.error(`${b} ${P} invalid value: ${H.message}`),!1):H.validValues&&H.validValues.indexOf(I)===-1?(console.error(`${b} ${P} invalid value: must be among ${JSON.stringify(H.validValues)}, "${I}" provided`),!1):!(H.children&&!f(I,H.children,`[Validate ${P}]`))});return T||E.push(...Object.keys(y).map(P=>{let I=y[P];if(typeof I=="string"&&(I={type:I}),I.mandatory){let H=I.mandatory;if(typeof H=="function"&&(H=H(p)),H&&p[P]===void 0)return console.error(`${b} Missing mandatory key "${P}"`),!1}return!0})),E.reduce((P,I)=>P&&I,!0)}function g(p){return f(p,u,"[Validate format]")}function m(p){return f(p,c,"[Validate language]")}return xR={validate:h,validateFormat:g,validateInput:d,validateLanguage:m},xR}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function Jre(t,e){let n=t.match(/^{([^}]*)}/);return n?(e.prefix=n[1],t.slice(n[0].length)):t}function Qre(t,e){let n=t.match(/{([^}]*)}$/);return n?(e.postfix=n[1],t.slice(0,-n[0].length)):t}function eie(t,e){if(t.indexOf("$")!==-1){e.output="currency";return}if(t.indexOf("%")!==-1){e.output="percent";return}if(t.indexOf("bd")!==-1){e.output="byte",e.base="general";return}if(t.indexOf("b")!==-1){e.output="byte",e.base="binary";return}if(t.indexOf("d")!==-1){e.output="byte",e.base="decimal";return}if(t.indexOf(":")!==-1){e.output="time";return}t.indexOf("o")!==-1&&(e.output="ordinal")}function tie(t,e){t.indexOf(",")!==-1&&(e.thousandSeparated=!0)}function nie(t,e){t.indexOf(" ")!==-1&&(e.spaceSeparated=!0,e.spaceSeparatedCurrency=!0,(e.average||e.forceAverage)&&(e.spaceSeparatedAbbreviation=!0))}function rie(t,e){let n=t.match(/[1-9]+[0-9]*/);n&&(e.totalLength=+n[0])}function iie(t,e){let r=t.split(".")[0].match(/0+/);r&&(e.characteristic=r[0].length)}function oie(t,e){let n=t.split(".")[1];if(n){let r=n.match(/0+/);r&&(e.mantissa=r[0].length)}}function sie(t,e){const n=t.split(".")[1];n&&(e.trimMantissa=n.indexOf("[")!==-1)}function aie(t,e){t.indexOf("a")!==-1&&(e.average=!0)}function lie(t,e){t.indexOf("K")!==-1?e.forceAverage="thousand":t.indexOf("M")!==-1?e.forceAverage="million":t.indexOf("B")!==-1?e.forceAverage="billion":t.indexOf("T")!==-1&&(e.forceAverage="trillion")}function uie(t,e){t.match(/\[\.]/)?e.optionalMantissa=!0:t.match(/\./)&&(e.optionalMantissa=!1)}function cie(t,e){if(t.indexOf(".")!==-1){let n=t.split(".")[0];e.optionalCharacteristic=n.indexOf("0")===-1}}function hie(t,e){t.match(/^\+?\([^)]*\)$/)&&(e.negative="parenthesis"),t.match(/^\+?-/)&&(e.negative="sign")}function die(t,e){t.match(/^\+/)&&(e.forceSign=!0)}function fie(t,e={}){return typeof t!="string"?t:(t=Jre(t,e),t=Qre(t,e),eie(t,e),rie(t,e),iie(t,e),cie(t,e),aie(t,e),lie(t,e),oie(t,e),uie(t,e),sie(t,e),tie(t,e),nie(t,e),hie(t,e),die(t,e),e)}var lO={parseFormat:fie};/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var TR,N$;function uO(){if(N$)return TR;N$=1;const t=Zre(),e=aO(),n=lO;let r={},i,o={},s=null,a={};function l(c){i=c}function u(){return o[i]}return r.languages=()=>Object.assign({},o),r.currentLanguage=()=>i,r.currentBytes=()=>u().bytes||{},r.currentCurrency=()=>u().currency,r.currentAbbreviations=()=>u().abbreviations,r.currentDelimiters=()=>u().delimiters,r.currentOrdinal=()=>u().ordinal,r.currentDefaults=()=>Object.assign({},u().defaults,a),r.currentOrdinalDefaultFormat=()=>Object.assign({},r.currentDefaults(),u().ordinalFormat),r.currentByteDefaultFormat=()=>Object.assign({},r.currentDefaults(),u().byteFormat),r.currentPercentageDefaultFormat=()=>Object.assign({},r.currentDefaults(),u().percentageFormat),r.currentCurrencyDefaultFormat=()=>Object.assign({},r.currentDefaults(),u().currencyFormat),r.currentTimeDefaultFormat=()=>Object.assign({},r.currentDefaults(),u().timeFormat),r.setDefaults=c=>{c=n.parseFormat(c),e.validateFormat(c)&&(a=c)},r.getZeroFormat=()=>s,r.setZeroFormat=c=>s=typeof c=="string"?c:null,r.hasZeroFormat=()=>s!==null,r.languageData=c=>{if(c){if(o[c])return o[c];throw new Error(`Unknown tag "${c}"`)}return u()},r.registerLanguage=(c,h=!1)=>{if(!e.validateLanguage(c))throw new Error("Invalid language data");o[c.languageTag]=c,h&&l(c.languageTag)},r.setLanguage=(c,h=t.languageTag)=>{if(!o[c]){let d=c.split("-")[0],f=Object.keys(o).find(g=>g.split("-")[0]===d);if(!o[f]){l(h);return}l(f);return}l(c)},r.registerLanguage(t),i=t.languageTag,TR=r,TR}function gie(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function mie(t,e){t.forEach(n=>{let r;try{r=gie(`../languages/${n}`)}catch{console.error(`Unable to load "${n}". No matching language file found.`)}r&&e.registerLanguage(r)})}var pie=t=>({loadLanguagesInNode:e=>mie(e,t)}),Az={exports:{}};(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",l=1e14,u=14,c=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,f=1e9;function g(I){var H,U,K,j=C.prototype={constructor:C,toString:null,valueOf:null},q=new C(1),Z=20,ie=4,ee=-7,re=21,pe=-1e7,se=1e7,ce=!1,He=1,Ne=0,Re={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",S=!0;function C(R,M){var v,_,x,A,D,O,N,L,$=this;if(!($ instanceof C))return new C(R,M);if(M==null){if(R&&R._isBigNumber===!0){$.s=R.s,!R.c||R.e>se?$.c=$.e=null:R.e<pe?$.c=[$.e=0]:($.e=R.e,$.c=R.c.slice());return}if((O=typeof R=="number")&&R*0==0){if($.s=1/R<0?(R=-R,-1):1,R===~~R){for(A=0,D=R;D>=10;D/=10,A++);A>se?$.c=$.e=null:($.e=A,$.c=[R]);return}L=String(R)}else{if(!r.test(L=String(R)))return K($,L,O);$.s=L.charCodeAt(0)==45?(L=L.slice(1),-1):1}(A=L.indexOf("."))>-1&&(L=L.replace(".","")),(D=L.search(/e/i))>0?(A<0&&(A=D),A+=+L.slice(D+1),L=L.substring(0,D)):A<0&&(A=L.length)}else{if(b(M,2,w.length,"Base"),M==10&&S)return $=new C(R),Y($,Z+$.e+1,ie);if(L=String(R),O=typeof R=="number"){if(R*0!=0)return K($,L,O,M);if($.s=1/R<0?(L=L.slice(1),-1):1,C.DEBUG&&L.replace(/^0\.0*|\./,"").length>15)throw Error(a+R)}else $.s=L.charCodeAt(0)===45?(L=L.slice(1),-1):1;for(v=w.slice(0,M),A=D=0,N=L.length;D<N;D++)if(v.indexOf(_=L.charAt(D))<0){if(_=="."){if(D>A){A=N;continue}}else if(!x&&(L==L.toUpperCase()&&(L=L.toLowerCase())||L==L.toLowerCase()&&(L=L.toUpperCase()))){x=!0,D=-1,A=0;continue}return K($,String(R),O,M)}O=!1,L=U(L,M,10,$.s),(A=L.indexOf("."))>-1?L=L.replace(".",""):A=L.length}for(D=0;L.charCodeAt(D)===48;D++);for(N=L.length;L.charCodeAt(--N)===48;);if(L=L.slice(D,++N)){if(N-=D,O&&C.DEBUG&&N>15&&(R>c||R!==o(R)))throw Error(a+$.s*R);if((A=A-D-1)>se)$.c=$.e=null;else if(A<pe)$.c=[$.e=0];else{if($.e=A,$.c=[],D=(A+1)%u,A<0&&(D+=u),D<N){for(D&&$.c.push(+L.slice(0,D)),N-=u;D<N;)$.c.push(+L.slice(D,D+=u));D=u-(L=L.slice(D)).length}else D-=N;for(;D--;L+="0");$.c.push(+L)}}else $.c=[$.e=0]}C.clone=g,C.ROUND_UP=0,C.ROUND_DOWN=1,C.ROUND_CEIL=2,C.ROUND_FLOOR=3,C.ROUND_HALF_UP=4,C.ROUND_HALF_DOWN=5,C.ROUND_HALF_EVEN=6,C.ROUND_HALF_CEIL=7,C.ROUND_HALF_FLOOR=8,C.EUCLID=9,C.config=C.set=function(R){var M,v;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(M="DECIMAL_PLACES")&&(v=R[M],b(v,0,f,M),Z=v),R.hasOwnProperty(M="ROUNDING_MODE")&&(v=R[M],b(v,0,8,M),ie=v),R.hasOwnProperty(M="EXPONENTIAL_AT")&&(v=R[M],v&&v.pop?(b(v[0],-1e9,0,M),b(v[1],0,f,M),ee=v[0],re=v[1]):(b(v,-1e9,f,M),ee=-(re=v<0?-v:v))),R.hasOwnProperty(M="RANGE"))if(v=R[M],v&&v.pop)b(v[0],-1e9,-1,M),b(v[1],1,f,M),pe=v[0],se=v[1];else if(b(v,-1e9,f,M),v)pe=-(se=v<0?-v:v);else throw Error(s+M+" cannot be zero: "+v);if(R.hasOwnProperty(M="CRYPTO"))if(v=R[M],v===!!v)if(v)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ce=v;else throw ce=!v,Error(s+"crypto unavailable");else ce=v;else throw Error(s+M+" not true or false: "+v);if(R.hasOwnProperty(M="MODULO_MODE")&&(v=R[M],b(v,0,9,M),He=v),R.hasOwnProperty(M="POW_PRECISION")&&(v=R[M],b(v,0,f,M),Ne=v),R.hasOwnProperty(M="FORMAT"))if(v=R[M],typeof v=="object")Re=v;else throw Error(s+M+" not an object: "+v);if(R.hasOwnProperty(M="ALPHABET"))if(v=R[M],typeof v=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(v))S=v.slice(0,10)=="0123456789",w=v;else throw Error(s+M+" invalid: "+v)}else throw Error(s+"Object expected: "+R);return{DECIMAL_PLACES:Z,ROUNDING_MODE:ie,EXPONENTIAL_AT:[ee,re],RANGE:[pe,se],CRYPTO:ce,MODULO_MODE:He,POW_PRECISION:Ne,FORMAT:Re,ALPHABET:w}},C.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!C.DEBUG)return!0;var M,v,_=R.c,x=R.e,A=R.s;e:if({}.toString.call(_)=="[object Array]"){if((A===1||A===-1)&&x>=-1e9&&x<=f&&x===o(x)){if(_[0]===0){if(x===0&&_.length===1)return!0;break e}if(M=(x+1)%u,M<1&&(M+=u),String(_[0]).length==M){for(M=0;M<_.length;M++)if(v=_[M],v<0||v>=l||v!==o(v))break e;if(v!==0)return!0}}}else if(_===null&&x===null&&(A===null||A===1||A===-1))return!0;throw Error(s+"Invalid BigNumber: "+R)},C.maximum=C.max=function(){return B(arguments,-1)},C.minimum=C.min=function(){return B(arguments,1)},C.random=function(){var R=9007199254740992,M=Math.random()*R&2097151?function(){return o(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(v){var _,x,A,D,O,N=0,L=[],$=new C(q);if(v==null?v=Z:b(v,0,f),D=i(v/u),ce)if(crypto.getRandomValues){for(_=crypto.getRandomValues(new Uint32Array(D*=2));N<D;)O=_[N]*131072+(_[N+1]>>>11),O>=9e15?(x=crypto.getRandomValues(new Uint32Array(2)),_[N]=x[0],_[N+1]=x[1]):(L.push(O%1e14),N+=2);N=D/2}else if(crypto.randomBytes){for(_=crypto.randomBytes(D*=7);N<D;)O=(_[N]&31)*281474976710656+_[N+1]*1099511627776+_[N+2]*4294967296+_[N+3]*16777216+(_[N+4]<<16)+(_[N+5]<<8)+_[N+6],O>=9e15?crypto.randomBytes(7).copy(_,N):(L.push(O%1e14),N+=7);N=D/7}else throw ce=!1,Error(s+"crypto unavailable");if(!ce)for(;N<D;)O=M(),O<9e15&&(L[N++]=O%1e14);for(D=L[--N],v%=u,D&&v&&(O=h[u-v],L[N]=o(D/O)*O);L[N]===0;L.pop(),N--);if(N<0)L=[A=0];else{for(A=-1;L[0]===0;L.splice(0,1),A-=u);for(N=1,O=L[0];O>=10;O/=10,N++);N<u&&(A-=u-N)}return $.e=A,$.c=L,$}}(),C.sum=function(){for(var R=1,M=arguments,v=new C(M[0]);R<M.length;)v=v.plus(M[R++]);return v},U=function(){var R="0123456789";function M(v,_,x,A){for(var D,O=[0],N,L=0,$=v.length;L<$;){for(N=O.length;N--;O[N]*=_);for(O[0]+=A.indexOf(v.charAt(L++)),D=0;D<O.length;D++)O[D]>x-1&&(O[D+1]==null&&(O[D+1]=0),O[D+1]+=O[D]/x|0,O[D]%=x)}return O.reverse()}return function(v,_,x,A,D){var O,N,L,$,V,J,X,oe,ue=v.indexOf("."),me=Z,ge=ie;for(ue>=0&&($=Ne,Ne=0,v=v.replace(".",""),oe=new C(_),J=oe.pow(v.length-ue),Ne=$,oe.c=M(P(p(J.c),J.e,"0"),10,x,R),oe.e=oe.c.length),X=M(v,_,x,D?(O=w,R):(O=R,w)),L=$=X.length;X[--$]==0;X.pop());if(!X[0])return O.charAt(0);if(ue<0?--L:(J.c=X,J.e=L,J.s=A,J=H(J,oe,me,ge,x),X=J.c,V=J.r,L=J.e),N=L+me+1,ue=X[N],$=x/2,V=V||N<0||X[N+1]!=null,V=ge<4?(ue!=null||V)&&(ge==0||ge==(J.s<0?3:2)):ue>$||ue==$&&(ge==4||V||ge==6&&X[N-1]&1||ge==(J.s<0?8:7)),N<1||!X[0])v=V?P(O.charAt(1),-me,O.charAt(0)):O.charAt(0);else{if(X.length=N,V)for(--x;++X[--N]>x;)X[N]=0,N||(++L,X=[1].concat(X));for($=X.length;!X[--$];);for(ue=0,v="";ue<=$;v+=O.charAt(X[ue++]));v=P(v,L,O.charAt(0))}return v}}(),H=function(){function R(_,x,A){var D,O,N,L,$=0,V=_.length,J=x%d,X=x/d|0;for(_=_.slice();V--;)N=_[V]%d,L=_[V]/d|0,D=X*N+L*J,O=J*N+D%d*d+$,$=(O/A|0)+(D/d|0)+X*L,_[V]=O%A;return $&&(_=[$].concat(_)),_}function M(_,x,A,D){var O,N;if(A!=D)N=A>D?1:-1;else for(O=N=0;O<A;O++)if(_[O]!=x[O]){N=_[O]>x[O]?1:-1;break}return N}function v(_,x,A,D){for(var O=0;A--;)_[A]-=O,O=_[A]<x[A]?1:0,_[A]=O*D+_[A]-x[A];for(;!_[0]&&_.length>1;_.splice(0,1));}return function(_,x,A,D,O){var N,L,$,V,J,X,oe,ue,me,ge,ve,Ze,Lt,Mn,nn,vt,rn,je=_.s==x.s?1:-1,et=_.c,Ue=x.c;if(!et||!et[0]||!Ue||!Ue[0])return new C(!_.s||!x.s||(et?Ue&&et[0]==Ue[0]:!Ue)?NaN:et&&et[0]==0||!Ue?je*0:je/0);for(ue=new C(je),me=ue.c=[],L=_.e-x.e,je=A+L+1,O||(O=l,L=m(_.e/u)-m(x.e/u),je=je/u|0),$=0;Ue[$]==(et[$]||0);$++);if(Ue[$]>(et[$]||0)&&L--,je<0)me.push(1),V=!0;else{for(Mn=et.length,vt=Ue.length,$=0,je+=2,J=o(O/(Ue[0]+1)),J>1&&(Ue=R(Ue,J,O),et=R(et,J,O),vt=Ue.length,Mn=et.length),Lt=vt,ge=et.slice(0,vt),ve=ge.length;ve<vt;ge[ve++]=0);rn=Ue.slice(),rn=[0].concat(rn),nn=Ue[0],Ue[1]>=O/2&&nn++;do{if(J=0,N=M(Ue,ge,vt,ve),N<0){if(Ze=ge[0],vt!=ve&&(Ze=Ze*O+(ge[1]||0)),J=o(Ze/nn),J>1)for(J>=O&&(J=O-1),X=R(Ue,J,O),oe=X.length,ve=ge.length;M(X,ge,oe,ve)==1;)J--,v(X,vt<oe?rn:Ue,oe,O),oe=X.length,N=1;else J==0&&(N=J=1),X=Ue.slice(),oe=X.length;if(oe<ve&&(X=[0].concat(X)),v(ge,X,ve,O),ve=ge.length,N==-1)for(;M(Ue,ge,vt,ve)<1;)J++,v(ge,vt<ve?rn:Ue,ve,O),ve=ge.length}else N===0&&(J++,ge=[0]);me[$++]=J,ge[0]?ge[ve++]=et[Lt]||0:(ge=[et[Lt]],ve=1)}while((Lt++<Mn||ge[0]!=null)&&je--);V=ge[0]!=null,me[0]||me.splice(0,1)}if(O==l){for($=1,je=me[0];je>=10;je/=10,$++);Y(ue,A+(ue.e=$+L*u-1)+1,D,V)}else ue.e=L,ue.r=+V;return ue}}();function F(R,M,v,_){var x,A,D,O,N;if(v==null?v=ie:b(v,0,8),!R.c)return R.toString();if(x=R.c[0],D=R.e,M==null)N=p(R.c),N=_==1||_==2&&(D<=ee||D>=re)?E(N,D):P(N,D,"0");else if(R=Y(new C(R),M,v),A=R.e,N=p(R.c),O=N.length,_==1||_==2&&(M<=A||A<=ee)){for(;O<M;N+="0",O++);N=E(N,A)}else if(M-=D,N=P(N,A,"0"),A+1>O){if(--M>0)for(N+=".";M--;N+="0");}else if(M+=A-O,M>0)for(A+1==O&&(N+=".");M--;N+="0");return R.s<0&&x?"-"+N:N}function B(R,M){for(var v,_,x=1,A=new C(R[0]);x<R.length;x++)_=new C(R[x]),(!_.s||(v=y(A,_))===M||v===0&&A.s===M)&&(A=_);return A}function k(R,M,v){for(var _=1,x=M.length;!M[--x];M.pop());for(x=M[0];x>=10;x/=10,_++);return(v=_+v*u-1)>se?R.c=R.e=null:v<pe?R.c=[R.e=0]:(R.e=v,R.c=M),R}K=function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,v=/^\.([^.]+)$/,_=/^-?(Infinity|NaN)$/,x=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(A,D,O,N){var L,$=O?D:D.replace(x,"");if(_.test($))A.s=isNaN($)?null:$<0?-1:1;else{if(!O&&($=$.replace(R,function(V,J,X){return L=(X=X.toLowerCase())=="x"?16:X=="b"?2:8,!N||N==L?J:V}),N&&(L=N,$=$.replace(M,"$1").replace(v,"0.$1")),D!=$))return new C($,L);if(C.DEBUG)throw Error(s+"Not a"+(N?" base "+N:"")+" number: "+D);A.s=null}A.c=A.e=null}}();function Y(R,M,v,_){var x,A,D,O,N,L,$,V=R.c,J=h;if(V){e:{for(x=1,O=V[0];O>=10;O/=10,x++);if(A=M-x,A<0)A+=u,D=M,N=V[L=0],$=o(N/J[x-D-1]%10);else if(L=i((A+1)/u),L>=V.length)if(_){for(;V.length<=L;V.push(0));N=$=0,x=1,A%=u,D=A-u+1}else break e;else{for(N=O=V[L],x=1;O>=10;O/=10,x++);A%=u,D=A-u+x,$=D<0?0:o(N/J[x-D-1]%10)}if(_=_||M<0||V[L+1]!=null||(D<0?N:N%J[x-D-1]),_=v<4?($||_)&&(v==0||v==(R.s<0?3:2)):$>5||$==5&&(v==4||_||v==6&&(A>0?D>0?N/J[x-D]:0:V[L-1])%10&1||v==(R.s<0?8:7)),M<1||!V[0])return V.length=0,_?(M-=R.e+1,V[0]=J[(u-M%u)%u],R.e=-M||0):V[0]=R.e=0,R;if(A==0?(V.length=L,O=1,L--):(V.length=L+1,O=J[u-A],V[L]=D>0?o(N/J[x-D]%J[D])*O:0),_)for(;;)if(L==0){for(A=1,D=V[0];D>=10;D/=10,A++);for(D=V[0]+=O,O=1;D>=10;D/=10,O++);A!=O&&(R.e++,V[0]==l&&(V[0]=1));break}else{if(V[L]+=O,V[L]!=l)break;V[L--]=0,O=1}for(A=V.length;V[--A]===0;V.pop());}R.e>se?R.c=R.e=null:R.e<pe&&(R.c=[R.e=0])}return R}function G(R){var M,v=R.e;return v===null?R.toString():(M=p(R.c),M=v<=ee||v>=re?E(M,v):P(M,v,"0"),R.s<0?"-"+M:M)}return j.absoluteValue=j.abs=function(){var R=new C(this);return R.s<0&&(R.s=1),R},j.comparedTo=function(R,M){return y(this,new C(R,M))},j.decimalPlaces=j.dp=function(R,M){var v,_,x,A=this;if(R!=null)return b(R,0,f),M==null?M=ie:b(M,0,8),Y(new C(A),R+A.e+1,M);if(!(v=A.c))return null;if(_=((x=v.length-1)-m(this.e/u))*u,x=v[x])for(;x%10==0;x/=10,_--);return _<0&&(_=0),_},j.dividedBy=j.div=function(R,M){return H(this,new C(R,M),Z,ie)},j.dividedToIntegerBy=j.idiv=function(R,M){return H(this,new C(R,M),0,1)},j.exponentiatedBy=j.pow=function(R,M){var v,_,x,A,D,O,N,L,$,V=this;if(R=new C(R),R.c&&!R.isInteger())throw Error(s+"Exponent not an integer: "+G(R));if(M!=null&&(M=new C(M)),O=R.e>14,!V.c||!V.c[0]||V.c[0]==1&&!V.e&&V.c.length==1||!R.c||!R.c[0])return $=new C(Math.pow(+G(V),O?R.s*(2-T(R)):+G(R))),M?$.mod(M):$;if(N=R.s<0,M){if(M.c?!M.c[0]:!M.s)return new C(NaN);_=!N&&V.isInteger()&&M.isInteger(),_&&(V=V.mod(M))}else{if(R.e>9&&(V.e>0||V.e<-1||(V.e==0?V.c[0]>1||O&&V.c[1]>=24e7:V.c[0]<8e13||O&&V.c[0]<=9999975e7)))return A=V.s<0&&T(R)?-0:0,V.e>-1&&(A=1/A),new C(N?1/A:A);Ne&&(A=i(Ne/u+2))}for(O?(v=new C(.5),N&&(R.s=1),L=T(R)):(x=Math.abs(+G(R)),L=x%2),$=new C(q);;){if(L){if($=$.times(V),!$.c)break;A?$.c.length>A&&($.c.length=A):_&&($=$.mod(M))}if(x){if(x=o(x/2),x===0)break;L=x%2}else if(R=R.times(v),Y(R,R.e+1,1),R.e>14)L=T(R);else{if(x=+G(R),x===0)break;L=x%2}V=V.times(V),A?V.c&&V.c.length>A&&(V.c.length=A):_&&(V=V.mod(M))}return _?$:(N&&($=q.div($)),M?$.mod(M):A?Y($,Ne,ie,D):$)},j.integerValue=function(R){var M=new C(this);return R==null?R=ie:b(R,0,8),Y(M,M.e+1,R)},j.isEqualTo=j.eq=function(R,M){return y(this,new C(R,M))===0},j.isFinite=function(){return!!this.c},j.isGreaterThan=j.gt=function(R,M){return y(this,new C(R,M))>0},j.isGreaterThanOrEqualTo=j.gte=function(R,M){return(M=y(this,new C(R,M)))===1||M===0},j.isInteger=function(){return!!this.c&&m(this.e/u)>this.c.length-2},j.isLessThan=j.lt=function(R,M){return y(this,new C(R,M))<0},j.isLessThanOrEqualTo=j.lte=function(R,M){return(M=y(this,new C(R,M)))===-1||M===0},j.isNaN=function(){return!this.s},j.isNegative=function(){return this.s<0},j.isPositive=function(){return this.s>0},j.isZero=function(){return!!this.c&&this.c[0]==0},j.minus=function(R,M){var v,_,x,A,D=this,O=D.s;if(R=new C(R,M),M=R.s,!O||!M)return new C(NaN);if(O!=M)return R.s=-M,D.plus(R);var N=D.e/u,L=R.e/u,$=D.c,V=R.c;if(!N||!L){if(!$||!V)return $?(R.s=-M,R):new C(V?D:NaN);if(!$[0]||!V[0])return V[0]?(R.s=-M,R):new C($[0]?D:ie==3?-0:0)}if(N=m(N),L=m(L),$=$.slice(),O=N-L){for((A=O<0)?(O=-O,x=$):(L=N,x=V),x.reverse(),M=O;M--;x.push(0));x.reverse()}else for(_=(A=(O=$.length)<(M=V.length))?O:M,O=M=0;M<_;M++)if($[M]!=V[M]){A=$[M]<V[M];break}if(A&&(x=$,$=V,V=x,R.s=-R.s),M=(_=V.length)-(v=$.length),M>0)for(;M--;$[v++]=0);for(M=l-1;_>O;){if($[--_]<V[_]){for(v=_;v&&!$[--v];$[v]=M);--$[v],$[_]+=l}$[_]-=V[_]}for(;$[0]==0;$.splice(0,1),--L);return $[0]?k(R,$,L):(R.s=ie==3?-1:1,R.c=[R.e=0],R)},j.modulo=j.mod=function(R,M){var v,_,x=this;return R=new C(R,M),!x.c||!R.s||R.c&&!R.c[0]?new C(NaN):!R.c||x.c&&!x.c[0]?new C(x):(He==9?(_=R.s,R.s=1,v=H(x,R,0,3),R.s=_,v.s*=_):v=H(x,R,0,He),R=x.minus(v.times(R)),!R.c[0]&&He==1&&(R.s=x.s),R)},j.multipliedBy=j.times=function(R,M){var v,_,x,A,D,O,N,L,$,V,J,X,oe,ue,me,ge=this,ve=ge.c,Ze=(R=new C(R,M)).c;if(!ve||!Ze||!ve[0]||!Ze[0])return!ge.s||!R.s||ve&&!ve[0]&&!Ze||Ze&&!Ze[0]&&!ve?R.c=R.e=R.s=null:(R.s*=ge.s,!ve||!Ze?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(_=m(ge.e/u)+m(R.e/u),R.s*=ge.s,N=ve.length,V=Ze.length,N<V&&(oe=ve,ve=Ze,Ze=oe,x=N,N=V,V=x),x=N+V,oe=[];x--;oe.push(0));for(ue=l,me=d,x=V;--x>=0;){for(v=0,J=Ze[x]%me,X=Ze[x]/me|0,D=N,A=x+D;A>x;)L=ve[--D]%me,$=ve[D]/me|0,O=X*L+$*J,L=J*L+O%me*me+oe[A]+v,v=(L/ue|0)+(O/me|0)+X*$,oe[A--]=L%ue;oe[A]=v}return v?++_:oe.splice(0,1),k(R,oe,_)},j.negated=function(){var R=new C(this);return R.s=-R.s||null,R},j.plus=function(R,M){var v,_=this,x=_.s;if(R=new C(R,M),M=R.s,!x||!M)return new C(NaN);if(x!=M)return R.s=-M,_.minus(R);var A=_.e/u,D=R.e/u,O=_.c,N=R.c;if(!A||!D){if(!O||!N)return new C(x/0);if(!O[0]||!N[0])return N[0]?R:new C(O[0]?_:x*0)}if(A=m(A),D=m(D),O=O.slice(),x=A-D){for(x>0?(D=A,v=N):(x=-x,v=O),v.reverse();x--;v.push(0));v.reverse()}for(x=O.length,M=N.length,x-M<0&&(v=N,N=O,O=v,M=x),x=0;M;)x=(O[--M]=O[M]+N[M]+x)/l|0,O[M]=l===O[M]?0:O[M]%l;return x&&(O=[x].concat(O),++D),k(R,O,D)},j.precision=j.sd=function(R,M){var v,_,x,A=this;if(R!=null&&R!==!!R)return b(R,1,f),M==null?M=ie:b(M,0,8),Y(new C(A),R,M);if(!(v=A.c))return null;if(x=v.length-1,_=x*u+1,x=v[x]){for(;x%10==0;x/=10,_--);for(x=v[0];x>=10;x/=10,_++);}return R&&A.e+1>_&&(_=A.e+1),_},j.shiftedBy=function(R){return b(R,-9007199254740991,c),this.times("1e"+R)},j.squareRoot=j.sqrt=function(){var R,M,v,_,x,A=this,D=A.c,O=A.s,N=A.e,L=Z+4,$=new C("0.5");if(O!==1||!D||!D[0])return new C(!O||O<0&&(!D||D[0])?NaN:D?A:1/0);if(O=Math.sqrt(+G(A)),O==0||O==1/0?(M=p(D),(M.length+N)%2==0&&(M+="0"),O=Math.sqrt(+M),N=m((N+1)/2)-(N<0||N%2),O==1/0?M="5e"+N:(M=O.toExponential(),M=M.slice(0,M.indexOf("e")+1)+N),v=new C(M)):v=new C(O+""),v.c[0]){for(N=v.e,O=N+L,O<3&&(O=0);;)if(x=v,v=$.times(x.plus(H(A,x,L,1))),p(x.c).slice(0,O)===(M=p(v.c)).slice(0,O))if(v.e<N&&--O,M=M.slice(O-3,O+1),M=="9999"||!_&&M=="4999"){if(!_&&(Y(x,x.e+Z+2,0),x.times(x).eq(A))){v=x;break}L+=4,O+=4,_=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(Y(v,v.e+Z+2,1),R=!v.times(v).eq(A));break}}return Y(v,v.e+Z+1,ie,R)},j.toExponential=function(R,M){return R!=null&&(b(R,0,f),R++),F(this,R,M,1)},j.toFixed=function(R,M){return R!=null&&(b(R,0,f),R=R+this.e+1),F(this,R,M)},j.toFormat=function(R,M,v){var _,x=this;if(v==null)R!=null&&M&&typeof M=="object"?(v=M,M=null):R&&typeof R=="object"?(v=R,R=M=null):v=Re;else if(typeof v!="object")throw Error(s+"Argument not an object: "+v);if(_=x.toFixed(R,M),x.c){var A,D=_.split("."),O=+v.groupSize,N=+v.secondaryGroupSize,L=v.groupSeparator||"",$=D[0],V=D[1],J=x.s<0,X=J?$.slice(1):$,oe=X.length;if(N&&(A=O,O=N,N=A,oe-=A),O>0&&oe>0){for(A=oe%O||O,$=X.substr(0,A);A<oe;A+=O)$+=L+X.substr(A,O);N>0&&($+=L+X.slice(A)),J&&($="-"+$)}_=V?$+(v.decimalSeparator||"")+((N=+v.fractionGroupSize)?V.replace(new RegExp("\\d{"+N+"}\\B","g"),"$&"+(v.fractionGroupSeparator||"")):V):$}return(v.prefix||"")+_+(v.suffix||"")},j.toFraction=function(R){var M,v,_,x,A,D,O,N,L,$,V,J,X=this,oe=X.c;if(R!=null&&(O=new C(R),!O.isInteger()&&(O.c||O.s!==1)||O.lt(q)))throw Error(s+"Argument "+(O.isInteger()?"out of range: ":"not an integer: ")+G(O));if(!oe)return new C(X);for(M=new C(q),L=v=new C(q),_=N=new C(q),J=p(oe),A=M.e=J.length-X.e-1,M.c[0]=h[(D=A%u)<0?u+D:D],R=!R||O.comparedTo(M)>0?A>0?M:L:O,D=se,se=1/0,O=new C(J),N.c[0]=0;$=H(O,M,0,1),x=v.plus($.times(_)),x.comparedTo(R)!=1;)v=_,_=x,L=N.plus($.times(x=L)),N=x,M=O.minus($.times(x=M)),O=x;return x=H(R.minus(v),_,0,1),N=N.plus(x.times(L)),v=v.plus(x.times(_)),N.s=L.s=X.s,A=A*2,V=H(L,_,A,ie).minus(X).abs().comparedTo(H(N,v,A,ie).minus(X).abs())<1?[L,_]:[N,v],se=D,V},j.toNumber=function(){return+G(this)},j.toPrecision=function(R,M){return R!=null&&b(R,1,f),F(this,R,M,2)},j.toString=function(R){var M,v=this,_=v.s,x=v.e;return x===null?_?(M="Infinity",_<0&&(M="-"+M)):M="NaN":(R==null?M=x<=ee||x>=re?E(p(v.c),x):P(p(v.c),x,"0"):R===10&&S?(v=Y(new C(v),Z+x+1,ie),M=P(p(v.c),v.e,"0")):(b(R,2,w.length,"Base"),M=U(P(p(v.c),x,"0"),10,R,_,!0)),_<0&&v.c[0]&&(M="-"+M)),M},j.valueOf=j.toJSON=function(){return G(this)},j._isBigNumber=!0,I!=null&&C.set(I),C}function m(I){var H=I|0;return I>0||I===H?H:H-1}function p(I){for(var H,U,K=1,j=I.length,q=I[0]+"";K<j;){for(H=I[K++]+"",U=u-H.length;U--;H="0"+H);q+=H}for(j=q.length;q.charCodeAt(--j)===48;);return q.slice(0,j+1||1)}function y(I,H){var U,K,j=I.c,q=H.c,Z=I.s,ie=H.s,ee=I.e,re=H.e;if(!Z||!ie)return null;if(U=j&&!j[0],K=q&&!q[0],U||K)return U?K?0:-ie:Z;if(Z!=ie)return Z;if(U=Z<0,K=ee==re,!j||!q)return K?0:!j^U?1:-1;if(!K)return ee>re^U?1:-1;for(ie=(ee=j.length)<(re=q.length)?ee:re,Z=0;Z<ie;Z++)if(j[Z]!=q[Z])return j[Z]>q[Z]^U?1:-1;return ee==re?0:ee>re^U?1:-1}function b(I,H,U,K){if(I<H||I>U||I!==o(I))throw Error(s+(K||"Argument")+(typeof I=="number"?I<H||I>U?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function T(I){var H=I.c.length-1;return m(I.e/u)==H&&I.c[H]%2!=0}function E(I,H){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(H<0?"e":"e+")+H}function P(I,H,U){var K,j;if(H<0){for(j=U+".";++H;j+=U);I=j+I}else if(K=I.length,++H>K){for(j=U,H-=K;--H;j+=U);I+=j}else H<K&&(I=I.slice(0,H)+"."+I.slice(H));return I}n=g(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(qre)})(Az);var Hz=Az.exports;/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const So=uO(),vie=aO(),wie=lO,bie=Hz,er={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},Vp={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes:kz,decimalSuffixes:dy}=So.currentBytes(),cO={general:{scale:1024,suffixes:dy},binary:{scale:1024,suffixes:kz},decimal:{scale:1e3,suffixes:dy}};function yie(t,e={},n){if(typeof e=="string"&&(e=wie.parseFormat(e)),!vie.validateFormat(e))return"ERROR: invalid format";let i=e.prefix||"",o=e.postfix||"",s=Cie(t,e,n);return s=Vie(s,i),s=Wie(s,o),s}function Cie(t,e,n){switch(e.output){case"currency":return e=jh(e,So.currentCurrencyDefaultFormat()),Pie(t,e,So);case"percent":return e=jh(e,So.currentPercentageDefaultFormat()),Mie(t,e,So,n);case"byte":return e=jh(e,So.currentByteDefaultFormat()),Eie(t,e,So,n);case"time":return e=jh(e,So.currentTimeDefaultFormat()),Tie(t);case"ordinal":return e=jh(e,So.currentOrdinalDefaultFormat()),xie(t,e,So);case"number":default:return Wp({instance:t,providedFormat:e})}}function Sie(t){let e=cO.decimal;return LC(t._value,e.suffixes,e.scale).suffix}function _ie(t){let e=cO.binary;return LC(t._value,e.suffixes,e.scale).suffix}function Rie(t){let e=cO.general;return LC(t._value,e.suffixes,e.scale).suffix}function LC(t,e,n){let r=e[0],i=Math.abs(t);if(i>=n){for(let o=1;o<e.length;++o){let s=Math.pow(n,o),a=Math.pow(n,o+1);if(i>=s&&i<a){r=e[o],t=t/s;break}}r===e[0]&&(t=t/Math.pow(n,e.length-1),r=e[e.length-1])}return{value:t,suffix:r}}function Eie(t,e,n,r){let i=e.base||"binary",o=Object.assign({},Vp,e);const{binarySuffixes:s,decimalSuffixes:a}=n.currentBytes();let u={general:{scale:1024,suffixes:a||dy,marker:"bd"},binary:{scale:1024,suffixes:s||kz,marker:"b"},decimal:{scale:1e3,suffixes:a||dy,marker:"d"}}[i],{value:c,suffix:h}=LC(t._value,u.suffixes,u.scale);return`${Wp({instance:r(c),providedFormat:e,state:n,defaults:n.currentByteDefaultFormat()})}${o.spaceSeparated?" ":""}${h}`}function xie(t,e,n){let r=n.currentOrdinal(),i=Object.assign({},Vp,e),o=Wp({instance:t,providedFormat:e,state:n}),s=r(t._value);return`${o}${i.spaceSeparated?" ":""}${s}`}function Tie(t){let e=Math.floor(t._value/60/60),n=Math.floor((t._value-e*60*60)/60),r=Math.round(t._value-e*60*60-n*60);return`${e}:${n<10?"0":""}${n}:${r<10?"0":""}${r}`}function Mie(t,e,n,r){let i=e.prefixSymbol,o=Wp({instance:r(t._value*100),providedFormat:e,state:n}),s=Object.assign({},Vp,e);return i?`%${s.spaceSeparated?" ":""}${o}`:`${o}${s.spaceSeparated?" ":""}%`}function Pie(t,e,n){const r=n.currentCurrency();let i=Object.assign({},e),o=Object.assign({},Vp,i),s,a="",l=!!o.totalLength||!!o.forceAverage||o.average,u=i.currencyPosition||r.position,c=i.currencySymbol||r.symbol;const h=o.spaceSeparatedCurrency!==void 0?o.spaceSeparatedCurrency:o.spaceSeparated;i.lowPrecision===void 0&&(i.lowPrecision=!1),h&&(a=" "),u==="infix"&&(s=a+c+a);let d=Wp({instance:t,providedFormat:i,state:n,decimalSeparator:s});return u==="prefix"&&(t._value<0&&o.negative==="sign"?d=`-${a}${c}${d.slice(1)}`:t._value>0&&o.forceSign?d=`+${a}${c}${d.slice(1)}`:d=c+a+d),(!u||u==="postfix")&&(a=!o.spaceSeparatedAbbreviation&&l?"":a,d=d+a+c),d}function Oie({value:t,forceAverage:e,lowPrecision:n=!0,abbreviations:r,spaceSeparated:i=!1,totalLength:o=0,roundingFunction:s=Math.round}){let a="",l=Math.abs(t),u=-1;if(e&&r[e]&&er[e]?(a=r[e],t=t/er[e]):l>=er.trillion||n&&s(l/er.trillion)===1?(a=r.trillion,t=t/er.trillion):l<er.trillion&&l>=er.billion||n&&s(l/er.billion)===1?(a=r.billion,t=t/er.billion):l<er.billion&&l>=er.million||n&&s(l/er.million)===1?(a=r.million,t=t/er.million):(l<er.million&&l>=er.thousand||n&&s(l/er.thousand)===1)&&(a=r.thousand,t=t/er.thousand),a&&(a=(i?" ":"")+a),o){let h=t<0,d=t.toString().split(".")[0],f=h?d.length-1:d.length;u=Math.max(o-f,0)}return{value:t,abbreviation:a,mantissaPrecision:u}}function Iie({value:t,characteristicPrecision:e}){let[n,r]=t.toExponential().split("e"),i=+n;if(!e)return{value:i,abbreviation:`e${r}`};let o=1;return o<e&&(i=i*Math.pow(10,e-o),r=+r-(e-o),r=r>=0?`+${r}`:r),{value:i,abbreviation:`e${r}`}}function wv(t){let e="";for(let n=0;n<t;n++)e+="0";return e}function Aie(t,e){let n=t.toString(),[r,i]=n.split("e"),[o,s=""]=r.split(".");if(+i>0)n=o+s+wv(i-s.length);else{let a=".";+o<0?a=`-0${a}`:a=`0${a}`;let l=(wv(-i-1)+Math.abs(o)+s).substr(0,e);l.length<e&&(l+=wv(e-l.length)),n=a+l}return+i>0&&e>0&&(n+=`.${wv(e)}`),n}function Hie(t,e,n=Math.round){return t.toString().indexOf("e")!==-1?Aie(t,e):new bie(n(+`${t}e+${e}`)/Math.pow(10,e)).toFixed(e)}function kie(t,e,n,r,i,o){if(r===-1)return t;let s=Hie(e,r,o),[a,l=""]=s.toString().split(".");if(l.match(/^0+$/)&&(n||i))return a;let u=l.match(/0+$/);return i&&u?`${a}.${l.toString().slice(0,u.index)}`:s.toString()}function Nie(t,e,n,r){let i=t,[o,s]=i.toString().split(".");if(o.match(/^-?0$/)&&n)return s?`${o.replace("0","")}.${s}`:o.replace("0","");const a=e<0&&o.indexOf("-")===0;if(a&&(o=o.slice(1),i=i.slice(1)),o.length<r){let l=r-o.length;for(let u=0;u<l;u++)i=`0${i}`}return a&&(i=`-${i}`),i.toString()}function Die(t,e){let n=[],r=0;for(let i=t;i>0;i--)r===e&&(n.unshift(i),r=0),r++;return n}function $ie(t,e,n,r,i){let o=r.currentDelimiters(),s=o.thousands;i=i||o.decimal;let a=o.thousandsSize||3,l=t.toString(),u=l.split(".")[0],c=l.split(".")[1];const h=e<0&&u.indexOf("-")===0;return n&&(h&&(u=u.slice(1)),Die(u.length,a).forEach((f,g)=>{u=u.slice(0,f+g)+s+u.slice(f+g)}),h&&(u=`-${u}`)),c?l=u+i+c:l=u,l}function Lie(t,e){return t+e}function Fie(t,e,n){return e===0?t:+t==0?t.replace("-",""):e>0?`+${t}`:n==="sign"?t:`(${t.replace("-","")})`}function Vie(t,e){return e+t}function Wie(t,e){return t+e}function Wp({instance:t,providedFormat:e,state:n=So,decimalSeparator:r,defaults:i=n.currentDefaults()}){let o=t._value;if(o===0&&n.hasZeroFormat())return n.getZeroFormat();if(!isFinite(o))return o.toString();let s=Object.assign({},Vp,i,e),a=s.totalLength,l=a?0:s.characteristic,u=s.optionalCharacteristic,c=s.forceAverage,h=s.lowPrecision,d=!!a||!!c||s.average,f=a?-1:d&&e.mantissa===void 0?0:s.mantissa,g=a?!1:e.optionalMantissa===void 0?f===-1:s.optionalMantissa,m=s.trimMantissa,p=s.thousandSeparated,y=s.spaceSeparated,b=s.negative,T=s.forceSign,E=s.exponential,P=s.roundingFunction,I="";if(d){let U=Oie({value:o,forceAverage:c,lowPrecision:h,abbreviations:n.currentAbbreviations(),spaceSeparated:y,roundingFunction:P,totalLength:a});o=U.value,I+=U.abbreviation,a&&(f=U.mantissaPrecision)}if(E){let U=Iie({value:o,characteristicPrecision:l});o=U.value,I=U.abbreviation+I}let H=kie(o.toString(),o,g,f,m,P);return H=Nie(H,o,u,l),H=$ie(H,o,p,n,r),(d||E)&&(H=Lie(H,I)),(T||o<0)&&(H=Fie(H,o,b)),H}function jh(t,e){if(!t)return e;let n=Object.keys(t);return n.length===1&&n[0]==="output"?e:t}var Bie=t=>({format:(...e)=>yie(...e,t),getByteUnit:(...e)=>Rie(...e,t),getBinaryByteUnit:(...e)=>_ie(...e,t),getDecimalByteUnit:(...e)=>Sie(...e,t),formatOrDefault:jh});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const Wa=Hz;function jie(t,e,n){let r=new Wa(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new Wa(i),t._value=r.plus(i).toNumber(),t}function Nz(t,e,n){let r=new Wa(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new Wa(i),t._value=r.minus(i).toNumber(),t}function Uie(t,e,n){let r=new Wa(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new Wa(i),t._value=r.times(i).toNumber(),t}function zie(t,e,n){let r=new Wa(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new Wa(i),t._value=r.dividedBy(i).toNumber(),t}function Yie(t,e,n){let r=e;return n.isNumbro(e)&&(r=e._value),t._value=r,t}function Gie(t,e,n){let r=n(t._value);return Nz(r,e,n),Math.abs(r._value)}var Kie=t=>({add:(e,n)=>jie(e,n,t),subtract:(e,n)=>Nz(e,n,t),multiply:(e,n)=>Uie(e,n,t),divide:(e,n)=>zie(e,n,t),set:(e,n)=>Yie(e,n,t),difference:(e,n)=>Gie(e,n,t),BigNumber:Wa});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const qie="2.5.0",Bs=uO(),Xie=aO(),Zie=pie(yn),Jie=Iz();let cu=Bie(yn),Ju=Kie(yn);const Qie=lO;class Dz{constructor(e){this._value=e}clone(){return yn(this._value)}format(e={}){return cu.format(this,e)}formatCurrency(e){return typeof e=="string"&&(e=Qie.parseFormat(e)),e=cu.formatOrDefault(e,Bs.currentCurrencyDefaultFormat()),e.output="currency",cu.format(this,e)}formatTime(e={}){return e.output="time",cu.format(this,e)}binaryByteUnits(){return cu.getBinaryByteUnit(this)}decimalByteUnits(){return cu.getDecimalByteUnit(this)}byteUnits(){return cu.getByteUnit(this)}difference(e){return Ju.difference(this,e)}add(e){return Ju.add(this,e)}subtract(e){return Ju.subtract(this,e)}multiply(e){return Ju.multiply(this,e)}divide(e){return Ju.divide(this,e)}set(e){return Ju.set(this,$z(e))}value(){return this._value}valueOf(){return this._value}}function $z(t){let e=t;return yn.isNumbro(t)?e=t._value:typeof t=="string"?e=yn.unformat(t):isNaN(t)&&(e=NaN),e}function yn(t){return new Dz($z(t))}yn.version=qie;yn.isNumbro=function(t){return t instanceof Dz};yn.language=Bs.currentLanguage;yn.registerLanguage=Bs.registerLanguage;yn.setLanguage=Bs.setLanguage;yn.languages=Bs.languages;yn.languageData=Bs.languageData;yn.zeroFormat=Bs.setZeroFormat;yn.defaultFormat=Bs.currentDefaults;yn.setDefaults=Bs.setDefaults;yn.defaultCurrencyFormat=Bs.currentCurrencyDefaultFormat;yn.validate=Xie.validate;yn.loadLanguagesInNode=Zie.loadLanguagesInNode;yn.unformat=Jie.unformat;yn.BigNumber=Ju.BigNumber;var eoe=yn,hu=Xre(eoe);const toe="numeric";function Lz(t,e){if(Nr(t)){const n=e.numericFormat,r=n&&n.culture||"-",i=n&&n.pattern;if(typeof r<"u"&&!hu.languages()[r]){const o=r.replace("-",""),s=hu.allLanguages?hu.allLanguages[r]:hu[o];s&&hu.registerLanguage(s)}hu.setLanguage(r),t=hu(t).format(i||"0")}return t}function hO(t,e,n,r,i,o,s){let a=o;if(Nr(a)){let u=[];if(Array.isArray(s.className))u=s.className;else{var l;const c=(l=s.className)!==null&&l!==void 0?l:"";c.length&&(u=c.split(" "))}a=Lz(a,s),u.indexOf("htLeft")<0&&u.indexOf("htCenter")<0&&u.indexOf("htRight")<0&&u.indexOf("htJustify")<0&&u.push("htRight"),u.indexOf("htNumeric")<0&&u.push("htNumeric"),s.className=u.join(" "),e.dir="ltr"}Ka(t,e,n,r,i,a,s)}hO.RENDERER_TYPE=toe;const noe="password";function dO(t,e,n,r,i,o,s){Ka.apply(this,[t,e,n,r,i,o,s]);const a=s.hashLength||e.innerHTML.length,l=s.hashSymbol||"*";let u="";Ce(a-1,()=>{u+=l}),Xd(e,u)}dO.RENDERER_TYPE=noe;const roe="select";function fO(t,e,n,r,i,o,s){Ka.apply(this,[t,e,n,r,i,o,s])}fO.RENDERER_TYPE=roe;const ioe="time";function gO(t,e,n,r,i,o,s){Ka.apply(this,[t,e,n,r,i,o,s]),e.dir="ltr"}gO.RENDERER_TYPE=ioe;const{register:ooe,getItem:soe,hasItem:Fz,getNames:aOe,getValues:lOe}=Uo("renderers");function D$(t){if(typeof t=="function")return t;if(!Fz(t))throw Error(`No registered renderer found under "${t}" name`);return soe(t)}function Di(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),ooe(t,e)}function aoe(){Di(Jd),Di(Fp),Di(iO),Di(D1),Di(sO),Di(N1),Di(hO),Di(dO),Di(fO),Di(Ka),Di(gO)}const loe="autocomplete";function FC(t,e){let n=t;if(n==null&&(n=""),this.allowEmpty&&n===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(n,$$(n,e)):$$(n,e)(this.source):e(!0)}FC.VALIDATOR_TYPE=loe;function $$(t,e){const n=t;return function(r){let i=!1;for(let o=0,s=r.length;o<s;o++)if(n===r[o]){i=!0;break}e(i)}}function uoe(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}const coe="date";function mO(t,e){const n=Mz(wz,this.instance);let r=t,i=!0;r==null&&(r="");let o=ne(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),s=ne(new Date(r)).isValid()||o;if(this.allowEmpty&&r===""&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(this.correctFormat===!0){const a=hoe(r,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),i=!0}else i=!1;e(i)}mO.VALIDATOR_TYPE=coe;function hoe(t,e){const n=ne(uoe(t)),r=ne(t,e),i=t.search(/[A-Za-z]/g)>-1;let o;return n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||i?o=n:o=r,o.format(e)}const doe="dropdown";function pO(t,e){FC.apply(this,[t,e])}pO.VALIDATOR_TYPE=doe;const foe="numeric";function vO(t,e){let n=t;n==null&&(n=""),this.allowEmpty&&n===""?e(!0):e(n===""?!1:Nr(t))}vO.VALIDATOR_TYPE=foe;const goe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],moe="time";function wO(t,e){const n=this.timeFormat||"h:mm:ss a";let r=!0,i=t;i===null&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;const o=/^\d{1,2}$/.test(i);o&&(i+=":00");const s=ne(i,goe,!0).isValid()?ne(i):ne(i,n);let a=s.isValid(),l=ne(i,n,!0).isValid()&&!o;if(this.allowEmpty&&i===""&&(a=!0,l=!0),a||(r=!1),!a&&l&&(r=!0),a&&!l)if(this.correctFormat===!0){const u=s.format(n);this.instance.setDataAtCell(this.visualRow,this.visualCol,u,"timeValidator"),r=!0}else r=!1;e(r)}wO.VALIDATOR_TYPE=moe;const{register:poe,getItem:voe,hasItem:Vz,getNames:uOe,getValues:cOe}=Uo("validators");function woe(t){if(typeof t=="function")return t;if(!Vz(t))throw Error(`No registered validator found under "${t}" name`);return voe(t)}function Uh(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),poe(t,e)}function boe(){Uh(FC),Uh(pO),Uh(mO),Uh(vO),Uh(wO)}const yoe="autocomplete",Coe={CELL_TYPE:yoe,editor:A1,renderer:Jd,validator:FC},Soe="checkbox",_oe={CELL_TYPE:Soe,editor:vz,renderer:iO},Roe="date";function Wz(t,e,n,r,i,o,s){Jd.apply(this,[t,e,n,r,i,o,s])}Wz.RENDERER_TYPE=Roe;const Eoe="date",xoe={CELL_TYPE:Eoe,editor:bz,renderer:Wz,validator:mO},Toe="dropdown",Moe={CELL_TYPE:Toe,editor:yz,renderer:D1,validator:pO,filter:!1,strict:!0},Poe="handsontable",Ooe={CELL_TYPE:Poe,editor:I1,renderer:sO},Ioe="numeric",Aoe={CELL_TYPE:Ioe,editor:Cz,renderer:hO,validator:vO,dataType:"number"},Hoe="password",koe={CELL_TYPE:Hoe,editor:Sz,renderer:dO,copyable:!1},Noe="select",Doe={CELL_TYPE:Noe,editor:_z,renderer:fO},$oe="text",Bz={CELL_TYPE:$oe,editor:Yc,renderer:Ka},Loe="time",Foe={CELL_TYPE:Loe,editor:Rz,renderer:gO,validator:wO},{register:Voe,getItem:Woe,hasItem:jz,getNames:hOe,getValues:dOe}=Uo("cellTypes");function Boe(t){if(!jz(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return Woe(t)}function vo(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);const{editor:n,renderer:r,validator:i}=e;n&&pi(t,n),r&&Di(t,r),i&&Uh(t,i),Voe(t,e)}function joe(){vo(Coe),vo(_oe),vo(xoe),vo(Moe),vo(Ooe),vo(Aoe),vo(koe),vo(Doe),vo(Bz),vo(Foe)}const CT="asc",Uoe="desc",L$=new Map([[CT,[-1,1]],[Uoe,[1,-1]]]),zoe=t=>`The priority '${t}' is already declared in a map.`,Yoe=t=>`The priority '${t}' is not a number.`;function Goe(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Map;t=Rt(t)?t:zoe,e=Rt(e)?e:Yoe;function r(o,s){if(!Nr(o))throw new Error(e(o));if(n.has(o))throw new Error(t(o));n.set(o,s)}function i(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CT;const[s,a]=L$.get(o)||L$.get(CT);return[...n].sort((l,u)=>l[0]<u[0]?s:a).map(l=>l[1])}return{addItem:r,getItems:i}}const Koe=t=>`The id '${t}' is already declared in a map.`;function VC(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Map;t=Rt(t)?t:Koe;function n(u,c){if(l(u))throw new Error(t(u));e.set(u,c)}function r(u){return e.delete(u)}function i(){e.clear()}function o(u){const[c]=a().find(h=>{let[d,f]=h;return u===f?d:!1})||[null];return c}function s(u){return e.get(u)}function a(){return[...e]}function l(u){return e.has(u)}return{addItem:n,clear:i,getId:o,getItem:s,getItems:a,hasItem:l,removeItem:r}}const qoe=t=>`'${t}' value is already declared in a unique set.`;function Xoe(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Set;t=Rt(t)?t:qoe;function n(o){if(e.has(o))throw new Error(t(o));e.add(o)}function r(){return[...e]}function i(){e.clear()}return{addItem:n,clear:i,getItems:r}}const bO=t=>`There is already registered "${t}" plugin.`,Zoe=t=>`There is already registered plugin on priority "${t}".`,Joe=t=>`The priority "${t}" is not a number.`,Uz=Goe({errorPriorityExists:Zoe,errorPriorityNaN:Joe}),zz=Xoe({errorItemExists:bO}),ST=VC({errorIdExists:bO});function Yz(){return[...Uz.getItems(),...zz.getItems()]}function yO(t){const e=Fo(t);return ST.getItem(e)}function Qoe(t){return!!yO(t)}function ot(t,e,n){[t,e,n]=tse(t,e,n),yO(t)===void 0&&ese(t,e,n)}function ese(t,e,n){const r=Fo(t);if(ST.hasItem(r))throw new Error(bO(r));n===void 0?zz.addItem(r):Uz.addItem(n,r),ST.addItem(r,e)}function tse(t,e,n){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,n=e.PLUGIN_PRIORITY),[t,e,n]}function nse(t,e){Gz(t,e),e.add(t)}function rse(t,e,n){Gz(t,e),e.set(t,n)}function Gz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eh(t,e,n){return(e=ise(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ise(t){var e=ose(t,"string");return typeof e=="symbol"?e:e+""}function ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function th(t,e){return t.get(Kz(t,e))}function Kz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const F$=new Map([["plugin",Qoe],["cell-type",jz],["editor",Tz],["renderer",Fz],["validator",Vz]]),qz=Symbol("mainSetting"),sse="base",bv=[];let du=null;var fu=new WeakMap,V$=new WeakSet;class ft{static get PLUGIN_KEY(){return sse}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}static get DEFAULT_SETTINGS(){return{}}constructor(e){nse(this,V$),eh(this,"eventManager",new Vo(this)),eh(this,"pluginName",null),eh(this,"pluginsInitializedCallbacks",[]),eh(this,"isPluginsReady",!1),eh(this,"enabled",!1),eh(this,"initialized",!1),rse(this,fu,{}),Ga(this,"hot",e,{writable:!1}),du=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",n=>this.onUpdateSettings(n)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);const e=this.constructor.PLUGIN_DEPS,n=Array.isArray(e)?e:[];if(n.length>0){const i=[];if(n.forEach(o=>{const[s,a]=o.split(":");if(!F$.has(s))throw new Error(`Unknown plugin dependency type "${s}" was found.`);F$.get(s)(a)||i.push(` - ${a} (${s})`)}),i.length>0){const o=[`The ${this.pluginName} plugin requires the following modules:
`,`${i.join(`
`)}
`].join("");bv.push(o)}}if(du||(du=Yz()),du.indexOf(this.pluginName)>=0&&du.splice(du.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),du.length===0){if(bv.length>0){const i=[`${bv.join(`
`)}
`,"You have to import and register them manually."].join("");throw bv.length=0,new Error(i)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}getSetting(e){const n=this.hot.getSettings()[this.constructor.PLUGIN_KEY];if(e===void 0)return n;const r=this.constructor.DEFAULT_SETTINGS;if((Array.isArray(n)||qe(n))&&r[qz]===e){var i;return Array.isArray(n)?n:(i=n[e])!==null&&i!==void 0?i:r[e]}if(qe(n)){var o;return(o=n[e])!==null&&o!==void 0?o:r[e]}return r[e]}addHook(e,n,r){th(fu,this)[e]=th(fu,this)[e]||[];const i=th(fu,this)[e];this.hot.addHook(e,n,r),i.push(n),th(fu,this)[e]=i}removeHooks(e){W(th(fu,this)[e]||[],n=>{this.hot.removeHook(e,n)})}clearHooks(){const e=th(fu,this);Xe(e,(n,r)=>this.removeHooks(r)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){W(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const n=Kz(V$,this,ase).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&n&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),Xe(this,(n,r)=>{r!=="hot"&&(this[r]=null)}),delete this.t,delete this.hot}}function ase(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)return!0;return!1}function gu(t,e,n){return(e=lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=use(t,"string");return typeof e=="symbol"?e:e+""}function use(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let Xz=class{constructor(e){gu(this,"hot",null),gu(this,"container",null),gu(this,"injected",!1),gu(this,"rows",[]),gu(this,"columns",[]),gu(this,"samples",null),gu(this,"settings",{useHeaders:!0}),this.hot=e}addRow(e,n){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const r={row:e};this.rows.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(e)),this.table.tr.appendChild(this.createRow(e)),e===0&&Q(this.table.table,"htGhostTableFirstRow"),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}addColumnHeadersRow(e){const n=this.hot.getColHeader(0);if(n!=null){const r={row:-1};this.rows.push(r),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}}addColumn(e,n){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const r={col:e};this.columns.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(e)!==null&&this.hot.view.appendColHeader(e,this.table.th,void 0,-1),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}getHeights(e){this.injected||this.injectTable(),W(this.rows,n=>{const{height:r}=n.table.getBoundingClientRect();e(n.row,Math.ceil(r))})}getWidths(e){this.injected||this.injectTable(),W(this.columns,n=>{const{width:r}=n.table.getBoundingClientRect();e(n.col,Math.ceil(r))})}setSettings(e){this.settings=e}setSetting(e,n){this.settings||(this.settings={}),this.settings[e]=n}getSettings(){return this.settings}getSetting(e){return this.settings?this.settings[e]:null}createColGroupsCol(e){const n=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&n.appendChild(this.createColElement(-1,-1)),this.samples.forEach(r=>{W(r.strings,i=>{n.appendChild(this.createColElement(i.col,e))})}),n}createRow(e){const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,i),r.appendChild(i)),this.samples.forEach(o=>{W(o.strings,s=>{const a=s.col,l=this.hot.getCellMeta(e,a),u=this.hot.getCellRenderer(l),c=n.createElement("td");c.setAttribute("ghost-table",1),u(this.hot,c,e,a,this.hot.colToProp(a),s.value,l),r.appendChild(c)})}),r}appendColumnHeadersRow(){const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=[];if(this.hot.hasRowHeaders()){const i=e.createElement("th");r.push([-1,i]),n.appendChild(i)}this.samples.forEach(i=>{W(i.strings,o=>{const s=o.col,a=e.createElement("th");r.push([s,a]),n.appendChild(a)})}),this.table.tHead.appendChild(n),W(r,i=>{const[o,s]=i;this.hot.view.appendColHeader(o,s)})}createCol(e){const{rootDocument:n}=this.hot,r=n.createDocumentFragment();return this.samples.forEach(i=>{W(i.strings,o=>{const s=o.row,a=this.hot.getCellMeta(s,e),l=this.hot.getCellRenderer(a),u=n.createElement("td"),c=n.createElement("tr");u.setAttribute("ghost-table",1),l(this.hot,u,s,e,this.hot.colToProp(e),o.value,a),c.appendChild(u),r.appendChild(c)})}),r}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(e,n){const r=this.hot.rootDocument.createElement("col");let i=0;n>=0&&e>=0&&(i=this.hot.getCellMeta(n,e).colspan);let o=this.hot.getColWidth(e);if(i>1)for(let s=e+1;s<e+i;s++)o+=this.hot.getColWidth(s);return r.style.width=`${o}px`,r}createTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("table"),o=n.createElement("thead"),s=n.createElement("tbody"),a=n.createElement("colgroup"),l=n.createElement("tr"),u=n.createElement("th");return this.isVertical()&&i.appendChild(a),this.isHorizontal()&&(l.appendChild(u),o.appendChild(l),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(o),this.isVertical()&&s.appendChild(l),i.appendChild(s),Q(i,e),r.appendChild(i),{fragment:r,table:i,tHead:o,tBody:s,colGroup:a,tr:l,th:u}}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("div"),o=`htGhostTable htAutoSize ${e.trim()}`;return Q(i,o),r.appendChild(i),{fragment:r,container:i}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}};function yv(t,e,n){return(e=cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=hse(t,"string");return typeof e=="symbol"?e:e+""}function hse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WC{static get SAMPLE_COUNT(){return 3}constructor(e){yv(this,"samples",null),yv(this,"dataFactory",null),yv(this,"customSampleCount",null),yv(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:WC.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,n){return this.generateSamples("row",n,e)}generateColumnSamples(e,n){return this.generateSamples("col",n,e)}generateSamples(e,n,r){const i=new Map,{from:o,to:s}=typeof r=="number"?{from:r,to:r}:r;return Ce(o,s,a=>{const l=this.generateSample(e,n,a);i.set(a,l)}),i}generateSample(e,n,r){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");const i=new Map,o=e==="row"?"col":"row",s=[];return Ce(n.from,n.to,a=>{const l=e==="row"?this.dataFactory(r,a):this.dataFactory(a,r);if(l===!1)return;const{value:u,bundleSeed:c}=l,h=typeof c=="string"&&c.length>0;let d;h?d=c:qe(u)?d=`${Object.keys(u).length}`:Array.isArray(u)?d=`${u.length}`:d=`${tn(u).length}`,i.has(d)||i.set(d,{needed:this.getSampleCount(),strings:[]});const f=i.get(d);f.needed&&(!(s.indexOf(u)>-1)||this.allowDuplicates||h)&&(f.strings.push({value:u,[o]:a}),s.push(u),f.needed-=1)}),i}}var W$={},B$;function dse(){if(B$)return W$;B$=1;var t=$t(),e=Bd(),n=Ud(),r=Pp(),i=NC();return t({target:"Array",proto:!0},{at:function(s){var a=e(this),l=n(a),u=r(s),c=u>=0?u:l+u;return c<0||c>=l?void 0:a[c]}}),i("at"),W$}dse();var j$={},U$;function fse(){if(U$)return j$;U$=1;var t=$t(),e=xn(),n=Ep(),r=Pp(),i=wC(),o=Jn(),s=e("".charAt),a=o(function(){return"".at(-2)!=="\uD842"});return t({target:"String",proto:!0,forced:a},{at:function(u){var c=i(n(this)),h=c.length,d=r(u),f=d>=0?d:h+d;return f<0||f>=h?void 0:s(c,f)}}),j$}fse();function bf(t,e,n){return(e=gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=mse(t,"string");return typeof e=="symbol"?e:e+""}function mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pse{constructor(){bf(this,"count",0),bf(this,"startColumn",null),bf(this,"endColumn",null),bf(this,"startPosition",null),bf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:r,zeroBasedScrollOffset:i,viewportWidth:o,columnWidth:s}=n,a=i>0?o+1:o;r>=i&&r+s<=i+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e)}finalize(e){var n;const{scrollOffset:r,viewportWidth:i,inlineStartOffset:o,zeroBasedScrollOffset:s,totalColumns:a,needReverse:l,startPositions:u,columnWidth:c}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const g=u[this.endColumn]+c-u[this.startColumn-1];if(g<=i&&(this.startColumn-=1),g>=i)break}this.startPosition=(n=u[this.startColumn])!==null&&n!==void 0?n:null;const h=s>0?i+1:i,d=r+i-h,f=this.startColumn===null?0:e.getColumnWidth(this.startColumn);d<-1*o||r>u.at(-1)||-1*r-i>-1*f?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function yf(t,e,n){return(e=vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bse{constructor(){yf(this,"count",0),yf(this,"startRow",null),yf(this,"endRow",null),yf(this,"startPosition",null),yf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:r,zeroBasedScrollOffset:i,innerViewportHeight:o,rowHeight:s}=n;r>=i&&r+s<=o&&(this.startRow===null&&(this.startRow=e),this.endRow=e)}finalize(e){var n;const{scrollOffset:r,viewportHeight:i,horizontalScrollbarHeight:o,totalRows:s,needReverse:a,startPositions:l,rowHeight:u}=e;if(this.endRow===s-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const d=l[this.endRow]+u-l[this.startRow-1];if(d<=i-o&&(this.startRow-=1),d>=i-o)break}this.startPosition=(n=l[this.startRow])!==null&&n!==void 0?n:null;const c=r+i-o,h=this.startRow===null?0:e.getRowHeight(this.startRow);c<h||r>l.at(-1)?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endRow&&(this.endRow=s-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function Cf(t,e,n){return(e=yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yse(t){var e=Cse(t,"string");return typeof e=="symbol"?e:e+""}function Cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zz{constructor(){Cf(this,"count",0),Cf(this,"startColumn",null),Cf(this,"endColumn",null),Cf(this,"startPosition",null),Cf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:r,zeroBasedScrollOffset:i,viewportWidth:o}=n;r<=i&&(this.startColumn=e);const s=i>0?o+1:o;r>=i&&r<=i+s&&(this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e}finalize(e){var n;const{scrollOffset:r,viewportWidth:i,inlineStartOffset:o,zeroBasedScrollOffset:s,totalColumns:a,needReverse:l,startPositions:u,columnWidth:c}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const f=u[this.endColumn]+c-u[this.startColumn-1];if(this.startColumn-=1,f>i)break}this.startPosition=(n=u[this.startColumn])!==null&&n!==void 0?n:null;const h=s>0?i+1:i;r+i-h<-1*o||r>u.at(-1)+c||-1*r-i>0?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function Sf(t,e,n){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jz{constructor(){Sf(this,"count",0),Sf(this,"startRow",null),Sf(this,"endRow",null),Sf(this,"startPosition",null),Sf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:r,zeroBasedScrollOffset:i,innerViewportHeight:o}=n;r<=i&&(this.startRow=e),r>=i&&r<=o&&this.startRow===null&&(this.startRow=e),this.endRow=e}finalize(e){var n;const{scrollOffset:r,viewportHeight:i,horizontalScrollbarHeight:o,totalRows:s,needReverse:a,startPositions:l,rowHeight:u}=e;if(this.endRow===s-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const h=l[this.endRow]+u-l[this.startRow-1];if(this.startRow-=1,h>=i-o)break}this.startPosition=(n=l[this.startRow])!==null&&n!==void 0?n:null,r+i-o<0||r>l.at(-1)+u?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endRow&&(this.endRow=s-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function _f(t,e,n){return(e=Rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Ese(t,"string");return typeof e=="symbol"?e:e+""}function Ese(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xse{constructor(){_f(this,"count",0),_f(this,"startColumn",0),_f(this,"endColumn",0),_f(this,"startPosition",0),_f(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalColumns:n}=e;this.count=n,this.endColumn=this.count-1}process(){}finalize(){}}function Rf(t,e,n){return(e=Tse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tse(t){var e=Mse(t,"string");return typeof e=="symbol"?e:e+""}function Mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Pse{constructor(){Rf(this,"count",0),Rf(this,"startRow",0),Rf(this,"endRow",0),Rf(this,"startPosition",0),Rf(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalRows:n}=e;this.count=n,this.endRow=this.count-1}process(){}finalize(){}}function z$(t,e,n){return(e=Ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=Ise(t,"string");return typeof e=="symbol"?e:e+""}function Ise(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ase extends Zz{constructor(){super(...arguments),z$(this,"columnStartOffset",0),z$(this,"columnEndOffset",0)}finalize(e){var n;super.finalize(e);const{overrideFn:r,totalColumns:i,startPositions:o}=e;if(this.startColumn!==null&&typeof r=="function"){const s=this.startColumn,a=this.endColumn;r(this),this.columnStartOffset=s-this.startColumn,this.columnEndOffset=this.endColumn-a}this.startColumn<0&&(this.startColumn=0),this.startPosition=(n=o[this.startColumn])!==null&&n!==void 0?n:null,i<this.endColumn&&(this.endColumn=i-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function Y$(t,e,n){return(e=Hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nse extends Jz{constructor(){super(...arguments),Y$(this,"rowStartOffset",0),Y$(this,"rowEndOffset",0)}finalize(e){var n;super.finalize(e);const{overrideFn:r,totalRows:i,startPositions:o}=e;if(this.startRow!==null&&typeof r=="function"){const s=this.startRow,a=this.endRow;r(this),this.rowStartOffset=s-this.startRow,this.rowEndOffset=this.endRow-a}this.startRow<0&&(this.startRow=0),this.startPosition=(n=o[this.startRow])!==null&&n!==void 0?n:null,i<this.endRow&&(this.endRow=i-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function G$(t,e,n){return(e=Dse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dse(t){var e=$se(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qz{constructor(e){G$(this,"calculationTypes",[]),G$(this,"calculationResults",new Map),this.calculationTypes=e}_initialize(e){this.calculationTypes.forEach(n=>{let[r,i]=n;this.calculationResults.set(r,i),i.initialize(e)})}_process(e,n){this.calculationTypes.forEach(r=>{let[,i]=r;return i.process(e,n)})}_finalize(e){this.calculationTypes.forEach(n=>{let[,r]=n;return r.finalize(e)})}getResultsFor(e){return this.calculationResults.get(e)}}function co(t,e,n){return(e=Lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lse(t){var e=Fse(t,"string");return typeof e=="symbol"?e:e+""}function Fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Hd=50;class Vse extends Qz{constructor(e){let{calculationTypes:n,viewportWidth:r,scrollOffset:i,totalColumns:o,columnWidthFn:s,overrideFn:a,inlineStartOffset:l}=e;super(n),co(this,"viewportWidth",0),co(this,"scrollOffset",0),co(this,"zeroBasedScrollOffset",0),co(this,"totalColumns",0),co(this,"columnWidthFn",null),co(this,"columnWidth",0),co(this,"overrideFn",null),co(this,"inlineStartOffset",0),co(this,"totalCalculatedWidth",0),co(this,"startPositions",[]),co(this,"needReverse",!0),this.viewportWidth=r,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalColumns=o,this.columnWidthFn=s,this.overrideFn=a,this.inlineStartOffset=l,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalColumns;e++)if(this.columnWidth=this.getColumnWidth(e),this._process(e,this),this.startPositions.push(this.totalCalculatedWidth),this.totalCalculatedWidth+=this.columnWidth,this.totalCalculatedWidth>=this.zeroBasedScrollOffset+this.viewportWidth){this.needReverse=!1;break}this._finalize(this)}getColumnWidth(e){const n=this.columnWidthFn(e);return isNaN(n)?Hd:n}}function Oi(t,e,n){return(e=Wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wse(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jse extends Qz{constructor(e){let{calculationTypes:n,viewportHeight:r,scrollOffset:i,totalRows:o,defaultRowHeight:s,rowHeightFn:a,overrideFn:l,horizontalScrollbarHeight:u}=e;super(n),Oi(this,"viewportHeight",0),Oi(this,"scrollOffset",0),Oi(this,"zeroBasedScrollOffset",0),Oi(this,"totalRows",0),Oi(this,"rowHeightFn",null),Oi(this,"rowHeight",0),Oi(this,"overrideFn",null),Oi(this,"horizontalScrollbarHeight",0),Oi(this,"innerViewportHeight",0),Oi(this,"totalCalculatedHeight",0),Oi(this,"startPositions",[]),Oi(this,"needReverse",!0),this.defaultHeight=s,this.viewportHeight=r,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalRows=o,this.rowHeightFn=a,this.overrideFn=l,this.horizontalScrollbarHeight=u??0,this.innerViewportHeight=this.zeroBasedScrollOffset+this.viewportHeight-this.horizontalScrollbarHeight,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalRows;e++)if(this.rowHeight=this.getRowHeight(e),this._process(e,this),this.startPositions.push(this.totalCalculatedHeight),this.totalCalculatedHeight+=this.rowHeight,this.totalCalculatedHeight>=this.innerViewportHeight){this.needReverse=!1;break}this._finalize(this)}getRowHeight(e){const n=this.rowHeightFn(e);return isNaN(n)?this.defaultHeight:n}}function Use(t,e,n){zse(t,e),e.set(t,n)}function zse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K$(t,e,n){return(e=Yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nh(t,e){return t.get(eY(t,e))}function q$(t,e,n){return t.set(eY(t,e),n),n}function eY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var qs=new WeakMap;class Pc{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K$(this,"row",null),K$(this,"col",null),Use(this,qs,!1),q$(qs,this,r),typeof e<"u"&&typeof n<"u"&&(this.row=e,this.col=n)}isValid(e){const{countRows:n,countCols:r,countRowHeaders:i,countColHeaders:o}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-o||this.col<-i||this.row>=n||this.col>=r)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return nh(qs,this)}isSouthEastOf(e){return this.row>=e.row&&(nh(qs,this)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(nh(qs,this)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(nh(qs,this)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(nh(qs,this)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e==null?void 0:e.row)&&(this.row=e.row),Number.isInteger(e==null?void 0:e.col)&&(this.col=e.col),e instanceof Pc&&q$(qs,this,e.isRtl()),this}clone(){return new Pc(this.row,this.col,nh(qs,this))}toObject(){return{row:this.row,col:this.col}}}function Kse(t,e,n){qse(t,e),e.set(t,n)}function qse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function MR(t,e,n){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xse(t){var e=Zse(t,"string");return typeof e=="symbol"?e:e+""}function Zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ii(t,e){return t.get(tY(t,e))}function Jse(t,e,n){return t.set(tY(t,e),n),n}function tY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Br=new WeakMap;class Bp{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;MR(this,"highlight",null),MR(this,"from",null),MR(this,"to",null),Kse(this,Br,!1),this.highlight=e.clone(),this.from=n.clone(),this.to=r.clone(),Jse(Br,this,i)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}normalize(){return this.highlight.normalize(),this.from.normalize(),this.to.normalize(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),n=Math.max(this.to.row,0);return Math.max(e,n)-Math.min(e,n)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),n=Math.max(this.to.col,0);return Math.max(e,n)-Math.min(e,n)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:n,col:r}=e,i=this.getOuterTopStartCorner(),o=this.getOuterBottomEndCorner();return i.row<=n&&o.row>=n&&i.col<=r&&o.col>=r}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();return e.row<n.row||e.col<n.col||e.row>r.row||e.col>r.col?(this.from=this._createCellCoords(Math.min(n.row,e.row),Math.min(n.col,e.col)),this.to=this._createCellCoords(Math.max(r.row,e.row),Math.max(r.col,e.col)),!0):!1}expandByRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(e)||!this.overlaps(e))return!1;const r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=this.getDirection(),s=e.getOuterTopStartCorner(),a=e.getOuterBottomEndCorner(),l=Math.min(r.row,s.row),u=Math.min(r.col,s.col),c=Math.max(i.row,a.row),h=Math.max(i.col,a.col),d=this._createCellCoords(l,u),f=this._createCellCoords(c,h);return this.from=d,this.to=f,this.setDirection(o),n&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Ii(Br,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Ii(Br,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Ii(Br,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Ii(Br,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Ii(Br,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Ii(Br,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Ii(Br,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Ii(Br,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof Pc))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];const n={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},r={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},i=[];return n.top===r.top&&i.push("top"),n.right===r.right&&i.push(Ii(Br,this)?"left":"right"),n.bottom===r.bottom&&i.push("bottom"),n.left===r.left&&i.push(Ii(Br,this)?"right":"left"),i}getInner(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let i=e.row;i<=n.row;i++)for(let o=e.col;o<=n.col;o++)!(this.from.row===i&&this.from.col===o)&&!(this.to.row===i&&this.to.col===o)&&r.push(this._createCellCoords(i,o));return r}getAll(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let i=e.row;i<=n.row;i++)for(let o=e.col;o<=n.col;o++)e.row===i&&e.col===o?r.push(e):n.row===i&&n.col===o?r.push(n):r.push(this._createCellCoords(i,o));return r}forAll(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();for(let i=n.row;i<=r.row;i++)for(let o=n.col;o<=r.col;o++)if(e(i,o)===!1)return}clone(){return new Bp(this.highlight,this.from,this.to,Ii(Br,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,n){return new Pc(e,n,Ii(Br,this))}}function Xo(t,e,n){Qse(t,e),e.set(t,n)}function Qse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Se(t,e){return t.get(nY(t,e))}function Za(t,e,n){return t.set(nY(t,e),n),n}function nY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Ai=new WeakMap,PR=new WeakMap,Un=new WeakMap,rh=new WeakMap,Cv=new WeakMap,ho=new WeakMap,OR=new WeakMap,Ef=new WeakMap,mu=new WeakMap,Zo=new WeakMap;let rY=class{constructor(e,n,r,i,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Xo(this,Ai,void 0),Xo(this,PR,void 0),Xo(this,Un,void 0),Xo(this,rh,void 0),Xo(this,Cv,void 0),Xo(this,ho,void 0),Xo(this,OR,void 0),Xo(this,Ef,void 0),Xo(this,mu,[null,null]),Xo(this,Zo,[null,null]),Za(Ai,this,r),Za(PR,this,n),Za(Un,this,o),Za(rh,this,s),Za(Cv,this,a),Za(ho,this,i),Za(OR,this,e),this.registerEvents()}registerEvents(){Se(ho,this).addEventListener(Se(Un,this).holder,"contextmenu",r=>this.onContextMenu(r)),Se(ho,this).addEventListener(Se(Un,this).TABLE,"mouseover",r=>this.onMouseOver(r)),Se(ho,this).addEventListener(Se(Un,this).TABLE,"mouseout",r=>this.onMouseOut(r));const e=()=>{Se(ho,this).addEventListener(Se(Un,this).holder,"touchstart",r=>this.onTouchStart(r)),Se(ho,this).addEventListener(Se(Un,this).holder,"touchend",r=>this.onTouchEnd(r)),this.momentumScrolling||(this.momentumScrolling={}),Se(ho,this).addEventListener(Se(Un,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||Se(Ai,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,Se(Ai,this).getSetting("onAfterMomentumScroll"))},200)})},n=()=>{Se(ho,this).addEventListener(Se(Un,this).holder,"mouseup",r=>this.onMouseUp(r)),Se(ho,this).addEventListener(Se(Un,this).holder,"mousedown",r=>this.onMouseDown(r))};Ma()?e():(sz()&&e(),n())}selectedCellWasTouched(e){const r=this.parentCell(e).coords;if(Se(Ef,this)&&r){const[i,o]=[r.row,Se(Ef,this).from.row],[s,a]=[r.col,Se(Ef,this).from.col];return i===o&&s===a}return!1}parentCell(e){const n={},r=Se(Un,this).TABLE,i=hv(e,["TD","TH"],r);return i?(n.coords=Se(Un,this).getCoords(i),n.TD=i):Me(e,"wtBorder")&&Me(e,"current")?(n.coords=Se(rh,this).getFocusSelection().cellRange.highlight,n.TD=Se(Un,this).getCell(n.coords)):Me(e,"wtBorder")&&Me(e,"area")&&Se(rh,this).getAreaSelection().cellRange&&(n.coords=Se(rh,this).getAreaSelection().cellRange.to,n.TD=Se(Un,this).getCell(n.coords)),n}onMouseDown(e){const n=Se(PR,this).rootDocument.activeElement,r=mz(lte,e.target),i=e.target;if(!["TD","TH"].includes(n.nodeName)&&(i===n||r(0)===n||r(1)===n))return;const o=this.parentCell(i);Me(i,"corner")?Se(Ai,this).getSetting("onCellCornerMouseDown",e,i):o.TD&&Se(Ai,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,o.coords,o.TD),(e.button===0||this.touchApplied)&&o.TD&&(Se(Zo,this)[0]=o.TD,clearTimeout(Se(mu,this)[0]),Se(mu,this)[0]=setTimeout(()=>{Se(Zo,this)[0]=null},1e3))}onContextMenu(e){if(Se(Ai,this).has("onCellContextMenu")){const n=this.parentCell(e.target);n.TD&&this.callListener("onCellContextMenu",e,n.coords,n.TD)}}onMouseOver(e){if(!Se(Ai,this).has("onCellMouseOver"))return;const n=Se(Un,this).TABLE,r=hv(e.target,["TD","TH"],n),i=Se(Cv,this)||this;r&&r!==i.lastMouseOver&&wc(r,n)&&(i.lastMouseOver=r,this.callListener("onCellMouseOver",e,Se(Un,this).getCoords(r),r))}onMouseOut(e){if(!Se(Ai,this).has("onCellMouseOut"))return;const n=Se(Un,this).TABLE,r=hv(e.target,["TD","TH"],n),i=hv(e.relatedTarget,["TD","TH"],n),o=Se(Cv,this)||this;r&&r!==i&&wc(r,n)&&(this.callListener("onCellMouseOut",e,Se(Un,this).getCoords(r),r),i===null&&(o.lastMouseOver=null))}onMouseUp(e){const n=this.parentCell(e.target);n.TD&&Se(Ai,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,n.coords,n.TD),!(e.button!==0&&!this.touchApplied)&&(n.TD===Se(Zo,this)[0]&&n.TD===Se(Zo,this)[1]?(Me(e.target,"corner")?this.callListener("onCellCornerDblClick",e,n.coords,n.TD):this.callListener("onCellDblClick",e,n.coords,n.TD),Se(Zo,this)[0]=null,Se(Zo,this)[1]=null):n.TD===Se(Zo,this)[0]&&(Se(Zo,this)[1]=n.TD,clearTimeout(Se(mu,this)[1]),Se(mu,this)[1]=setTimeout(()=>{Se(Zo,this)[1]=null},500)))}onTouchStart(e){Za(Ef,this,Se(rh,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(e)}onTouchEnd(e){var n;const r=e.target,i=(n=this.parentCell(r))===null||n===void 0?void 0:n.coords,o=we(i)&&i.row>=0&&i.col>=0;if(e.cancelable&&o&&Se(Ai,this).getSetting("isDataViewInstance")){const a=["A","BUTTON","INPUT"];lz()&&(Hte()||kte())&&this.selectedCellWasTouched(r)&&!a.includes(r.tagName)?e.preventDefault():this.selectedCellWasTouched(r)||e.preventDefault()}this.onMouseUp(e),this.touchApplied=!1}callListener(e,n,r,i){const o=Se(Ai,this).getSettingPure(e);o&&o(n,r,i,Se(OR,this).call(this))}destroy(){clearTimeout(Se(mu,this)[0]),clearTimeout(Se(mu,this)[1]),Se(ho,this).destroy()}};function IR(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nae{constructor(e,n,r){IR(this,"offset",void 0),IR(this,"total",void 0),IR(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function AR(t,e,n){return(e=rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t){var e=iae(t,"string");return typeof e=="symbol"?e:e+""}function iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oae{constructor(e,n,r){AR(this,"offset",void 0),AR(this,"total",void 0),AR(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function Sv(t,e,n){return(e=sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lae{constructor(){Sv(this,"currentSize",0),Sv(this,"nextSize",0),Sv(this,"currentOffset",0),Sv(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}const uae=0,X$=1,_T=2;function HR(t,e,n){return(e=cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dae{constructor(){HR(this,"size",new lae),HR(this,"workingSpace",uae),HR(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize!==null}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=X$,e.workingSpace=_T,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=_T,e.workingSpace=X$,this.sharedSize=e.getViewSize()}}var Z$={},kR,J$;function fae(){if(J$)return kR;J$=1;var t=vC(),e=TypeError;return kR=function(n,r){if(!delete n[r])throw new e("Cannot delete property "+t(r)+" of "+t(n))},kR}var Q$;function gae(){if(Q$)return Z$;Q$=1;var t=$t(),e=Bd(),n=Ud(),r=A2(),i=fae(),o=H2(),s=[].unshift(0)!==1,a=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(u){return u instanceof TypeError}},l=s||!a();return t({target:"Array",proto:!0,arity:1,forced:l},{unshift:function(c){var h=e(this),d=n(h),f=arguments.length;if(f){o(d+f);for(var g=d;g--;){var m=g+f;g in h?h[m]=h[g]:i(h,m)}for(var p=0;p<f;p++)h[p]=arguments[p]}return r(h,d+f)}}),Z$}gae();function mae(t,e,n){return(e=pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pae(t){var e=vae(t,"string");return typeof e=="symbol"?e:e+""}function vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class eL{constructor(e,n){mae(this,"order",[]),this.order=[...Array(n).keys()].map(r=>e+r)}get length(){return this.order.length}has(e){return this.order.indexOf(e)>-1}get(e){return e<this.order.length?this.order[e]:-1}remove(e){this.order.splice(this.order.indexOf(e),1)}prepend(e){return this.order.unshift(e),this.order.pop()}}function wae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=yae(t,"string");return typeof e=="symbol"?e:e+""}function yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cae{constructor(e){wae(this,"sizeSet",void 0),this.sizeSet=e}diff(){const{sizeSet:e}=this,{currentSize:n,nextSize:r}=e.getViewSize();let i=Math.max(r,n);if(i===0)return[];const{currentOffset:o,nextOffset:s}=e.getViewSize(),a=new eL(o,n),l=new eL(s,r),u=[];for(let c=0;c<i;c++){const h=a.get(c),d=l.get(c);if(d===-1)u.push(["remove",h]);else if(h===-1)!e.isShared()||e.isShared()&&e.isPlaceOn(_T)?u.push(["append",d]):u.push(["prepend",d]);else if(d>h)a.has(d)&&(a.remove(d),r<=a.length&&(i-=1)),u.push(["replace",d,h]);else if(d<h){const f=a.prepend(d);u.push(["insert_before",d,h,f])}else u.push(["none",d])}return u}}function ih(t,e,n){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iY{constructor(e,n){ih(this,"rootNode",void 0),ih(this,"nodesPool",void 0),ih(this,"sizeSet",new dae),ih(this,"collectedNodes",[]),ih(this,"viewDiffer",new Cae(this.sizeSet)),ih(this,"leads",[]),this.rootNode=e,this.nodesPool=n}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}applyCommand(e){const{rootNode:n}=this,[r,i,o,s]=e,a=this.nodesPool(i);switch(this.collectedNodes.push(a),r){case"prepend":n.insertBefore(a,n.firstChild);break;case"append":n.appendChild(a);break;case"insert_before":n.insertBefore(a,this.nodesPool(o)),n.removeChild(this.nodesPool(s));break;case"replace":n.replaceChild(a,this.nodesPool(o));break;case"remove":n.removeChild(a);break}}start(){this.collectedNodes.length=0,this.leads=this.viewDiffer.diff()}render(){this.leads.length>0&&this.applyCommand(this.leads.shift())}end(){for(;this.leads.length>0;)this.applyCommand(this.leads.shift())}}class oY extends iY{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function tL(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xae{constructor(e){tL(this,"nodeType",void 0),tL(this,"pool",new Map),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(e,n){const i=typeof n=="number"?`${e}x${n}`:e.toString();if(this.pool.has(i))return this.pool.get(i);const o=this.rootDocument.createElement(this.nodeType);return this.pool.set(i,o),o}}function xf(t,e,n){return(e=Tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tae(t){var e=Mae(t,"string");return typeof e=="symbol"?e:e+""}function Mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jp{constructor(e,n){xf(this,"nodesPool",null),xf(this,"nodeType",void 0),xf(this,"rootNode",void 0),xf(this,"table",null),xf(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new xae(e):null,this.nodeType=e,this.rootNode=n}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function nL(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Oae(t,"string");return typeof e=="symbol"?e:e+""}function Oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Iae extends jp{constructor(){super("TH"),nL(this,"orderViews",new WeakMap),nL(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new oY(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r)),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,rowHeaderFunctions:n,rowHeadersCount:r,rows:i,cells:o}=this.table;for(let s=0;s<e;s++){const a=this.table.renderedRowToSource(s),l=i.getRenderedNode(s);this.sourceRowIndex=a;const u=this.obtainOrderView(l),c=o.obtainOrderView(l);u.appendView(c).setSize(r).setOffset(0).start();for(let h=r-1;h>=0;h--){u.render();const d=u.getCurrentNode();d.className="",d.removeAttribute("style"),qd(d,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Oe(d,[Wee(),Xee(),E1(h+1),Uc(-1)]),n[h](a,d,h)}u.end()}}}class Aae extends jp{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:n}=this.table;let r=this.rootNode.firstChild;if(e){const{columnsToRender:i}=this.table,o=i+n;for(let a=0,l=e;a<l;a++){for(r=this.rootNode.childNodes[a],r||(r=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(r)),this.renderedNodes=r.childNodes.length;this.renderedNodes<o;)r.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>o;)r.removeChild(r.lastChild),this.renderedNodes-=1}const s=this.rootNode.childNodes.length;if(s>e)for(let a=e;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else r&&Va(r)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&Oe(this.rootNode,[WU()]);for(let n=0;n<e;n+=1){const{columnHeaderFunctions:r,columnsToRender:i,rowHeadersCount:o}=this.table,s=this.rootNode.childNodes[n];this.table.isAriaEnabled()&&Oe(s,[mT(),zU(n+1)]);for(let a=-1*o;a<i;a+=1){const l=this.table.renderedColumnToSource(a),u=s.childNodes[a+o];u.className="",u.removeAttribute("style"),qd(u,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Oe(u,[E1(a+1+this.table.rowHeadersCount),Uc(-1),Bee(),...a>=0?[qee()]:[mT()]]),r[n](l,u,n)}}}}let rL=!1;class Hae extends jp{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:n}=this.table,r=e+n;for(;this.renderedNodes<r;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>r;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:n}=this.table;!rL&&e>1e3&&(rL=!0,gt(yt`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let i=0;i<n;i++){const o=this.table.renderedColumnToSource(i),s=this.table.columnUtils.getHeaderWidth(o);this.rootNode.childNodes[i].style.width=`${s}px`}for(let i=0;i<e;i++){const o=this.table.renderedColumnToSource(i),s=this.table.columnUtils.getWidth(o);this.rootNode.childNodes[i+n].style.width=`${s}px`}const r=this.rootNode.firstChild;r&&Q(r,"rowHeader")}}function kae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const oh={rowEven:"ht__row_even",rowOdd:"ht__row_odd"};let iL=!1;class $ae extends jp{constructor(e){super("TR",e),kae(this,"orderView",void 0),this.orderView=new iY(e,n=>this.nodesPool.obtain(n))}getRenderedNode(e){return this.orderView.getNode(e)}hasStaleContent(e){return this.orderView.hasStaleContent(e)}render(){const{rowsToRender:e}=this.table;!iL&&e>1e3&&(iL=!0,gt(yt`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&Oe(this.rootNode,[WU()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let i=0;i<e;i++){this.orderView.render();const o=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(i);if(this.table.isAriaEnabled()){var n,r;Oe(o,[mT(),zU(s+((n=(r=this.table.rowUtils)===null||r===void 0||(r=r.dataAccessObject)===null||r===void 0?void 0:r.columnHeaders.length)!==null&&n!==void 0?n:0)+1)])}(s+1)%2===0?Me(o,oh.rowEven)||(xe(o,oh.rowOdd),Q(o,oh.rowEven)):Me(o,oh.rowOdd)||(xe(o,oh.rowEven),Q(o,oh.rowOdd))}this.orderView.end()}}function oL(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Fae(t,"string");return typeof e=="symbol"?e:e+""}function Fae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vae extends jp{constructor(){super("TD"),oL(this,"orderViews",new WeakMap),oL(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new oY(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,columnsToRender:n,rows:r,rowHeaders:i}=this.table;for(let a=0;a<e;a++){const l=this.table.renderedRowToSource(a),u=r.getRenderedNode(a);this.sourceRowIndex=l;const c=this.obtainOrderView(u),h=i.obtainOrderView(u);c.prependView(h).setSize(n).setOffset(0).start();for(let d=0;d<n;d++){c.render();const f=this.table.renderedColumnToSource(d),g=c.getCurrentNode();if(Me(g,"hide")||(g.className=""),g.removeAttribute("style"),g.removeAttribute("dir"),qd(g,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,f,g),this.table.isAriaEnabled()){var o,s;Oe(g,[...g.hasAttribute("role")?[]:[Vee()],Uc(-1),E1(f+((o=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&o!==void 0?o:0)+1)])}}c.end()}}}function Pn(t,e,n){return(e=Wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Bae(t,"string");return typeof e=="symbol"?e:e+""}function Bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jae{constructor(e){let{cellRenderer:n,stylesHandler:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Pn(this,"rootNode",void 0),Pn(this,"rootDocument",void 0),Pn(this,"rowHeaders",null),Pn(this,"columnHeaders",null),Pn(this,"colGroup",null),Pn(this,"rows",null),Pn(this,"cells",null),Pn(this,"rowFilter",null),Pn(this,"columnFilter",null),Pn(this,"rowUtils",null),Pn(this,"columnUtils",null),Pn(this,"rowsToRender",0),Pn(this,"columnsToRender",0),Pn(this,"rowHeaderFunctions",[]),Pn(this,"rowHeadersCount",0),Pn(this,"columnHeaderFunctions",[]),Pn(this,"columnHeadersCount",0),Pn(this,"cellRenderer",void 0),Pn(this,"activeOverlayName",void 0),Pn(this,"stylesHandler",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=n,this.stylesHandler=r}setActiveOverlayName(e){this.activeOverlayName=e}setAxisUtils(e,n){this.rowUtils=e,this.columnUtils=n}setViewportSize(e,n){this.rowsToRender=e,this.columnsToRender=n}setFilters(e,n){this.rowFilter=e,this.columnFilter=n}setHeaderContentRenderers(e,n){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=n,this.columnHeadersCount=n.length}setRenderers(){let{rowHeaders:e,columnHeaders:n,colGroup:r,rows:i,cells:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),n.setTable(this),r.setTable(this),i.setTable(this),o.setTable(this),this.rowHeaders=e,this.columnHeaders=n,this.colGroup=r,this.rows=i,this.cells=o}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:n}=this;for(let r=0;r<e;r++){const i=n.getRenderedNode(r),o=this.rowUtils;if(i.firstChild){const s=this.renderedRowToSource(r),a=o.getHeightByOverlayName(s,this.activeOverlayName),u=this.stylesHandler.areCellsBorderBox()?0:1;a?i.firstChild.style.height=`${a-u}px`:i.firstChild.style.height=""}}}}class Uae{constructor(){let{TABLE:e,THEAD:n,COLGROUP:r,TBODY:i,rowUtils:o,columnUtils:s,cellRenderer:a,stylesHandler:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new jae(e,{cellRenderer:a,stylesHandler:l}),this.renderer.setRenderers({rowHeaders:new Iae,columnHeaders:new Aae(n),colGroup:new Hae(r),rows:new $ae(i),cells:new Vae}),this.renderer.setAxisUtils(o,s)}setActiveOverlayName(e){return this.renderer.setActiveOverlayName(e),this}setFilters(e,n){return this.renderer.setFilters(e,n),this}setViewportSize(e,n){return this.renderer.setViewportSize(e,n),this}setHeaderContentRenderers(e,n){return this.renderer.setHeaderContentRenderers(e,n),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function NR(t,e,n){return(e=zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=Yae(t,"string");return typeof e=="symbol"?e:e+""}function Yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gae{constructor(e,n){NR(this,"dataAccessObject",void 0),NR(this,"wtSettings",void 0),NR(this,"headerWidths",new Map),this.dataAccessObject=e,this.wtSettings=n}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getHeaderHeight(e){let n=this.dataAccessObject.stylesHandler.getDefaultRowHeight();const r=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return r!==void 0&&(n=n?Math.max(n,r):r),n}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}calculateWidths(){const{wtSettings:e}=this;let n=e.getSetting("rowHeaderWidth");if(n=e.getSetting("onModifyRowHeaderWidth",n),n!=null){const r=e.getSetting("rowHeaders").length,i=e.getSetting("defaultColumnWidth");for(let o=0;o<r;o++){let s=Array.isArray(n)?n[o]:n;s=s??i,this.headerWidths.set(o,s)}}}}function sL(t,e,n){return(e=Kae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kae(t){var e=qae(t,"string");return typeof e=="symbol"?e:e+""}function qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xae{constructor(e,n){sL(this,"dataAccessObject",void 0),sL(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=n}getHeight(e){let n=this.wtSettings.getSetting("rowHeight",e);const r=this.dataAccessObject.wtViewport.oversizedRows[e];return r!==void 0&&(n=n===void 0?r:Math.max(n,r)),n}getHeightByOverlayName(e,n){let r=this.wtSettings.getSetting("rowHeightByOverlayName",e,n);const i=this.dataAccessObject.wtViewport.oversizedRows[e];return i!==void 0&&(r=r===void 0?i:Math.max(r,i)),r}}function Jo(t,e,n){return(e=Zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zae(t){var e=Jae(t,"string");return typeof e=="symbol"?e:e+""}function Jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qd{constructor(e,n,r,i,o){Jo(this,"wtSettings",null),Jo(this,"domBindings",void 0),Jo(this,"TBODY",null),Jo(this,"THEAD",null),Jo(this,"COLGROUP",null),Jo(this,"hasTableHeight",!0),Jo(this,"hasTableWidth",!0),Jo(this,"isTableVisible",!1),Jo(this,"tableOffset",0),Jo(this,"holderOffset",0),this.domBindings=r,this.isMaster=o==="master",this.name=o,this.dataAccessObject=e,this.facadeGetter=n,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,qU(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new Xae(this.dataAccessObject,this.wtSettings),this.columnUtils=new Gae(this.dataAccessObject,this.wtSettings),this.tableRenderer=new Uae({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer"),stylesHandler:this.dataAccessObject.stylesHandler})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Me(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtSpreader",n&&n.insertBefore(r,e),r.appendChild(e)),r.style.position="relative",this.wtSettings.getSetting("ariaTags")&&Oe(r,[Ta()]),r}createHider(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Me(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtHider",n&&n.insertBefore(r,e),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Oe(r,[Ta()]),r}createHolder(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Me(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.style.position="relative",r.className="wtHolder",Oe(r,[Uc(-1)]),n&&n.insertBefore(r,e),this.isMaster&&(r.parentNode.className+="ht_master handsontable",r.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&Oe(r.parentNode,[Ta()])),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Oe(r,[Ta()]),r}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,{wtOverlays:r,wtViewport:i}=this.dataAccessObject,o=n.getSetting("totalRows"),s=n.getSetting("totalColumns"),a=n.getSetting("rowHeaders"),l=a.length,u=n.getSetting("columnHeaders"),c=u.length;let h=e;if(this.isMaster&&(r.beforeDraw(),this.holderOffset=wr(this.holder),h=i.createCalculators(h),l&&!n.getSetting("fixedColumnsStart"))){const f=r.inlineStartOverlay.getScrollPosition(),g=this.correctHeaderWidth;this.correctHeaderWidth=f!==0,g!==this.correctHeaderWidth&&(h=!1)}if(h)this.isMaster&&r.refresh(!0);else{this.isMaster?this.tableOffset=wr(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const f=Math.max(this.getFirstRenderedRow(),0),g=Math.max(this.getFirstRenderedColumn(),0);this.rowFilter=new oae(f,o,c),this.columnFilter=new nae(g,s,l);let m=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const p={};this.wtSettings.getSetting("beforeDraw",!0,p),m=p.skipRender!==!0}m&&(this.tableRenderer.setHeaderContentRenderers(a,u),(this.is(xs)||this.is(Vl))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setActiveOverlayName(this.name).setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(xs))&&this.markOversizedRows(),this.isMaster?(this.wtSettings.getSetting("externalRowCalculator")||i.createVisibleCalculators(),r.refresh(!1),r.applyToDOM(),this.wtSettings.getSetting("onDraw",!0)):this.is(xs)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize())}let d=!1;return this.isMaster&&(d=r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&(d=r.bottomOverlay.resetFixedPosition()||d),d=r.inlineStartOverlay.resetFixedPosition()||d,r.topInlineStartCornerOverlay&&r.topInlineStartCornerOverlay.resetFixedPosition(),r.bottomInlineStartCornerOverlay&&r.bottomInlineStartCornerOverlay.clone&&r.bottomInlineStartCornerOverlay.resetFixedPosition()),d?(r.refreshAll(),r.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(h),this.isMaster&&r.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const n=this.columnFilter.renderedToSource(e);let r=this.wtSettings.getSetting("columnHeaders").length;const i=this.dataAccessObject.stylesHandler.getDefaultRowHeight();let o,s,a;const l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;r;)r-=1,o=this.getColumnHeaderHeight(r),s=this.getColumnHeader(n,r),s&&(a=qg(s),(!o&&i<a||o<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=a),Array.isArray(l)?l[r]!==null&&l[r]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]<(l[r]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]||l))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,n=this.THEAD.childNodes,r=this.dataAccessObject.wtViewport.oversizedColumnHeaders,i=e.getSetting("columnHeaders");for(let o=0,s=i.length;o<s;o++)if(r[o]){if(!n[o]||n[o].childNodes.length===0)return;n[o].childNodes[0].style.height=`${r[o]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(xs))&&!e.getSetting("externalRowCalculator")){const r=this.getRenderedRowsCount();for(let i=0;i<r;i++){const o=this.rowFilter.renderedToSource(i);n.oversizedRows&&n.oversizedRows[o]&&(n.oversizedRows[o]=void 0)}}}getCell(e){let n=e.row,r=e.col;const i=this.wtSettings.getSetting("onModifyGetCellCoords",n,r,!this.isMaster,"render");if(i&&Array.isArray(i)&&([n,r]=i),this.isRowBeforeRenderedRows(n))return-1;if(this.isRowAfterRenderedRows(n))return-2;if(this.isColumnBeforeRenderedColumns(r))return-3;if(this.isColumnAfterRenderedColumns(r))return-4;const o=this.getRow(n);if(!o&&n>=0)throw new Error("TR was expected to be rendered but is not");const s=o.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)];if(!s&&r>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(e){let n=null,r=null;if(e<0){var i;n=(i=this.rowFilter)===null||i===void 0?void 0:i.sourceRowToVisibleColHeadedRow(e),r=this.THEAD}else{var o;n=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceToRendered(e),r=this.TBODY}return n!==void 0&&r!==void 0?r.childNodes.length<n+1?!1:r.childNodes[n]:!1}getColumnHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.THEAD.childNodes[n];return r==null?void 0:r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const n=[],r=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(i=>{const o=i.childNodes[r];o&&n.push(o)}),n}getRowHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.wtSettings.getSetting("rowHeaders").length;if(n>=r)return;const i=this.rowFilter.sourceToRendered(e),o=i<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):i,a=(i<0?this.THEAD:this.TBODY).childNodes[o];return a==null?void 0:a.childNodes[n]}getRowHeaders(e){const n=[],r=this.wtSettings.getSetting("rowHeaders").length;for(let i=0;i<r;i++){const o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],s=o==null?void 0:o.childNodes[i];s&&n.push(s)}return n}getCoords(e){let n=e;if(n.nodeName!=="TD"&&n.nodeName!=="TH"&&(n=xc(n,["TD","TH"])),n===null)return null;const r=n.parentNode;if(!r)return null;const i=r.parentNode;let o=hte(r),s=n.cellIndex;lu(Ac,n,this.wtRootElement)||lu(Oc,n,this.wtRootElement)?i.nodeName==="THEAD"&&(o-=i.childNodes.length):lu(Vl,n,this.wtRootElement)||lu(xs,n,this.wtRootElement)?o=this.wtSettings.getSetting("totalRows")-i.childNodes.length+o:i===this.THEAD?o=this.rowFilter.visibleColHeadedRowToSourceRow(o):this.rowFilter&&(o=this.rowFilter.renderedToSource(o)),lu(Ac,n,this.wtRootElement)||lu(Ic,n,this.wtRootElement)||lu(Vl,n,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):this.columnFilter&&(s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s));const a=this.wtSettings.getSetting("onModifyGetCoordsElement",o,s);return a&&Array.isArray(a)&&([o,s]=a),this.wot.createCellCoords(o,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const n=e*this.dataAccessObject.stylesHandler.getDefaultRowHeight(),r=qg(this.TBODY)-1,i=this.wot.stylesHandler.areCellsBorderBox(),o=i?Hn:qg,s=i?0:1,a=i?1:0;let l,u,c,h,d;if(!(n===r&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;){e-=1,c=this.rowFilter.renderedToSource(e),l=this.getRowHeight(c),h=this.getTrForRow(c),d=h.querySelector("th");const f=c===0?a:0;d?u=o(d):u=o(h)-s,(!l&&this.dataAccessObject.stylesHandler.getDefaultRowHeight()<u-f||l<u)&&(i||(u+=1),this.dataAccessObject.wtViewport.oversizedRows[c]=u)}}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const r=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=r}isRowHeaderRendered(e){if(e>=0)return!1;const r=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=r}isRowBeforeRenderedRows(e){const n=this.getFirstRenderedRow();return e<0&&n<=0?!this.isRowHeaderRendered(e):e<n}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const n=this.getFirstRenderedColumn();return e<0&&n<=0?!this.isColumnHeaderRendered(e):e<n}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return _n(this.TABLE)}getHeight(){return Hn(this.TABLE)}getTotalWidth(){const e=_n(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){const e=Hn(this.hider);return e!==0?e:this.getHeight()}isVisible(){return Od(this.TABLE)}_modifyRowHeaderWidth(e){let n=Rt(e)?e():null;return Array.isArray(n)?(n=[...n],n[n.length-1]=this._correctRowHeaderWidth(n[n.length-1])):n=this._correctRowHeaderWidth(n),n}_correctRowHeaderWidth(e){let n=e;return typeof e!="number"&&(n=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(n+=1),n}}const Qae="stickyRowsBottom",CO={getFirstRenderedRow(){const t=this.getRenderedRowsCount();return t===0?-1:this.wtSettings.getSetting("totalRows")-t},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()===0?-1:this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){return Math.min(this.wtSettings.getSetting("totalRows"),this.wtSettings.getSetting("fixedRowsBottom"))},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Ga(CO,"MIXIN_NAME",Qae,{writable:!1,enumerable:!1});const ele="stickyColumnsStart",BC={getFirstRenderedColumn(){return this.getRenderedColumnsCount()===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){return Math.min(this.wtSettings.getSetting("totalColumns"),this.wtSettings.getSetting("fixedColumnsStart"))},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ga(BC,"MIXIN_NAME",ele,{writable:!1,enumerable:!1});class SO extends Qd{constructor(e,n,r,i){super(e,n,r,i,Vl)}}It(SO,CO);It(SO,BC);const Oc="top",xs="bottom",Ic="inline_start",Ac="top_inline_start_corner",Vl="bottom_inline_start_corner",sY=[Oc,xs,Ic,Ac,Vl],tle=new Map([[Oc,`ht_clone_${Oc}`],[xs,`ht_clone_${xs}`],[Ic,`ht_clone_${Ic} ht_clone_left`],[Ac,`ht_clone_${Ac} ht_clone_top_left_corner`],[Vl,`ht_clone_${Vl} ht_clone_bottom_left_corner`]]);function nle(t,e){rle(t,e),e.add(t)}function rle(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ile(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=sle(t,"string");return typeof e=="symbol"?e:e+""}function sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _v(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Tf=new WeakSet;class ale{constructor(e){nle(this,Tf),ile(this,"dataAccessObject",void 0),this.dataAccessObject=e}scrollViewport(e,n,r){if(e.col<0||e.row<0)return!1;const i=this.scrollViewportHorizontally(e.col,n),o=this.scrollViewportVertically(e.row,r);return i||o}scrollViewportHorizontally(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto";const{drawn:r,totalColumns:i}=this.dataAccessObject;if(!r)return!1;const o=Ei(n);if(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e,o),!Number.isInteger(e)||e<0||e>i)return!1;n=o.value;const{fixedColumnsStart:s,inlineStartOverlay:a}=this.dataAccessObject,l=n==="auto";if(l&&e<s)return!1;const u=this.getFirstVisibleColumn(),c=this.getLastVisibleColumn();let h=!1;return(l&&(e<u||e>c)||!l)&&(h=a.scrollTo(e,l?e>=this.getLastPartiallyVisibleColumn():n==="end")),h}scrollViewportVertically(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto";const{drawn:r,totalRows:i}=this.dataAccessObject;if(!r)return!1;const o=Ei(n);if(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e,o),!Number.isInteger(e)||e<0||e>i)return!1;n=o.value;const{fixedRowsBottom:s,fixedRowsTop:a,topOverlay:l}=this.dataAccessObject,u=n==="auto";if(u&&(e<a||e>i-s-1))return!1;const c=this.getFirstVisibleRow(),h=this.getLastVisibleRow();let d=!1;return(u&&(e<c||e>h)||!u)&&(d=l.scrollTo(e,u?e>=this.getLastPartiallyVisibleRow():n==="bottom")),d}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return _v(Tf,this,lL).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return _v(Tf,this,lL).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return _v(Tf,this,aL).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return _v(Tf,this,aL).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}}function aL(t){const{wtSettings:e,inlineStartOverlay:n,wtTable:r,wtViewport:i,totalColumns:o,rootWindow:s}=this.dataAccessObject;if(n.mainTableScrollableElement===s){const a=e.getSetting("rtlMode");let l=null;if(a){const c=r.TABLE.getBoundingClientRect(),d=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;l=Math.abs(c.right-d)}else l=wr(r.wtRootElement).left;const u=Math.abs(ZU(s,s));if(l>u){const c=JU(s);let h=i.getRowHeaderWidth();for(let d=1;d<=o;d++)if(h+=n.sumCellSizes(d-1,d),l+h-u>=c){t=d-2;break}}}return t}function lL(t){const{topOverlay:e,wtTable:n,wtViewport:r,totalRows:i,rootWindow:o}=this.dataAccessObject;if(e.mainTableScrollableElement===o){const s=wr(n.wtRootElement),a=M1(o,o);if(s.top>a){const l=qg(o);let u=r.getColumnHeaderHeight();for(let c=1;c<=i;c++)if(u+=e.sumCellSizes(c-1,c),s.top+u-a>=l){t=c-2;break}}}return t}function Hi(t,e,n){return(e=lle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=ule(t,"string");return typeof e=="symbol"?e:e+""}function ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _O{get eventManager(){return new Vo(this)}constructor(e,n){Hi(this,"wtTable",void 0),Hi(this,"wtScroll",void 0),Hi(this,"wtViewport",void 0),Hi(this,"wtOverlays",void 0),Hi(this,"selectionManager",void 0),Hi(this,"wtEvent",void 0),Hi(this,"guid",`wt_${LU()}`),Hi(this,"drawInterrupted",!1),Hi(this,"drawn",!1),Hi(this,"activeOverlayName","master"),Hi(this,"domBindings",void 0),Hi(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=n,this.wtScroll=new ale(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;n<r;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(n,r){Tc(r,e[n])}])}}createCellCoords(e,n){return new Pc(e,n,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,n,r){return new Bp(e,n,r,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,!this.wtTable.isVisible()||fte(this.wtTable.wtRootElement.parentNode)?this.drawInterrupted=!0:this.wtTable.draw(e),this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(e);const r=this.wtSettings.getSetting("totalRows"),i=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<i&&e.col<s)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<i)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<s&&e.row>=r-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<s)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<r&&e.row>=r-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,n,r){return this.wtScroll.scrollViewport(e,n,r)}scrollViewportHorizontally(e,n){return this.wtScroll.scrollViewportHorizontally(e,n)}scrollViewportVertically(e,n){return this.wtScroll.scrollViewportVertically(e,n)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get stylesHandler(){return e.stylesHandler},get drawn(){return e.drawn},set drawn(n){e.drawn=n},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function uL(t,e,n){return(e=cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dle extends _O{constructor(e,n,r){super(e,n),uL(this,"cloneSource",void 0),uL(this,"cloneOverlay",void 0);const i=this.wtSettings.getSetting("facade",this);this.cloneSource=r.source,this.cloneOverlay=r.overlay,this.stylesHandler=r.stylesHandler,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=r.viewport,this.selectionManager=r.selectionManager,this.wtEvent=new rY(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,r.event),this.findOriginalHeaders()}}function fle(t,e,n){return(e=gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=mle(t,"string");return typeof e=="symbol"?e:e+""}function mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Up{constructor(e,n,r,i,o){fle(this,"wtSettings",null),Ga(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=n,this.wtSettings=i;const{TABLE:s,hider:a,spreader:l,holder:u,wtRootElement:c}=this.wot.wtTable;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=l,this.holder=u,this.wtRootElement=c,this.trimmingContainer=qm(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(e){e==="before"&&this.shouldBeRendered()?this.needFullRender=!0:e==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=qm(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=ry(e.TABLE)}getRelativeCellPosition(e,n,r){if(this.clone.wtTable.holder.contains(e)===!1){gt(`The provided element is not a child of the ${this.type} overlay`);return}const i=this.mainTableScrollableElement===this.domBindings.rootWindow,o=r<this.wtSettings.getSetting("fixedColumnsStart"),s=n<this.wtSettings.getSetting("fixedRowsTop"),a=n>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,u={start:this.getRelativeStartPosition(l),top:l.offsetTop},c={start:this.getRelativeStartPosition(e),top:e.offsetTop};let h=null;return i?h=this.getRelativeCellPositionWithinWindow(s,o,c,u):h=this.getRelativeCellPositionWithinHolder(s,a,o,c,u),h}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,n,r,i){const o=this.wot.wtTable.wtRootElement.getBoundingClientRect();let s=0,a=0;if(!n)s=i.start;else{let l=o.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(o.left+o.width+Xn())),s=l<=0?-1*l:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:a=i.top,{start:r.start+s,top:r.top+a}}getRelativeCellPositionWithinHolder(e,n,r,i,o){const s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let a=0,l=0;if(r||(a=s.horizontal-o.start),n){const u=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+u.top}else e||(l=s.vertical-o.top);return{start:i.start-a,top:i.top-l}}makeClone(){if(sY.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,o=r.createElement("div"),s=r.createElement("table"),a=e.wtRootElement.parentNode;o.className=`${tle.get(this.type)} handsontable`,o.setAttribute("dir",this.isRtl()?"rtl":"ltr"),o.style.position="absolute",o.style.top=0,o.style.overflow="visible",this.isRtl()?o.style.right=0:o.style.left=0,n.getSetting("ariaTags")&&Oe(o,[Ta()]),s.className=e.TABLE.className,e.TABLE.getAttribute("role")&&s.setAttribute("role",e.TABLE.getAttribute("role")),o.appendChild(s),a.appendChild(o);const u=this.wtSettings.getSetting("preventOverflow");return u===!0||u==="horizontal"&&this.type===Oc||u==="vertical"&&this.type===Ic?this.mainTableScrollableElement=i:i.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=ry(e.TABLE),new dle(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager,stylesHandler:this.wot.stylesHandler})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.needFullRender){const n=this.clone.cloneSource;n.activeOverlayName=this.clone.wtTable.name,this.clone.draw(e),n.activeOverlayName="master"}}reset(){const e=this.clone.wtTable.holder,n=this.clone.wtTable.hider,r=e.style,i=n.style,o=e.parentNode.style;[r,i,o].forEach(s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}class ple extends Up{constructor(e,n,r,i,o,s){super(e,n,Vl,r,i),this.bottomOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new SO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const n=this.clone.wtTable.holder.parentNode;if(n.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const o=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();n.style[this.isRtl()?"right":"left"]=`${o}px`,n.style.bottom=`${s}px`}else HC(n),this.repositionOverlay();let r=Hn(this.clone.wtTable.TABLE);const i=_n(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),n.style.height=`${r}px`,n.style.width=`${i}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=Xn(r)),i.style.bottom=`${o}px`}}const vle="calculatedColumns",jC={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getFirstPartiallyVisibleColumn(){const t=this.dataAccessObject.startColumnPartiallyVisible;return t===null?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getLastPartiallyVisibleColumn(){const t=this.dataAccessObject.endColumnPartiallyVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ga(jC,"MIXIN_NAME",vle,{writable:!1,enumerable:!1});class RO extends Qd{constructor(e,n,r,i){super(e,n,r,i,xs)}}It(RO,CO);It(RO,jC);function wle(t,e,n){return(e=ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=yle(t,"string");return typeof e=="symbol"?e:e+""}function yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cle extends Up{constructor(e,n,r,i){super(e,n,xs,r,i),wle(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new RO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,n=this.clone.wtTable.holder.parentNode;n.style.top="";let r=0;const i=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!i||i!=="vertical")?(r=this.getOverlayOffset(),n.style.bottom=`${r}px`):(r=this.getScrollPosition(),this.repositionOverlay());const o=this.adjustHeaderBordersPosition(r);return this.adjustElementsSize(),o}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=Xn(r)),i.style.bottom=`${o}px`}setScrollPosition(e){const{rootWindow:n}=this.domBindings,r=this.mainTableScrollableElement;let i=!1;if(r===n&&e!==n.scrollY){const o=n.scrollY;n.scrollTo(T1(n),top),i=o!==n.scrollY}else if(e!==r.scrollTop){const o=r.scrollTop;r.scrollTop=e,i=o!==r.scrollTop}return i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const{wtTable:r,stylesHandler:i}=this.wot,o=i.getDefaultRowHeight();let s=e,a=0;for(;s<n;){const l=r.getRowHeight(s);a+=l===void 0?o:l,s+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="horizontal"){let u=n.getWorkspaceWidth();n.hasVerticalScroll()&&(u-=Xn(r)),u=Math.min(u,e.wtRootElement.scrollWidth),s.width=`${u}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Hn(this.clone.wtTable.TABLE);e.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){let r=this.getTableParentOffset();const o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let s=0;n&&o.offsetHeight!==o.clientHeight&&(s=Xn(this.domBindings.rootDocument)),n?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportHeight(),r+=1):r+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),r+=s,this.setScrollPosition(r)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return M1(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=i-o,a=this.domBindings.rootDocument.documentElement.clientHeight;r=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+i,0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const n=this.wtSettings.getSetting("fixedRowsBottom"),r=this.cachedFixedRowsBottom!==n,i=this.wtSettings.getSetting("columnHeaders");let o=!1;if((r||n===0)&&i.length>0){const s=this.wot.wtTable.holder.parentNode,a=Me(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(Q(s,"innerBorderBottom"),o=!a):(xe(s,"innerBorderBottom"),o=a)}return o}}const Sle="calculatedRows",EO={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getFirstPartiallyVisibleRow(){const t=this.dataAccessObject.startRowPartiallyVisible;return t===null?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getLastPartiallyVisibleRow(){const t=this.dataAccessObject.endRowPartiallyVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ga(EO,"MIXIN_NAME",Sle,{writable:!1,enumerable:!1});class xO extends Qd{constructor(e,n,r,i){super(e,n,r,i,Ic)}}It(xO,EO);It(xO,BC);const _le="localHooks",or={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,n,r,i,o,s){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let l=0;l<a;l++)pT(this._localHooks[t][l],this,e,n,r,i,o,s)}},clearLocalHooks(){return this._localHooks={},this}};Ga(or,"MIXIN_NAME",_le,{writable:!1,enumerable:!1});let aY=class{constructor(e,n){this.settings=e,this.cellRange=n||null}isEmpty(){return this.cellRange===null}add(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}replace(e,n){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=n,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=n,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const e=this.cellRange.getOuterTopStartCorner(),n=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,n.row,n.col]}destroy(){this.runLocalHooks("destroy")}};It(aY,or);const lY="active-header",TO="header",MO="area",Xg="focus",Rle="fill",Ele="row",xle="column",Tle="custom-selection",PO=t=>{const e=t.stylesHandler;if(e.isClassicTheme())return Object.freeze({width:6,height:6,borderWidth:1,borderStyle:"solid",borderColor:"#FFF"});const n=e.getCSSVariableValue("cell-autofill-size"),r=e.getCSSVariableValue("cell-autofill-border-width"),i=e.getCSSVariableValue("cell-autofill-border-color");return Object.freeze({width:n,height:n,borderWidth:r,borderStyle:"solid",borderColor:i})};var cL={},hL;function Mle(){if(hL)return cL;hL=1;var t=NC();return t("flat"),cL}Mle();function Ple(t,e){uY(t,e),e.add(t)}function dL(t,e,n){uY(t,e),e.set(t,n)}function uY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ln(t,e){return t.get(Zg(t,e))}function fL(t,e,n){return t.set(Zg(t,e),n),n}function Zg(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wo=new WeakMap,hr=new WeakMap,Rv=new WeakSet;class Ole{constructor(){Ple(this,Rv),dL(this,wo,void 0),dL(this,hr,void 0)}setActiveOverlay(e){return fL(hr,this,e),this}setActiveSelection(e){return fL(wo,this,e),this}scan(){const e=ln(wo,this).settings.selectionType,n=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="area"?this.scanCellsRange(r=>n.add(r)):e==="focus"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r)),this.scanCellsRange(r=>n.add(r))):e==="fill"?this.scanCellsRange(r=>n.add(r)):e==="header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="row"?(this.scanRowsInHeadersRange(r=>n.add(r)),this.scanRowsInCellsRange(r=>n.add(r))):e==="column"&&(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanColumnsInCellsRange(r=>n.add(r))),n}scanColumnsInHeadersRange(e){const[n,r,i,o]=ln(wo,this).getCorners(),{wtTable:s}=ln(hr,this),a=s.getRenderedColumnsCount(),l=s.getColumnHeadersCount();let u=0;for(let c=-s.getRowHeadersCount();c<a;c++){const h=s.columnFilter.renderedToSource(c);if(!(h<r||h>o)){for(let d=-l;d<0;d++){if(d<n||d>i)continue;const f=d+l;let g=s.getColumnHeader(h,f);const m=ln(hr,this).getSetting("onBeforeHighlightingColumnHeader",h,f,{selectionType:ln(wo,this).settings.selectionType,columnCursor:u,selectionWidth:o-r+1});m!==null&&(m!==h&&(g=s.getColumnHeader(m,f)),e(g))}u+=1}}}scanRowsInHeadersRange(e){const[n,r,i,o]=ln(wo,this).getCorners(),{wtTable:s}=ln(hr,this),a=s.getRenderedRowsCount(),l=s.getRowHeadersCount();let u=0;for(let c=-s.getColumnHeadersCount();c<a;c++){const h=s.rowFilter.renderedToSource(c);if(!(h<n||h>i)){for(let d=-l;d<0;d++){if(d<r||d>o)continue;const f=d+l;let g=s.getRowHeader(h,f);const m=ln(hr,this).getSetting("onBeforeHighlightingRowHeader",h,f,{selectionType:ln(wo,this).settings.selectionType,rowCursor:u,selectionHeight:i-n+1});m!==null&&(m!==h&&(g=s.getRowHeader(m,f)),e(g))}u+=1}}}scanCellsRange(e){const{wtTable:n}=ln(hr,this);Zg(Rv,this,Ile).call(this,(r,i)=>{const o=n.getCell(ln(hr,this).createCellCoords(r,i)),s=ln(hr,this).getSetting("onAfterDrawSelection",r,i,ln(wo,this).settings.layerLevel);typeof s=="string"&&Q(o,s),e(o)})}scanRowsInCellsRange(e){const[n,,r]=ln(wo,this).getCorners(),{wtTable:i}=ln(hr,this);Zg(Rv,this,gL).call(this,(o,s)=>{if(o>=n&&o<=r){const a=i.getCell(ln(hr,this).createCellCoords(o,s));e(a)}})}scanColumnsInCellsRange(e){const[,n,,r]=ln(wo,this).getCorners(),{wtTable:i}=ln(hr,this);Zg(Rv,this,gL).call(this,(o,s)=>{if(s>=n&&s<=r){const a=i.getCell(ln(hr,this).createCellCoords(o,s));e(a)}})}}function Ile(t){let[e,n,r,i]=ln(wo,this).getCorners();if(e<0&&r<0||n<0&&i<0)return;const{wtTable:o}=ln(hr,this),s=e!==r||n!==i;if(n=Math.max(n,0),i=Math.max(i,0),e=Math.max(e,0),r=Math.max(r,0),s){if(n=Math.max(n,o.getFirstRenderedColumn()),i=Math.min(i,o.getLastRenderedColumn()),e=Math.max(e,o.getFirstRenderedRow()),r=Math.min(r,o.getLastRenderedRow()),i<n||r<e)return}else{const a=o.getCell(ln(hr,this).createCellCoords(e,n));if(!La(a))return}for(let a=e;a<=r;a+=1)for(let l=n;l<=i;l+=1)t(a,l)}function gL(t){const{wtTable:e}=ln(hr,this),n=e.getRenderedRowsCount(),r=e.getRenderedColumnsCount();for(let i=0;i<n;i+=1){const o=e.rowFilter.renderedToSource(i);for(let s=0;s<r;s+=1)t(o,e.columnFilter.renderedToSource(s))}}class mL{constructor(e,n){n&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=PO(this.instance),this.cornerCenterPointOffset=-Math.ceil(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let n=0,r=this.main.childNodes.length;n<r;n++){const i=this.main.childNodes[n];this.eventManager.addEventListener(i,"mouseenter",o=>this.onMouseEnter(o,this.main.childNodes[n]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,n){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),jo(e);const r=this,i=this.wot.rootDocument.body,o=n.getBoundingClientRect();n.style.display="none";function s(l){if(l.clientY<Math.floor(o.top)||l.clientY>Math.ceil(o.top+o.height)||l.clientX<Math.floor(o.left)||l.clientX>Math.ceil(o.left+o.width))return!0}function a(l){s(l)&&(r.eventManager.removeEventListener(i,"mousemove",a),n.style.display="block")}this.eventManager.addEventListener(i,"mousemove",a)}createBorders(e){const{rootDocument:n}=this.wot;this.main=n.createElement("div");const r=["top","start","bottom","end","corner"];let i=this.main.style;i.position="absolute",i.top=0,i.left=0;for(let a=0;a<5;a++){const l=r[a],u=n.createElement("div");u.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(u.className+=" hidden"),i=u.style,i.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:e.border.color,i.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,i.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=`${this.cornerDefaultStyle.width}px`,this.cornerStyle.height=`${this.cornerDefaultStyle.height}px`,this.cornerStyle.border=[`${this.cornerDefaultStyle.borderWidth}px`,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Ma()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:o}=this.wot;let s=o.bordersHolder;s||(s=n.createElement("div"),s.className="htBorders",o.bordersHolder=s,o.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e,stylesHandler:n}=this.wot,r=n.getCSSVariableValue("cell-mobile-handle-size"),i=n.getCSSVariableValue("cell-mobile-handle-border-radius"),o=n.getCSSVariableValue("cell-mobile-handle-background-color"),s=n.getCSSVariableValue("cell-mobile-handle-border-width"),a=n.getCSSVariableValue("cell-mobile-handle-border-color");this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const l=10,u=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const c={position:"absolute",height:`${u}px`,width:`${u}px`,"border-radius":`${parseInt(u/1.5,10)}px`};Xe(c,(d,f)=>{this.selectionHandles.styles.bottomHitArea[f]=d,this.selectionHandles.styles.topHitArea[f]=d});const h=n.isClassicTheme()?{position:"absolute",height:`${l}px`,width:`${l}px`,"border-radius":`${parseInt(l/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"}:{position:"absolute",height:`${r}px`,width:`${r}px`,"border-radius":`${i}px`,background:`${o}`,border:`${s}px solid ${a}`};Xe(h,(d,f)=>{this.selectionHandles.styles.bottom[f]=d,this.selectionHandles.styles.top[f]=d}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,n){const r=this.wot.selectionManager.getAreaSelection();return!!(r.cellRange&&(e!==r.cellRange.to.row||n!==r.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,n,r,i,o,s){const l=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:u,topHitArea:c,bottom:h,bottomHitArea:d}=this.selectionHandles.styles,f=parseInt(u.borderWidth,10),g=parseInt(u.width,10),m=parseInt(c.width,10),p=this.wot.wtTable.getWidth(),y=this.wot.wtTable.getHeight();u.top=`${parseInt(r-g-1,10)}px`,u[l]=`${parseInt(i-g-1,10)}px`,c.top=`${parseInt(r-m/4*3,10)}px`,c[l]=`${parseInt(i-m/4*3,10)}px`;const b=Math.min(parseInt(i+o,10),p-g-f*2),T=Math.min(parseInt(i+o-m/4,10),p-m-f*2);h[l]=`${b}px`,d[l]=`${T}px`;const E=Math.min(parseInt(r+s,10),y-g-f*2),P=Math.min(parseInt(r+s-m/4,10),y-m-f*2);h.top=`${E}px`,d.top=`${P}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(u.display="block",c.display="block",this.isPartRange(e,n)?(h.display="none",d.display="none"):(h.display="block",d.display="block")):(u.display="none",h.display="none",c.display="none",d.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||n===this.wot.wtSettings.getSetting("fixedColumnsStart")?(u.zIndex="9999",c.zIndex="9999"):(u.zIndex="",c.zIndex="")}appear(e){if(this.disabled)return;let[n,r,i,o]=e;if(n<0&&i<0||r<0&&o<0){this.disappear();return}const{wtTable:s,rootDocument:a,rootWindow:l}=this.wot,u=n!==i||r!==o,c=s.getFirstRenderedRow(),h=s.getLastRenderedRow(),d=s.getFirstRenderedColumn(),f=s.getLastRenderedColumn();if(d<0&&f<0||c<0&&h<0){this.disappear();return}let g;if(u){if(r=Math.max(r,d),o=Math.min(o,f),n=Math.max(n,c),i=Math.min(i,h),o<r||i<n){this.disappear();return}g=s.getCell(this.wot.createCellCoords(n,r))}else if(g=s.getCell(this.wot.createCellCoords(n,r)),!La(g)){this.disappear();return}const m=u?s.getCell(this.wot.createCellCoords(i,o)):g,p=wr(g),y=u?wr(m):p,b=wr(s.TABLE),T=p.top,E=p.left,P=this.wot.wtSettings.getSetting("rtlMode");let I=0,H=0;if(P){const se=_n(s.TABLE),ce=_n(g),He=l.innerWidth-b.left-se;H=E+ce-y.left,I=l.innerWidth-E-ce-He-1}else H=y.left+_n(m)-E,I=E-b.left-1;if(this.isEntireColumnSelected(n,i)){const se=n,ce=this.getDimensionsFromHeader("columns",r,o,se,b);let He=null;ce&&([He,I,H]=ce),He&&(g=He)}let U=T-b.top-1,K=y.top+Hn(m)-T;if(this.isEntireRowSelected(r,o)){const se=r,ce=this.getDimensionsFromHeader("rows",n,i,se,b);let He=null;ce&&([He,U,K]=ce),He&&(g=He)}const j=l.getComputedStyle(g);parseInt(j.borderTopWidth,10)>0&&(U+=1,K=K>0?K-1:0),parseInt(j[P?"borderRightWidth":"borderLeftWidth"],10)>0&&(I+=1,H=H>0?H-1:0);const q=P?"right":"left";this.topStyle.top=`${U}px`,this.topStyle[q]=`${I}px`,this.topStyle.width=`${H}px`,this.topStyle.display="block",this.startStyle.top=`${U}px`,this.startStyle[q]=`${I}px`,this.startStyle.height=`${K}px`,this.startStyle.display="block";const Z=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${U+K-Z}px`,this.bottomStyle[q]=`${I}px`,this.bottomStyle.width=`${H}px`,this.bottomStyle.display="block",this.endStyle.top=`${U}px`,this.endStyle[q]=`${I+H-Z}px`,this.endStyle.height=`${K+1}px`,this.endStyle.display="block";let ie=this.settings.border.cornerVisible;ie=typeof ie=="function"?ie(this.settings.layerLevel):ie;const ee=this.wot.getSetting("onModifyGetCellCoords",i,o,!1,"render");let[re,pe]=[i,o];if(ee&&Array.isArray(ee)&&([,,re,pe]=ee),Ma()||!ie||this.isPartRange(re,pe))this.cornerStyle.display="none";else{this.cornerStyle.top=`${U+K+this.cornerCenterPointOffset-this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle[q]=`${I+H+this.cornerCenterPointOffset-this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.borderRightWidth=`${this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.borderLeftWidth=`${this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.borderBottomWidth=`${this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let se=qm(s.TABLE);const ce=se===l;ce&&(se=a.documentElement);const He=parseInt(this.cornerDefaultStyle.borderWidth,10)-1,Ne=Math.ceil(parseInt(this.cornerDefaultStyle.width,10)/2),Re=Math.ceil(parseInt(this.cornerDefaultStyle.height,10)/2);if(o===this.wot.getSetting("totalColumns")-1){const w=ce?m.getBoundingClientRect().left:m.offsetLeft;let S=!1,C=0;P?(C=w-parseInt(this.cornerDefaultStyle.width,10)/2,S=C<0):(C=w+_n(m)+parseInt(this.cornerDefaultStyle.width,10)/2,S=C>=JU(se)),S&&(this.cornerStyle[q]=`${Math.floor(I+H+this.cornerCenterPointOffset-Ne-He)}px`,this.cornerStyle[P?"borderLeftWidth":"borderRightWidth"]=0)}if(i===this.wot.getSetting("totalRows")-1){const C=(ce?m.getBoundingClientRect().top:m.offsetTop)+Hn(m)+parseInt(this.cornerDefaultStyle.height,10)/2>=qg(se),F=this.wot.stylesHandler.isClassicTheme();if(C){const B=Math.floor(U+K+this.cornerCenterPointOffset-Re-He);F?(this.cornerStyle.top=`${B}px`,this.cornerStyle.borderBottomWidth=0):this.cornerStyle.top=`${B-1}px`}}this.cornerStyle.display="block"}Ma()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(i,o,U,I,H,K)}isEntireColumnSelected(e,n){return e===this.wot.wtTable.getFirstRenderedRow()&&n===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,n){return e===this.wot.wtTable.getFirstRenderedColumn()&&n===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,n,r,i,o){const{wtTable:s}=this.wot,a=s.wtRootElement.parentNode;let l=null,u=null,c=null,h=null,d=null,f=null,g=null,m=null;switch(e){case"rows":l=function(){return s.getRowHeader(...arguments)},u=function(){return Hn(...arguments)},c="ht__selection--rows",f="top";break;case"columns":l=function(){return s.getColumnHeader(...arguments)},u=function(){return _n(...arguments)},c="ht__selection--columns",f="left";break}if(a.classList.contains(c)){const p=this.wot.getSetting("columnHeaders").length;if(g=l(n,p-i),m=l(r,p-i),!g||!m)return!1;const y=wr(g),b=wr(m);return g&&m&&(h=y[f]-o[f]-1,d=b[f]+u(m)-y[f]),[g,h,d]}return!1}changeBorderStyle(e,n){const r=this[e].style,i=n[e];!i||i.hide?Q(this[e],"hidden"):(Me(this[e],"hidden")&&xe(this[e],"hidden"),r.backgroundColor=i.color,(e==="top"||e==="bottom")&&(r.height=`${i.width}px`),(e==="start"||e==="end")&&(r.width=`${i.width}px`))}changeBorderToDefaultStyle(e){const n={width:1,color:"#000"},r=this[e].style;r.backgroundColor=n.color,r.width=`${n.width}px`,r.height=`${n.width}px`}toggleHiddenClass(e,n){this.changeBorderToDefaultStyle(e),n?Q(this[e],"hidden"):xe(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",Ma()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}function Ale(t,e){cY(t,e),e.add(t)}function sh(t,e,n){cY(t,e),e.set(t,n)}function cY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ge(t,e){return t.get(OO(t,e))}function pL(t,e,n){return t.set(OO(t,e),n),n}function OO(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var dr=new WeakMap,Qr=new WeakMap,DR=new WeakMap,Rg=new WeakMap,$R=new WeakMap,pu=new WeakMap,vL=new WeakSet;class Hle{constructor(e){Ale(this,vL),sh(this,dr,void 0),sh(this,Qr,void 0),sh(this,DR,new Ole),sh(this,Rg,new WeakMap),sh(this,$R,new WeakSet),sh(this,pu,new Map),pL(Qr,this,e)}setActiveOverlay(e){return pL(dr,this,e),Ge(DR,this).setActiveOverlay(Ge(dr,this)),Ge(Rg,this).has(Ge(dr,this))||Ge(Rg,this).set(Ge(dr,this),new Set),this}getFocusSelection(){return Ge(Qr,this)!==null?Ge(Qr,this).getFocus():null}getAreaSelection(){return Ge(Qr,this)!==null?Ge(Qr,this).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(Ge(pu,this).has(e)){const r=Ge(pu,this).get(e);if(r.has(Ge(dr,this)))return r.get(Ge(dr,this));const i=new mL(Ge(dr,this),e.settings);return r.set(Ge(dr,this),i),i}const n=new mL(Ge(dr,this),e.settings);return Ge(pu,this).set(e,new Map([[Ge(dr,this),n]])),n}getBorderInstances(e){var n,r;return Array.from((n=(r=Ge(pu,this).get(e))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:[])}destroyBorders(e){Ge(pu,this).get(e).forEach(n=>n.destroy()),Ge(pu,this).delete(e)}render(e){if(Ge(Qr,this)===null)return;e&&OO(vL,this,kle).call(this);const n=Array.from(Ge(Qr,this)),r=new Map,i=new Map;for(let o=0;o<n.length;o++){const s=n[o],{className:a,headerAttributes:l,createLayers:u,selectionType:c}=s.settings;Ge($R,this).has(s)||(Ge($R,this).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));const h=this.getBorderInstance(s);if(s.isEmpty()){h==null||h.disappear();continue}a&&Ge(DR,this).setActiveSelection(s).scan().forEach(g=>{if(r.has(g)){const m=r.get(g);m.has(a)&&u===!0?m.set(a,m.get(a)+1):m.set(a,1)}else r.set(g,new Map([[a,1]]));l&&(i.has(g)||i.set(g,[]),g.nodeName==="TH"&&i.get(g).push(...l))});const d=s.getCorners();Ge(dr,this).getSetting("onBeforeDrawBorders",d,c),h==null||h.appear(d)}r.forEach((o,s)=>{var a;const l=Array.from(o).map(u=>{let[c,h]=u;return h===1?c:[c,...Array.from({length:h-1},(d,f)=>`${c}-${f+1}`)]}).flat();l.forEach(u=>Ge(Rg,this).get(Ge(dr,this)).add(u)),Q(s,l),s.nodeName==="TD"&&Array.isArray((a=Ge(Qr,this).options)===null||a===void 0?void 0:a.cellAttributes)&&Oe(s,Ge(Qr,this).options.cellAttributes)}),Array.from(i.keys()).forEach(o=>{Oe(o,[...i.get(o)])})}}function kle(){const t=Ge(Rg,this).get(Ge(dr,this)),e=Ge(dr,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let n=0;n<e.length;n++)t.add(e[n]);t.forEach(n=>{var r,i;const o=Ge(dr,this).wtTable.TABLE.querySelectorAll(`.${n}`);let s=[];Array.isArray((r=Ge(Qr,this).options)===null||r===void 0?void 0:r.cellAttributes)&&(s=Ge(Qr,this).options.cellAttributes.map(a=>a[0])),Array.isArray((i=Ge(Qr,this).options)===null||i===void 0?void 0:i.headerAttributes)&&(s=[...s,...Ge(Qr,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=o.length;a<l;a++)xe(o[a],n),qd(o[a],s)}),t.clear()}class Nle extends Up{constructor(e,n,r,i){super(e,n,Ic,r,i)}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new xO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!e.holder.parentNode)return!1;const{rootWindow:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode,i=this.wtSettings.getSetting("preventOverflow");let o=0;this.trimmingContainer===n&&(!i||i!=="horizontal")?(o=this.getOverlayOffset()*(this.isRtl()?-1:1),P1(r,`${o}px`,"0px")):(o=this.getScrollPosition(),HC(r));const s=this.adjustHeaderBordersPosition(o);return this.adjustElementsSize(),s}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;this.isRtl()&&(e=-e);const i=this.mainTableScrollableElement;if(i===n&&e!==n.scrollX){const o=n.scrollX;n.scrollTo(e,XU(n)),r=o!==n.scrollX}else if(e!==i.scrollLeft){const o=i.scrollLeft;i.scrollLeft=e,r=o!==i.scrollLeft}return r}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultColumnWidth");let i=e,o=0;for(;i<n;)o+=this.wot.wtTable.getColumnWidth(i)||r,i+=1;return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="vertical"){let u=n.getWorkspaceHeight();n.hasHorizontalScroll()&&(u-=Xn(r)),u=Math.min(u,e.wtRootElement.scrollHeight),s.height=`${u}px`}else s.height="";this.clone.wtTable.holder.style.height=s.height;const l=_n(this.clone.wtTable.TABLE);s.width=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=PO(this.wot),r=this.wot.selectionManager.getFocusSelection()?parseInt(n.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+r}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),n=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[n]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[n]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,n){const{wtSettings:r}=this,i=r.getSetting("rowHeaders"),o=r.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,l=o===0&&i.length>0&&!Me(a.parentNode,"innerBorderInlineStart")?1:0;let u=this.getTableParentOffset(),c=0;if(n){const h=this.wot.wtTable.getColumnWidth(e),d=this.wot.wtViewport.getViewportWidth();h>d&&(n=!1)}return n&&a.offsetWidth!==a.clientWidth&&(c=Xn(this.domBindings.rootDocument)),n?(u+=this.sumCellSizes(0,e+1),u-=this.wot.wtViewport.getViewportWidth(),u+=l):u+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),u+=c,mte(this.mainTableScrollableElement)===u-l&&l>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(l),this.setScrollPosition(u)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let n=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(n=this.wot.wtTable.holderOffset.left),n}getScrollPosition(){return Math.abs(ZU(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="horizontal")){this.isRtl()?r=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const i=this.wot.wtTable.getTotalWidth(),o=this.clone.wtTable.getTotalWidth(),s=i-o;r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const{wtSettings:n}=this,r=this.wot.wtTable.holder.parentNode,i=n.getSetting("rowHeaders"),o=n.getSetting("fixedColumnsStart"),s=n.getSetting("totalRows"),a=n.getSetting("preventOverflow")==="vertical";s?xe(r,"emptyRows"):Q(r,"emptyRows");let l=!1;if(!a){if(o&&!i.length)Q(r,"innerBorderLeft innerBorderInlineStart");else if(!o&&i.length){const u=Me(r,"innerBorderInlineStart");e?(Q(r,"innerBorderLeft innerBorderInlineStart"),l=!u):(xe(r,"innerBorderLeft innerBorderInlineStart"),l=u)}}return l}}const Dle="stickyRowsTop",IO={getFirstRenderedRow(){return this.getRenderedRowsCount()===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){return Math.min(this.wtSettings.getSetting("totalRows"),this.wtSettings.getSetting("fixedRowsTop"))},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ga(IO,"MIXIN_NAME",Dle,{writable:!1,enumerable:!1});class AO extends Qd{constructor(e,n,r,i){super(e,n,r,i,Ac)}}It(AO,IO);It(AO,BC);function wL(t,e,n){return(e=$le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fle extends Up{constructor(e,n,r,i,o,s){super(e,n,Ac,r,i),wL(this,"topOverlay",void 0),wL(this,"inlineStartOverlay",void 0),this.topOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new AO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const i=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),o=this.topOverlay.getOverlayOffset();P1(e,`${i}px`,`${o}px`)}else HC(e);let n=Hn(this.clone.wtTable.TABLE);const r=_n(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),e.style.height=`${n}px`,e.style.width=`${r}px`,!1}}class HO extends Qd{constructor(e,n,r,i){super(e,n,r,i,Oc)}}It(HO,IO);It(HO,jC);function Vle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Ble(t,"string");return typeof e=="symbol"?e:e+""}function Ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jle extends Up{constructor(e,n,r,i){super(e,n,Oc,r,i),Vle(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new HO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:n}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let i=0,o=!1;if(this.trimmingContainer===n&&(!r||r!=="vertical")){const{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),u=Math.ceil(l.bottom),c=e.offsetHeight;o=u===c,i=this.getOverlayOffset(),P1(e,"0px",`${i}px`)}else i=this.getScrollPosition(),HC(e);const s=this.adjustHeaderBordersPosition(i,o);return this.adjustElementsSize(),s}setScrollPosition(e){const{rootWindow:n}=this.domBindings,r=this.mainTableScrollableElement;let i=!1;if(r===n&&e!==n.scrollY){const o=n.scrollY;n.scrollTo(T1(n),e),i=o!==n.scrollY}else if(e!==r.scrollTop){const o=r.scrollTop;r.scrollTop=e,i=o!==r.scrollTop}return i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const r=this.wot.stylesHandler.getDefaultRowHeight();let i=e,o=0;for(;i<n;){const s=this.wot.wtTable.getRowHeight(i);o+=s===void 0?r:s,i+=1}return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="horizontal"){let u=n.getWorkspaceWidth();n.hasVerticalScroll()&&(u-=Xn(r)),u=Math.min(u,e.wtRootElement.scrollWidth),s.width=`${u}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Hn(this.clone.wtTable.TABLE);e.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=PO(this.wot),r=this.wot.selectionManager.getFocusSelection()?parseInt(n.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+r}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){const{wot:r,wtSettings:i}=this,s=(r.cloneSource?r.cloneSource:r).wtTable.holder,a=i.getSetting("columnHeaders"),u=i.getSetting("fixedRowsTop")===0&&a.length>0&&!Me(s.parentNode,"innerBorderTop")?1:0;let c=this.getTableParentOffset(),h=0;if(n){const d=this.wot.wtTable.getRowHeight(e),f=this.wot.wtViewport.getViewportHeight();d>f&&(n=!1)}if(n&&s.offsetHeight!==s.clientHeight&&(h=Xn(this.domBindings.rootDocument)),n){const d=i.getSetting("fixedRowsBottom"),f=i.getSetting("totalRows");c+=this.sumCellSizes(0,e+1),c-=r.wtViewport.getViewportHeight()-this.sumCellSizes(f-d,f),c+=1,c+=u}else c+=this.sumCellSizes(i.getSetting("fixedRowsTop"),e);return c+=h,gte(this.mainTableScrollableElement)===c-u&&u>0&&this.wot.wtOverlays.expandHiderVerticallyBy(u),this.setScrollPosition(c)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return M1(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=i-o;r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{wtSettings:r}=this,i=this.wot.wtTable.holder.parentNode,o=r.getSetting("totalColumns"),s=r.getSetting("preventOverflow")==="horizontal";o?xe(i,"emptyColumns"):Q(i,"emptyColumns");let a=!1;if(!n&&!s){const l=r.getSetting("fixedRowsTop"),u=this.cachedFixedRowsTop!==l,c=r.getSetting("columnHeaders");if((u||l===0)&&c.length>0){const h=Me(i,"innerBorderTop");this.cachedFixedRowsTop=r.getSetting("fixedRowsTop"),e||r.getSetting("totalRows")===0?(Q(i,"innerBorderTop"),a=!h):(xe(i,"innerBorderTop"),a=h)}}return a}}function Ev(t,e,n){Ule(t,e),e.set(t,n)}function Ule(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xs(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vu(t,e,n){return t.set(hY(t,e),n),n}function Zs(t,e){return t.get(hY(t,e))}function hY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ah=new WeakMap,xv=new WeakMap,lh=new WeakMap,Tv=new WeakMap;class Gle{constructor(e,n,r,i,o,s){Xs(this,"wot",null),Ev(this,ah,[]),Xs(this,"topOverlay",null),Xs(this,"bottomOverlay",null),Xs(this,"inlineStartOverlay",null),Xs(this,"topInlineStartCornerOverlay",null),Xs(this,"bottomInlineStartCornerOverlay",null),Xs(this,"browserLineHeight",void 0),Xs(this,"wtSettings",null),Ev(this,xv,!1),Ev(this,lh,0),Ev(this,Tv,null),Xs(this,"resizeObserver",new ResizeObserver(c=>{oy(()=>{!Array.isArray(c)||!c.length||(vu(lh,this,Zs(lh,this)+1),Zs(lh,this)===100&&(gt("The ResizeObserver callback was fired too many times in direct succession.\nThis may be due to an infinite loop caused by setting a dynamic height/width (for example, with the `dvh` units) to a Handsontable container's parent. \nThe observer will be disconnected."),this.resizeObserver.disconnect()),Zs(Tv,this)!==null&&clearTimeout(Zs(Tv,this)),vu(Tv,this,setTimeout(()=>{vu(lh,this,0)},100)),this.wtSettings.getSetting("onContainerElementResize"))})})),this.wot=e,this.wtSettings=i,this.domBindings=r,this.facadeGetter=n,this.wtTable=s;const{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=Xn(a);const u=l.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=u?s.holder:ry(s.TABLE),this.initOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=[...Zs(ah,this)];return e&&n.push(this.wtTable),n}initBrowserLineHeight(){const{rootWindow:e,rootDocument:n}=this.domBindings,r=e.getComputedStyle(n.body),i=parseInt(r.lineHeight,10),o=parseInt(r.fontSize,10)*1.2;this.browserLineHeight=i||o}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new jle(...e),this.bottomOverlay=new Cle(...e),this.inlineStartOverlay=new Nle(...e),this.topInlineStartCornerOverlay=new Fle(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new ple(...e,this.bottomOverlay,this.inlineStartOverlay),vu(ah,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){vu(xv,this,Zs(ah,this).reduce((e,n)=>n.hasRenderingStateChanged()||e,!1)),Zs(ah,this).forEach(e=>e.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),Zs(ah,this).forEach(e=>{const n=e.hasRenderingStateChanged();e.updateStateOfRendering("after"),n&&!e.needFullRender&&e.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){const{rootDocument:e,rootWindow:n}=this.domBindings,{mainTableScrollableElement:r}=this.topOverlay,{mainTableScrollableElement:i}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",h=>this.onKeyDown(h)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(r,"scroll",h=>this.onTableScroll(h),{passive:!0}),r!==i&&this.eventManager.addEventListener(i,"scroll",h=>this.onTableScroll(h),{passive:!0});const o=n.devicePixelRatio&&n.devicePixelRatio>1,s=this.scrollableElement===n,a=this.wtSettings.getSetting("preventWheel"),l={passive:s};(a||o||!az())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",h=>this.onCloneWheel(h,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(h=>{this.eventManager.addEventListener(h.clone.wtTable.holder,"wheel",d=>this.onCloneWheel(d,a),l)});let c;this.eventManager.addEventListener(n,"resize",()=>{oy(()=>{clearTimeout(c),this.wtSettings.getSetting("onWindowResize"),c=setTimeout(()=>{vu(lh,this,0)},200)})}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}onTableScroll(e){const n=this.domBindings.rootWindow,r=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,o=e.target;this.keyPressed&&(i!==n&&o!==n&&!e.target.contains(i)||r!==n&&o!==n&&!e.target.contains(r))||this.syncScrollPositions(e)}onCloneWheel(e,n){const{rootWindow:r}=this.domBindings,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=e.target,a=o!==r&&s!==r&&!s.contains(o),l=i!==r&&s!==r&&!s.contains(i);if(this.keyPressed&&(a||l)||this.scrollableElement===r)return;const u=this.translateMouseWheelToScroll(e);(n||this.scrollableElement!==r&&u)&&e.preventDefault()}onKeyDown(e){this.keyPressed=Lp(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let n=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,r=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(r+=r*this.browserLineHeight,n+=n*this.browserLineHeight);const i=this.scrollVertically(n),o=this.scrollHorizontally(r);return i||o}scrollVertically(e){const n=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,n!==this.scrollableElement.scrollTop}scrollHorizontally(e){const n=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,n!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const e=this.topOverlay.clone.wtTable.holder,n=this.inlineStartOverlay.clone.wtTable.holder;let r=this.scrollableElement.scrollLeft,i=this.scrollableElement.scrollTop;if(this.wot.wtViewport.isHorizontallyScrollableByWindow()&&(r=this.scrollableElement.scrollX),this.wot.wtViewport.isVerticallyScrollableByWindow()&&(i=this.scrollableElement.scrollY),this.horizontalScrolling=this.lastScrollX!==r,this.verticalScrolling=this.lastScrollY!==i,this.lastScrollX=r,this.lastScrollY=i,this.horizontalScrolling){e.scrollLeft=r;const o=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;o&&(o.scrollLeft=r)}this.verticalScrolling&&(n.scrollTop=i),this.refreshAll()}syncScrollWithMaster(){if(!Zs(xv,this))return;const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:n,scrollTop:r}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=n),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=n),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=r),vu(xv,this,!1)}updateMainScrollableElements(){this.eventManager.clearEvents(!0),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=ry(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,n=e.clientWidth,r=e.clientHeight,i=n!==this.spreaderLastSize.width||r!==this.spreaderLastSize.height;return i&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r),i}adjustElementsSize(){const{wtViewport:e}=this.wot,{wtTable:n}=this,{rootWindow:r}=this.domBindings,i=this.scrollableElement===r,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=e.getRowHeaderWidth(),u=e.getColumnHeaderHeight()+this.topOverlay.sumCellSizes(0,s)+1,c=a+this.inlineStartOverlay.sumCellSizes(0,o),d=n.hider.style,f=()=>i?!1:this.scrollableElement.scrollTop>Math.max(0,u-n.holder.clientHeight),g=()=>i?!1:this.scrollableElement.scrollLeft>Math.max(0,c-n.holder.clientWidth),m=f()?1:0,p=g()?1:0;d.width=`${c+p}px`,d.height=`${u+m}px`,this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(e){const{wtTable:n}=this;n.hider.style.height=`${parseInt(n.hider.style.height,10)+e}px`}expandHiderHorizontallyBy(e){const{wtTable:n}=this;n.hider.style.width=`${parseInt(n.hider.style.width,10)+e}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let r=null;return W(n,i=>{i&&i.clone&&i.clone.wtTable.TABLE.contains(e)&&(r=i.clone)}),r}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];W(n,r=>{r&&(r.clone.wtTable.TABLE.className=e.className)})}}function bL(t,e,n){return(e=Kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=qle(t,"string");return typeof e=="symbol"?e:e+""}function qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xle{constructor(e){bL(this,"settings",{}),bL(this,"defaults",Object.freeze(this.getDefaults())),Xe(this.defaults,(n,r)=>{if(e[r]!==void 0)this.settings[r]=e[r];else{if(n===void 0)throw new Error(`A required setting "${r}" was not provided`);this.settings[r]=n}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,n,r)=>{const i=this.getSetting("data",e,n);Tc(r,i??"")},columnWidth(){},rowHeight(){},rowHeightByOverlayName(){},defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,viewportRowRenderingThreshold:null,viewportColumnRenderingThreshold:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onModifyGetCoordsElement:null,onModifyGetCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,n){return n===void 0?Xe(e,(r,i)=>{this.settings[i]=r}):this.settings[e]=n,this}getSetting(e,n,r,i,o){return typeof this.settings[e]=="function"?this.settings[e](n,r,i,o):n!==void 0&&Array.isArray(this.settings[e])?this.settings[e][n]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}}class kO extends Qd{constructor(e,n,r,i){super(e,n,r,i,"master")}alignOverlaysWithTrimmingContainer(){const e=qm(this.wtRootElement),{rootWindow:n}=this.domBindings;if(e===n)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{const r=e.parentElement,i=iy(e,"height",n),o=iy(e,"overflow",n),s=this.holder.style,{scrollWidth:a,scrollHeight:l}=e;let u=e.offsetWidth,c=e.offsetHeight;if(r&&["auto","hidden","scroll"].includes(o)){const d=e.cloneNode(!1);d.style.overflow="auto",d.style.position="absolute",e.nextElementSibling?r.insertBefore(d,e.nextElementSibling):r.appendChild(d);const f=parseInt(n.getComputedStyle(d).height,10);r.removeChild(d),f===0&&(c=0)}c=Math.min(c,l),s.height=i==="auto"?"auto":`${c}px`,u=Math.min(u,a),s.width=`${u}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:c>0,this.hasTableWidth=u>0}this.isTableVisible=Od(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject,r="master",o=e.getSetting("columnHeaders").length;if(o&&!n.hasOversizedColumnHeadersMarked[r]){const a=e.getSetting("rowHeaders").length,l=this.getRenderedColumnsCount();for(let u=0;u<o;u++)for(let c=-1*a;c<l;c++)this.markIfOversizedColumnHeader(c);n.hasOversizedColumnHeadersMarked[r]=!0}}}It(kO,EO);It(kO,jC);class Zle{constructor(e,n,r,i,o){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=n,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.rowsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllRows")?new Pse:new Nse],["fullyVisible",()=>new bse],["partiallyVisible",()=>new Jz]]),this.columnsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllColumns")?new xse:new Ase],["fullyVisible",()=>new pse],["partiallyVisible",()=>new Zz]]),this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){const e=this.domBindings.rootDocument,n=this.dataAccessObject.topOverlayTrimmingContainer;let r=0;return n===this.domBindings.rootWindow?r=e.documentElement.clientHeight:r=Hn(n)>0&&n.clientHeight>0?n.clientHeight:1/0,r}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const n=this.getColumnHeaderHeight();return n>0&&(e-=n),e}getWorkspaceWidth(){const{rootDocument:e,rootWindow:n}=this.domBindings,r=this.dataAccessObject.inlineStartOverlayTrimmingContainer;let i;if(r===n){const o=this.wtSettings.getSetting("totalColumns");i=this.wtTable.holder.offsetWidth,this.getRowHeaderWidth()+this.sumColumnWidths(0,o)>i&&(i=e.documentElement.clientWidth)}else i=r.clientWidth;return i}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const n=this.getRowHeaderWidth();return n>0?e-n:e}hasVerticalScroll(){if(this.isVerticallyScrollableByWindow()){const o=this.domBindings.rootDocument.documentElement;return o.scrollHeight>o.clientHeight}const{holder:e,hider:n}=this.wtTable,r=e.clientHeight,i=n.offsetHeight;return r<i?!0:i>this.getWorkspaceHeight()}hasHorizontalScroll(){if(this.isVerticallyScrollableByWindow()){const o=this.domBindings.rootDocument.documentElement;return o.scrollWidth>o.clientWidth}const{holder:e,hider:n}=this.wtTable,r=e.clientWidth,i=n.offsetWidth;return r<i?!0:i>this.getWorkspaceWidth()}isVerticallyScrollableByWindow(){return this.dataAccessObject.topOverlayTrimmingContainer===this.domBindings.rootWindow}isHorizontallyScrollableByWindow(){return this.dataAccessObject.inlineStartOverlayTrimmingContainer===this.domBindings.rootWindow}sumColumnWidths(e,n){let r=0,i=e;for(;i<n;)r+=this.wtTable.getColumnWidth(i),i+=1;return r}getWorkspaceOffset(){return wr(this.wtTable.holder)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Hn(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),n=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let r=0,i=n.length;r<i;r++)this.rowHeaderWidth+=e[r]||e}if(isNaN(this.rowHeaderWidth))if(n.length){let r=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let i=0,o=n.length;i<o;i++)r?(this.rowHeaderWidth+=_n(r),r=r.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:r}=this;let i=this.getViewportHeight(),o,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const l=n.getSetting("fixedRowsTop"),u=n.getSetting("fixedRowsBottom"),c=n.getSetting("totalRows");return l&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=s,i-=s),u&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(c-u,c),i-=s),r.holder.clientHeight===r.holder.offsetHeight?o=0:o=Xn(this.domBindings.rootDocument),new jse({calculationTypes:e.map(h=>[h,this.rowsCalculatorTypes.get(h)()]),viewportHeight:i,scrollOffset:a,totalRows:n.getSetting("totalRows"),defaultRowHeight:this.instance.stylesHandler.getDefaultRowHeight(),rowHeightFn:h=>r.getRowHeight(h),overrideFn:n.getSettingPure("viewportRowCalculatorOverride"),horizontalScrollbarHeight:o})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:r}=this;let i=this.getViewportWidth(),o=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const s=n.getSetting("fixedColumnsStart");if(s&&o>=0){const a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);o+=a,i-=a}return r.holder.clientWidth!==r.holder.offsetWidth&&(i-=Xn(this.domBindings.rootDocument)),new Vse({calculationTypes:e.map(a=>[a,this.columnsCalculatorTypes.get(a)()]),viewportWidth:i,scrollOffset:o,totalColumns:n.getSetting("totalColumns"),columnWidthFn:a=>r.getColumnWidth(a),overrideFn:n.getSettingPure("viewportColumnCalculatorOverride"),inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,r=this.createRowsCalculator(),i=this.createColumnsCalculator();if(e&&!n.getSetting("renderAllRows")){const o=r.getResultsFor("fullyVisible");e=this.areAllProposedVisibleRowsAlreadyRendered(o)}if(e&&!n.getSetting("renderAllColumns")){const o=i.getResultsFor("fullyVisible");e=this.areAllProposedVisibleColumnsAlreadyRendered(o)}return e||(this.rowsRenderCalculator=r.getResultsFor("rendered"),this.columnsRenderCalculator=i.getResultsFor("rendered")),this.rowsVisibleCalculator=r.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=i.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=r.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=i.getResultsFor("partiallyVisible"),e}createVisibleCalculators(){const e=this.createRowsCalculator(["fullyVisible","partiallyVisible"]),n=this.createColumnsCalculator(["fullyVisible","partiallyVisible"]);this.rowsVisibleCalculator=e.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=n.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=e.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=n.getResultsFor("partiallyVisible")}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;let{startRow:n,endRow:r}=e;if(n===null&&r===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.rowsPartiallyVisibleCalculator.startRow,r=this.rowsPartiallyVisibleCalculator.endRow}const{startRow:i,endRow:o,rowStartOffset:s,rowEndOffset:a}=this.rowsRenderCalculator,l=this.wtSettings.getSetting("totalRows")-1,u=this.wtSettings.getSetting("viewportRowRenderingThreshold");return Number.isInteger(u)&&u>0?(n=Math.max(0,n-Math.min(s,u)),r=Math.min(l,r+Math.min(a,u))):u==="auto"&&(n=Math.max(0,n-Math.ceil(s/2)),r=Math.min(l,r+Math.ceil(a/2))),n<i||n===i&&n>0?!1:!(r>o||r===o&&r<l)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;let{startColumn:n,endColumn:r}=e;if(n===null&&r===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.columnsPartiallyVisibleCalculator.startColumn,r=this.columnsPartiallyVisibleCalculator.endColumn}const{startColumn:i,endColumn:o,columnStartOffset:s,columnEndOffset:a}=this.columnsRenderCalculator,l=this.wtSettings.getSetting("totalColumns")-1,u=this.wtSettings.getSetting("viewportColumnRenderingThreshold");return Number.isInteger(u)&&u>0?(n=Math.max(0,n-Math.min(s,u)),r=Math.min(l,r+Math.min(a,u))):u==="auto"&&(n=Math.max(0,n-Math.ceil(s/2)),r=Math.min(l,r+Math.ceil(a/2))),n<i||n===i&&n>0?!1:!(r>o||r===o&&r<l)}resetHasOversizedColumnHeadersMarked(){Xe(this.hasOversizedColumnHeadersMarked,(e,n,r)=>{r[n]=void 0})}}function Jle(t,e){dY(t,e),e.add(t)}function wu(t,e,n){dY(t,e),e.set(t,n)}function dY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yt(t,e){return t.get(To(t,e))}function xo(t,e,n){return t.set(To(t,e),n),n}function To(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const yL=23;var ds=new WeakMap,Sa=new WeakMap,NO=new WeakMap,RT=new WeakMap,fl=new WeakMap,Eg=new WeakMap,Xm=new WeakMap,ps=new WeakSet;class Qle{constructor(e){Jle(this,ps),wu(this,ds,void 0),wu(this,Sa,void 0),wu(this,NO,void 0),wu(this,RT,void 0),wu(this,fl,!0),wu(this,Eg,{}),wu(this,Xm,{}),xo(Sa,this,e.rootTable.parentElement.parentElement),xo(RT,this,e.rootDocument)}isClassicTheme(){return Yt(fl,this)}getCSSVariableValue(e){var n;if(Yt(fl,this))return null;if(Yt(Eg,this)[`--ht-${e}`])return Yt(Eg,this)[`--ht-${e}`];const r=(n=To(ps,this,rue).call(this,`--ht-${e}`))!==null&&n!==void 0?n:To(ps,this,fY).call(this,`--ht-${e}`);if(r!==null)return Yt(Eg,this)[`--ht-${e}`]=r,r}getStyleForTD(e){var n;return(n=Yt(Xm,this))===null||n===void 0?void 0:n.td[e]}getDefaultRowHeight(){if(Yt(fl,this))return yL;const e=To(ps,this,eue).call(this);return!e&&Me(Yt(Sa,this),"ht-wrapper")?(gt(`The "${Yt(ds,this)}" theme is enabled, but its stylesheets are missing or not imported correctly. Import the correct CSS files in order to use that theme.`),xo(fl,this,!0),this.useTheme(),yL):e}areCellsBorderBox(){return this.getStyleForTD("box-sizing")==="border-box"}useTheme(e){if(!e){To(ps,this,CL).call(this),xo(fl,this,!0),xo(ds,this,e||void 0);return}e&&e!==Yt(ds,this)&&(Yt(ds,this)&&To(ps,this,iue).call(this),xo(ds,this,e),xo(fl,this,!1),To(ps,this,tue).call(this),To(ps,this,CL).call(this))}getThemeName(){return Yt(ds,this)}removeClassNames(){Me(Yt(Sa,this),Yt(ds,this))&&xe(Yt(Sa,this),Yt(ds,this))}}function eue(){const t=this.getCSSVariableValue("line-height"),e=this.getCSSVariableValue("cell-vertical-padding"),n=Math.ceil(parseFloat(this.getStyleForTD("border-bottom-width")));return t===null||e===null||isNaN(n)?null:t+2*e+n}function tue(){xe(Yt(Sa,this),/ht-theme-.*/g),Q(Yt(Sa,this),Yt(ds,this))}function CL(){this.isClassicTheme()||xo(NO,this,getComputedStyle(Yt(Sa,this)));const t=To(ps,this,nue).call(this,["box-sizing","border-bottom-width"]);Yt(Xm,this).td={...Yt(Xm,this).td,"box-sizing":t["box-sizing"],"border-bottom-width":t["border-bottom-width"]}}function nue(t){const e=Yt(RT,this),n=Yt(Sa,this),r=e.createElement("table"),i=e.createElement("tbody"),o=e.createElement("tr"),s=e.createElement("tr"),a=e.createElement("td");s.appendChild(a),i.appendChild(o),i.appendChild(s),r.appendChild(i),n.appendChild(r);const l=getComputedStyle(a),u={};return t.forEach(c=>{u[c]=l.getPropertyValue(c)}),n.removeChild(r),u}function rue(t){const e=Math.ceil(parseFloat(To(ps,this,fY).call(this,t)));return Number.isNaN(e)?null:e}function fY(t){const e=Yt(NO,this).getPropertyValue(t);return e===""?null:e}function iue(){xo(Xm,this,{}),xo(Eg,this,{}),xo(fl,this,!0)}class oue extends _O{constructor(e,n){super(e,new Xle(n)),this.stylesHandler=new Qle(this.domBindings);const r=this.wtSettings.getSetting("facade",this);this.wtTable=new kO(this.getTableDao(),r,this.domBindings,this.wtSettings),this.wtViewport=new Zle(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new Hle(this.wtSettings.getSetting("selections")),this.wtEvent=new rY(r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new Gle(this,r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},n=[],r=[];Xe(e,(i,o)=>{this.wtSettings.getSetting(o).length&&r.push(i),n.push(i)}),xe(this.wtTable.wtRootElement.parentNode,n),Q(this.wtTable.wtRootElement.parentNode,r)}getOverlayByName(e){var n;if(!sY.includes(e))return null;const r=e.replace(/_([a-z])/g,i=>i[1].toUpperCase());return(n=this.wtOverlays[`${r}Overlay`])!==null&&n!==void 0?n:null}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class DO{constructor(e){e instanceof _O?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=n=>{const r=new DO(n);return()=>r},this._wot=new oue(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get activeOverlayName(){return this._wot.activeOverlayName}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}get stylesHandler(){return this._wot.stylesHandler}createCellCoords(e,n){return this._wot.createCellCoords(e,n)}createCellRange(e,n,r){return this._wot.createCellRange(e,n,r)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,n)}scrollViewport(e,n,r){return this._wot.scrollViewport(e,n,r)}scrollViewportHorizontally(e,n){return this._wot.scrollViewportHorizontally(e,n)}scrollViewportVertically(e,n){return this._wot.scrollViewportVertically(e,n)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}getOverlayByName(e){return this._wot.getOverlayByName(e)}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,n){return this._wot.wtSettings.update(e,n),this}getSetting(e,n,r,i,o){return this._wot.wtSettings.getSetting(e,n,r,i,o)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}var SL={},_L={},RL;function sue(){if(RL)return _L;RL=1;var t=$t(),e=Dn(),n=zd(),r=ai(),i=Ln(),o=Ls(),s=Ti(),a=Ql(),l=a("some",TypeError);return t({target:"Iterator",proto:!0,real:!0,forced:l},{some:function(c){i(this);try{r(c)}catch(f){s(this,"throw",f)}if(l)return e(l,this,c);var h=o(this),d=0;return n(h,function(f,g){if(c(f,d++))return g()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),_L}var EL;function aue(){return EL||(EL=1,sue()),SL}aue();function xL(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return typeof e=="symbol"?e:e+""}function uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;xL(this,"indexedValues",[]),xL(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const n=this.indexedValues;if(e<n.length)return n[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,n){return e<this.indexedValues.length?(this.indexedValues[e]=n,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Rt(this.initValueOrFn)?Ce(e-1,n=>this.indexedValues.push(this.initValueOrFn(n))):Ce(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}It(Gc,or);function $O(t,e,n,r){const i=n.length?n[0]:void 0;return[...t.slice(0,i),...n.map((o,s)=>Rt(r)?r(o,s):r),...i===void 0?[]:t.slice(i)]}function LO(t,e){return Ec(t,(n,r)=>e.includes(r)===!1)}class nu extends Gc{insert(e,n){this.indexedValues=$O(this.indexedValues,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){this.indexedValues=LO(this.indexedValues,e),super.remove(e)}}class UC extends nu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return li(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}function FO(t,e,n){return[...t.slice(0,e),...n,...t.slice(e)]}function Zm(t,e){return Ec(t,n=>e.includes(n)===!1)}function VO(t,e){return nt(t,n=>n-e.filter(r=>r<n).length)}function WO(t,e){const n=e[0],r=e.length;return nt(t,i=>i>=n?i+r:i)}function cue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=due(t,"string");return typeof e=="symbol"?e:e+""}function due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zC extends Gc{constructor(){super(...arguments),cue(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=n,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(r,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=Zm(this.orderOfIndexes,[e]),Rt(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,n){this.indexedValues=$O(this.indexedValues,e,n,this.initValueOrFn),this.orderOfIndexes=WO(this.orderOfIndexes,n),super.insert(e,n)}remove(e){this.indexedValues=LO(this.indexedValues,e),this.orderOfIndexes=Zm(this.orderOfIndexes,e),this.orderOfIndexes=VO(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}}class zp extends nu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return li(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}const TL=new Map([["indexesSequence",{getListWithInsertedItems:FO,getListWithRemovedItems:Zm}],["physicallyIndexed",{getListWithInsertedItems:$O,getListWithRemovedItems:LO}]]),gY=t=>{if(TL.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return TL.get(t)};class mY extends Gc{constructor(){super(e=>e)}insert(e,n){const r=WO(this.indexedValues,n);this.indexedValues=FO(r,e,n),super.insert(e,n)}remove(e){const n=Zm(this.indexedValues,e);this.indexedValues=VO(n,e),super.remove(e)}}const ML=new Map([["hiding",UC],["index",Gc],["linkedPhysicalIndexToValue",zC],["physicalIndexToValue",nu],["trimming",zp]]);function fue(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ML.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(ML.get(t))(e)}function gue(t,e,n){return(e=mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=pue(t,"string");return typeof e=="symbol"?e:e+""}function pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BO{constructor(){gue(this,"collection",new Map)}register(e,n){this.collection.has(e)===!1&&(this.collection.set(e,n),n.addLocalHook("change",()=>this.runLocalHooks("change",n)))}unregister(e){const n=this.collection.get(e);we(n)&&(n.destroy(),this.collection.delete(e),this.runLocalHooks("change",n))}unregisterAll(){this.collection.forEach((e,n)=>this.unregister(n)),this.collection.clear()}get(e){return en(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(n=>{n.remove(e)})}insertToEvery(e,n){this.collection.forEach(r=>{r.insert(e,n)})}initEvery(e){this.collection.forEach(n=>{n.init(e)})}}It(BO,or);function LR(t,e,n){return(e=vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=wue(t,"string");return typeof e=="symbol"?e:e+""}function wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PL extends BO{constructor(e,n){super(),LR(this,"mergedValuesCache",[]),LR(this,"aggregationFunction",void 0),LR(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=n}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];const n=nt(this.get(),o=>o.getValues()),r=[],i=we(n[0])&&n[0].length||0;for(let o=0;o<i;o+=1){const s=[];for(let a=0;a<this.getLength();a+=1)s.push(n[a][o]);r.push(s)}return nt(r,this.aggregationFunction)}getMergedValueAtIndex(e,n){const r=this.getMergedValues(n)[e];return we(r)?r:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function bue(t,e,n){yue(t,e),e.set(t,n)}function yue(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Cue(t,e,n){return t.set(pY(t,e),n),n}function Sue(t,e){return t.get(pY(t,e))}function pY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var FR=new WeakMap;class vY{constructor(){bue(this,FR,[])}subscribe(e){return this.addLocalHook("change",e),this._write(Sue(FR,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){Cue(FR,this,e)}}It(vY,or);function OL(t,e){const n=[];let r=0,i=0;for(;r<t.length&&i<e.length;r++,i++)t[r]!==e[i]&&n.push({op:"replace",index:i,oldValue:t[r],newValue:e[i]});for(;r<e.length;r++)n.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;i<t.length;i++)n.push({op:"remove",index:i,oldValue:t[i],newValue:void 0});return n}function Mf(t,e,n){_ue(t,e),e.set(t,n)}function _ue(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ki(t,e){return t.get(wY(t,e))}function Mv(t,e,n){return t.set(wY(t,e),n),n}function wY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Pv=new WeakMap,Pf=new WeakMap,Ov=new WeakMap,Iv=new WeakMap,Av=new WeakMap;class Rue{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mf(this,Pv,new Set),Mf(this,Pf,[]),Mf(this,Ov,[]),Mf(this,Iv,!1),Mf(this,Av,!1),Mv(Av,this,e??!1)}createObserver(){const e=new vY;return ki(Pv,this).add(e),e.addLocalHook("unsubscribe",()=>{ki(Pv,this).delete(e)}),e._writeInitialChanges(OL(ki(Pf,this),ki(Ov,this))),e}emit(e){let n=ki(Ov,this);(!ki(Iv,this)||ki(Pf,this).length!==e.length)&&(e.length===0?e=new Array(n.length).fill(ki(Av,this)):Mv(Pf,this,new Array(e.length).fill(ki(Av,this))),ki(Iv,this)||(Mv(Iv,this,!0),n=ki(Pf,this)));const r=OL(n,e);ki(Pv,this).forEach(i=>i._write(r)),Mv(Ov,this,e)}}function Er(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=xue(t,"string");return typeof e=="symbol"?e:e+""}function xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ET{constructor(){Er(this,"indexesSequence",new mY),Er(this,"trimmingMapsCollection",new PL(e=>e.some(n=>n===!0),!1)),Er(this,"hidingMapsCollection",new PL(e=>e.some(n=>n===!0),!1)),Er(this,"variousMapsCollection",new BO),Er(this,"hidingChangesObservable",new Rue({initialIndexValue:!1})),Er(this,"notTrimmedIndexesCache",[]),Er(this,"notHiddenIndexesCache",[]),Er(this,"isBatched",!1),Er(this,"indexesSequenceChanged",!1),Er(this,"indexesChangeSource",void 0),Er(this,"trimmedIndexesChanged",!1),Er(this,"hiddenIndexesChanged",!1),Er(this,"renderablePhysicalIndexesCache",[]),Er(this,"fromPhysicalToVisualIndexesCache",new Map),Er(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,n,r){return this.registerMap(e,fue(n,r))}registerMap(e,n){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);n instanceof zp?this.trimmingMapsCollection.register(e,n):n instanceof UC?this.hidingMapsCollection.register(e,n):this.variousMapsCollection.register(e,n);const r=this.getNumberOfIndexes();return r>0&&n.init(r),n}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const n=this.notTrimmedIndexesCache[e];return we(n)?n:null}getPhysicalFromRenderableIndex(e){const n=this.renderablePhysicalIndexesCache[e];return we(n)?n:null}getVisualFromPhysicalIndex(e){const n=this.fromPhysicalToVisualIndexesCache.get(e);return we(n)?n:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const n=this.fromVisualToRenderableIndexesCache.get(e);return we(n)?n:null}getNearestNotHiddenIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const o=Array.from(this.fromVisualToRenderableIndexesCache.keys());let s=-1;return n>0?s=o.findIndex(a=>a>e):s=o.reverse().findIndex(a=>a<e),s===-1?r?this.getNearestNotHiddenIndex(e,-n,!1):null:o[s]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const n=this.getNumberOfIndexes();if(e<n){const r=[...Array(this.getNumberOfIndexes()-e).keys()].map(i=>i+e);this.removeIndexes(r)}else this.insertIndexes(n,e-n)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(r=>this.isTrimmed(r)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(r=>this.isHidden(r)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(r=>this.isHidden(r)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,n){typeof e=="number"&&(e=[e]);const r=nt(e,u=>this.getPhysicalFromVisualIndex(u)),i=this.getNotTrimmedIndexesLength(),o=e.length,s=Zm(this.getIndexesSequence(),r),a=s.filter(u=>this.isTrimmed(u)===!1);let l=s.indexOf(a[a.length-1])+1;if(n+o<i){const u=a[n];l=s.indexOf(u)}this.indexesChangeSource="move",this.setIndexesSequence(FO(s,l,r)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,n){const r=this.getNotTrimmedIndexes()[e],i=we(r)?r:this.getNumberOfIndexes(),o=this.getIndexesSequence().includes(r)?this.getIndexesSequence().indexOf(r):this.getNumberOfIndexes(),s=nt(new Array(n).fill(i),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(o,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(o,s),this.hidingMapsCollection.insertToEvery(o,s),this.variousMapsCollection.insertToEvery(o,s),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&n===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromVisualIndex(n);this.fromPhysicalToVisualIndexesCache.set(r,n)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromRenderableIndex(n),i=this.getVisualFromPhysicalIndex(r);this.fromVisualToRenderableIndexesCache.set(i,n)}}}It(ET,or);function Tue(t,e){bY(t,e),e.add(t)}function VR(t,e,n){bY(t,e),e.set(t,n)}function bY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Of(t,e,n){return(e=Mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mue(t){var e=Pue(t,"string");return typeof e=="symbol"?e:e+""}function Pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hl(t,e){return t.get(ti(t,e))}function fy(t,e,n){return t.set(ti(t,e),n),n}function ti(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("modifyAutoColumnSizeSeed");const WR="autoColumnSize",Oue=10,Iue="autoColumnSize";var jO=new WeakMap,zh=new WeakMap,kd=new WeakMap,vi=new WeakSet;class Jg extends ft{static get PLUGIN_KEY(){return WR}static get PLUGIN_PRIORITY(){return Oue}static get SETTING_KEYS(){return!0}static get DEFAULT_SETTINGS(){return{useHeaders:!0,samplingRatio:null,allowSampleDuplicates:!1}}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),Tue(this,vi),Of(this,"ghostTable",new Xz(this.hot)),Of(this,"samplesGenerator",new WC((n,r)=>{const i=this.hot.toPhysicalRow(n),o=this.hot.toPhysicalColumn(r);if(this.hot.rowIndexMapper.isHidden(i)||this.hot.columnIndexMapper.isHidden(o))return!1;const s=this.hot.getCellMeta(n,r);let a="";s.spanned||(a=this.hot.getDataAtCell(n,r));let l="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=this.hot.runHooks("modifyAutoColumnSizeSeed",l,s,a)),{value:a,bundleSeed:l}})),Of(this,"inProgress",!1),Of(this,"measuredColumns",0),Of(this,"columnWidthsMap",new nu),VR(this,jO,!1),VR(this,zh,[]),VR(this,kd,[]),this.hot.columnIndexMapper.registerMap(Iue,this.columnWidthsMap),this.addHook("beforeColumnResize",(n,r,i)=>ti(vi,this,IL).call(this,n,r,i))}isEnabled(){return this.hot.getSettings()[WR]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;this.ghostTable.setSetting("useHeaders",this.getSetting("useHeaders")),this.samplesGenerator.setAllowDuplicates(this.getSetting("allowSampleDuplicates"));const n=this.getSetting("samplingRatio");n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(vi,e,kue).call(e,...i)}),this.addHook("beforeChangeRender",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(vi,e,Nue).call(e,...i)}),this.addHook("afterFormulasValuesUpdate",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(vi,e,$ue).call(e,...i)}),this.addHook("beforeRender",()=>ti(vi,this,Hue).call(this)),this.addHook("modifyColWidth",(r,i)=>this.getColumnWidth(i,r)),this.addHook("init",()=>ti(vi,this,Due).call(this)),super.enablePlugin()}updatePlugin(){fy(kd,this,this.findColumnsWhereHeaderWasChanged()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,n,r)=>ti(vi,this,IL).call(this,e,n,r))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();if(e===-1||n===-1)return;const r=this.hot.forceFullRender;this.calculateColumnsWidth({from:e,to:n},void 0,r)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,o=typeof n=="number"?{from:n,to:n}:n;Ce(i.from,i.to,s=>{let a=this.hot.toPhysicalColumn(s);a===null&&(a=s),(r||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a))&&ti(vi,this,yY).call(this,s,o)}),this.ghostTable.columns.length&&(ti(vi,this,CY).call(this),this.measuredColumns=i.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0;const i=this.hot.countCols()-1;let o=null;this.inProgress=!0;const s=()=>{if(!this.hot){sy(o),this.inProgress=!1;return}this.calculateColumnsWidth({from:r,to:Math.min(r+Jg.CALCULATION_STEP,i)},e,n),r=r+Jg.CALCULATION_STEP+1,r<i?o=oy(s):(sy(o),this.inProgress=!1,this.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateColumnsWidth({from:0,to:a},e,n),r=a+1),r<i?s():this.inProgress=!1}recalculateAllColumnsWidth(){this.hot.view.isVisible()&&this.calculateAllColumnsWidth({from:0,to:this.hot.countRows()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[WR];let n=Jg.SYNC_CALCULATION_LIMIT;const r=this.hot.countCols()-1;return qe(e)&&(n=e.syncLimit,FU(n)?n=cz(r,n):n>>=0),Math.min(n,r)}getColumnWidth(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=n;return i===void 0&&(i=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),r&&typeof i=="number"&&(i=Math.max(i,Hd))),i}getFirstVisibleColumn(){var e;return(e=this.hot.getFirstRenderedVisibleColumn())!==null&&e!==void 0?e:-1}getLastVisibleColumn(){var e;return(e=this.hot.getLastRenderedVisibleColumn())!==null&&e!==void 0?e:-1}findColumnsWhereHeaderWasChanged(){return this.hot.getColHeader().reduce((r,i,o)=>{const s=Hl(zh,this).length;return(s-1<o||Hl(zh,this)[o]!==i)&&r.push(this.hot.toVisualColumn(o)),s-1<o?Hl(zh,this).push(i):Hl(zh,this)[o]=i,r},[])}clearCache(e){Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.columnWidthsMap.setValueAtIndex(n,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!this.columnWidthsMap.getValues().slice(0,this.measuredColumns).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function Aue(t){const e={from:0,to:this.hot.countRows()-1};t.forEach(n=>{const r=this.hot.toPhysicalColumn(n);r!==null&&(this.hot._getColWidthFromSettings(r)||ti(vi,this,yY).call(this,n,e))}),this.ghostTable.columns.length&&(ti(vi,this,CY).call(this),this.ghostTable.clean())}function yY(t,e){this.samplesGenerator.generateColumnSamples(t,e).forEach((r,i)=>this.ghostTable.addColumn(i,r))}function CY(){this.hot.batchExecution(()=>{this.ghostTable.getWidths((t,e)=>{const n=this.hot.toPhysicalColumn(t);this.columnWidthsMap.setValueAtIndex(n,e)})},!0)}function Hue(){this.calculateVisibleColumnsWidth(),this.inProgress||(ti(vi,this,Aue).call(this,Hl(kd,this)),fy(kd,this,[]))}function kue(t,e){e||this.recalculateAllColumnsWidth()}function Nue(t){const e=t.reduce((n,r)=>{let[,i]=r;const o=this.hot.propToCol(i);return Number.isInteger(o)&&n.indexOf(o)===-1&&n.push(o),n},[]);Hl(kd,this).push(...e)}function IL(t,e,n){let r=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),r=this.getColumnWidth(e,void 0,!1)),r}function Due(){fy(zh,this,this.hot.getColHeader()),this.recalculateAllColumnsWidth(),fy(jO,this,!0)}function $ue(t){if(!Hl(jO,this))return;const e=t.reduce((n,r)=>{var i;const o=(i=r.address)===null||i===void 0?void 0:i.col;if(Number.isInteger(o)){const s=this.hot.toVisualColumn(o);n.indexOf(s)===-1&&n.push(s)}return n},[]);Hl(kd,this).push(...e)}const lc={horizontal:"horizontal",vertical:"vertical"};function Lue(t,e,n){let r,i,o;return e[0]===t[0]&&e[1]<t[1]?(o="left",r=n(e[0],e[1]),i=n(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(o="right",r=n(e[0],t[3]+1),i=n(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(o="up",r=n(e[0],e[1]),i=n(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(o="down",r=n(t[2]+1,e[1]),i=n(e[2],e[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}function Fue(t){const e={};return t===!0?(e.directions=Object.keys(lc),e.autoInsertRow=!0):qe(t)?(we(t.autoInsertRow)?t.direction===lc.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,we(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(lc)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function Vue(t,e){Wue(t,e),e.add(t)}function Wue(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uh(t,e,n){return(e=Bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=jue(t,"string");return typeof e=="symbol"?e:e+""}function jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function If(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("modifyAutofillRange");de.getSingleton().register("beforeAutofill");de.getSingleton().register("afterAutofill");const AL="autofill",Uue=20,zue=["fillHandle"],Yue="insert_row_below",Gue=200;var ch=new WeakSet;class Kue extends ft{constructor(){super(...arguments),Vue(this,ch),uh(this,"addingStarted",!1),uh(this,"mouseDownOnCellCorner",!1),uh(this,"mouseDragOutside",!1),uh(this,"handleDraggedCells",0),uh(this,"directions",[]),uh(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return AL}static get PLUGIN_PRIORITY(){return Uue}static get SETTING_KEYS(){return[AL,...zue]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>If(ch,this,Xue).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>If(ch,this,que).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,n)=>If(ch,this,Zue).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const e=this.hot.getSelectedRangeLast(),{row:n,col:r}=e.getTopStartCorner(),{row:i,col:o}=e.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:n,startCol:r,endRow:i,endCol:o}]),a=[],l=[],u=[];return W(s,c=>{for(let h=c.startRow;h<=c.endRow;h+=1)a.indexOf(h)===-1&&a.push(h);for(let h=c.startCol;h<=c.endCol;h+=1)l.indexOf(h)===-1&&l.push(h)}),W(a,c=>{const h=[];W(l,d=>{h.push(this.hot.getCopyableData(c,d))}),u.push(h)}),u}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,n,r,i]=this.hot.selection.highlight.getFill().getVisualCorners(),o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=o.getBottomEndCorner();this.resetSelectionOfDraggedArea();const l=[s.row,s.col,a.row,a.col],u=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,e),Math.min(s.col,n),Math.max(a.row,r),Math.max(a.col,i)],l),{directionOfDrag:c,startOfDragCoords:h,endOfDragCoords:d}=Lue(l,u,(f,g)=>this.hot._createCellCoords(f,g));if(h&&h.row>-1&&h.col>-1){const f=this.getSelectionData(),g=o.clone(),m=this.hot._createCellRange(h,h,d),p=this.hot.runHooks("beforeAutofill",f,g,m,c);if(p===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let y=p;const b=p;if(["up","left"].indexOf(c)>-1&&!(b.length===1&&b[0].length===0))if(y=[],c==="up"){const T=d.row-h.row+1,E=T%b.length;for(let P=0;P<T;P++)y.push(b[(P+(b.length-E))%b.length])}else{const T=d.col-h.col+1,E=T%b[0].length;for(let P=0;P<b.length;P++){y.push([]);for(let I=0;I<T;I++)y[P].push(b[P][(I+(b[P].length-E))%b[P].length])}}this.hot.populateFromArray(h.row,h.col,y,d.row,d.col,`${this.pluginName}.fill`,null),this.setSelection(u),this.hot.runHooks("afterAutofill",y,g,m,c),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const n=this.hot.getSelectedRangeLast(),r=n.getBottomEndCorner();let i=e;if(this.directions.includes(lc.vertical)&&this.directions.includes(lc.horizontal)){const o=n.getTopStartCorner();(r.col<=e.col||o.col>=e.col)&&(i=this.hot._createCellCoords(r.row,e.col)),(r.row<e.row||o.row>e.row)&&(i=this.hot._createCellCoords(e.row,r.col))}else if(this.directions.includes(lc.vertical))i=this.hot._createCellCoords(e.row,r.col);else if(this.directions.includes(lc.horizontal))i=this.hot._createCellCoords(r.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(i)}showBorder(e){const n=this.getCoordsOfDragAndDropBorders(e);n&&this.redrawBorders(n)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(Yue,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},Gue)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){const e=this.hot.getSelectedLast(),n=this.hot.selection.highlight.getFill().getVisualCorners(),r=this.hot.countRows();e[2]<r-1&&n[2]===r-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const n=this.hot.getData(),r=this.hot.countRows();let i;for(let o=e[2]+1;o<r;o++){for(let l=e[1];l<=e[3];l++){const u=n[o][l];if(!bn(u))return-1}const s=n[o][e[1]-1],a=n[o][e[3]+1];(!bn(s)||!bn(a))&&(i=o)}return i}addSelectionFromStartAreaToSpecificRowIndex(e,n){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(n,e[3])).commit()}setSelection(e){this.hot.selectCell(...nt(e,n=>Math.max(n,0)),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),n=this.getIndexOfLastAdjacentFilledInRow(e);return n===-1||n===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,n),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:n}=this.hot.rootDocument,r=wr(this.hot.table).top-(this.hot.rootWindow.pageYOffset||n.scrollTop)+Hn(this.hot.table),i=wr(this.hot.table).left-(this.hot.rootWindow.pageXOffset||n.scrollLeft)+_n(this.hot.table);return e.clientY>r&&e.clientX<=i}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>If(ch,this,Jue).call(this)),this.eventManager.addEventListener(e,"mousemove",n=>If(ch,this,Que).call(this,n))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=Fue(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function que(){this.selectAdjacent()&&this.fillIn()}function Xue(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function Zue(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function Jue(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function Que(t){const e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function ece(t,e){SY(t,e),e.add(t)}function HL(t,e,n){SY(t,e),e.set(t,n)}function SY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hh(t,e,n){return(e=tce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tce(t){var e=nce(t,"string");return typeof e=="symbol"?e:e+""}function nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Y(t,e,n){return t.set(Cs(t,e),n),n}function gy(t,e){return t.get(Cs(t,e))}function Cs(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const BR="autoRowSize",rce=40,ice="autoRowSize";var Jm=new WeakMap,UO=new WeakMap,la=new WeakSet;class Qg extends ft{static get PLUGIN_KEY(){return BR}static get PLUGIN_PRIORITY(){return rce}static get SETTING_KEYS(){return!0}static get DEFAULT_SETTINGS(){return{useHeaders:!0,samplingRatio:null,allowSampleDuplicates:!1}}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),ece(this,la),hh(this,"headerHeight",null),hh(this,"ghostTable",new Xz(this.hot)),hh(this,"samplesGenerator",new WC((n,r)=>{const i=this.hot.toPhysicalRow(n),o=this.hot.toPhysicalColumn(r);if(this.hot.rowIndexMapper.isHidden(i)||this.hot.columnIndexMapper.isHidden(o)||n>=0&&r>=0&&this.hot.getCellMeta(n,r).hidden)return!1;let s;return n>=0?s=this.hot.getDataAtCell(n,r):n===-1&&(s=this.hot.getColHeader(r)),{value:s}})),hh(this,"inProgress",!1),hh(this,"measuredRows",0),hh(this,"rowHeightsMap",new nu),HL(this,Jm,[]),HL(this,UO,!1),this.hot.rowIndexMapper.registerMap(ice,this.rowHeightsMap),this.addHook("beforeRowResize",(n,r,i)=>Cs(la,this,kL).call(this,n,r,i))}isEnabled(){const e=this.hot.getSettings()[BR];return e===!0||qe(e)}enablePlugin(){var e=this;if(this.enabled)return;this.samplesGenerator.setAllowDuplicates(this.getSetting("allowSampleDuplicates"));const n=this.getSetting("samplingRatio");n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cs(la,e,ace).call(e,...i)}),this.addHook("beforeChangeRender",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cs(la,e,lce).call(e,...i)}),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("afterFormulasValuesUpdate",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cs(la,e,cce).call(e,...i)}),this.addHook("beforeRender",()=>Cs(la,this,sce).call(this)),this.addHook("modifyRowHeight",(r,i)=>this.getRowHeight(i,r)),this.addHook("init",()=>Cs(la,this,uce).call(this)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin()}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(e,n,r)=>Cs(la,this,kL).call(this,e,n,r))}calculateVisibleRowsHeight(){if(!this.hot.countCols())return;const e=this.getFirstVisibleRow(),n=this.getLastVisibleRow();if(e===-1||n===-1)return;const r=this.hot.forceFullRender;this.calculateRowsHeight({from:e,to:n},void 0,r)}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,o=typeof n=="number"?{from:n,to:n}:n;if(this.hot.getColHeader(0)!==null){const s=this.samplesGenerator.generateRowSamples(-1,o);this.ghostTable.addColumnHeadersRow(s.get(-1))}Ce(i.from,i.to,s=>{let a=this.hot.toPhysicalRow(s);a===null&&(a=s),(r||this.rowHeightsMap.getValueAtIndex(a)===null)&&this.samplesGenerator.generateRowSamples(s,o).forEach((u,c)=>this.ghostTable.addRow(c,u))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=i.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0;const i=this.hot.countRows()-1;let o=null;this.inProgress=!0;const s=()=>{if(!this.hot){sy(o),this.inProgress=!1;return}this.calculateRowsHeight({from:r,to:Math.min(r+Qg.CALCULATION_STEP,i)},e,n),r=r+Qg.CALCULATION_STEP+1,r<i?o=oy(s):(sy(o),this.inProgress=!1,this.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateRowsHeight({from:0,to:a},e,n),r=a+1),r<i?s():(this.inProgress=!1,this.hot.view.adjustElementsSize())}recalculateAllRowsHeight(){this.hot.view.isVisible()&&this.calculateAllRowsHeight({from:0,to:this.hot.countCols()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[BR];let n=Qg.SYNC_CALCULATION_LIMIT;const r=this.hot.countRows()-1;return qe(e)&&(n=e.syncLimit,FU(n)?n=cz(r,n):n>>=0),Math.min(n,r)}getRowHeight(e,n){const r=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e));let i=n;return r!==null&&r>(n||0)&&(i=r),i}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){var e;return(e=this.hot.getFirstRenderedVisibleRow())!==null&&e!==void 0?e:-1}getLastVisibleRow(){var e;return(e=this.hot.getLastRenderedVisibleRow())!==null&&e!==void 0?e:-1}clearCache(e){this.headerHeight=null,Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.rowHeightsMap.setValueAtIndex(n,null)})},!0):this.rowHeightsMap.clear()}clearCacheByRange(e){const{from:n,to:r}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Ce(Math.min(n,r),Math.max(n,r),i=>{this.rowHeightsMap.setValueAtIndex(i,null)})},!0)}isNeedRecalculate(){return!!this.rowHeightsMap.getValues().slice(0,this.measuredRows).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function oce(t){const e={from:0,to:this.hot.countCols()-1};t.forEach(n=>{this.samplesGenerator.generateRowSamples(n,e).forEach((i,o)=>this.ghostTable.addRow(o,i))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((n,r)=>{const i=this.hot.toPhysicalRow(n);this.rowHeightsMap.setValueAtIndex(i,r)})},!0),this.ghostTable.clean())}function sce(){this.calculateVisibleRowsHeight(),this.inProgress||(Cs(la,this,oce).call(this,gy(Jm,this)),_Y(Jm,this,[]))}function kL(t,e,n){let r=t;return n&&(this.calculateRowsHeight(e,void 0,!0),r=this.getRowHeight(e)),r}function ace(t,e){e||this.recalculateAllRowsHeight()}function lce(t){const e=t.reduce((n,r)=>{let[i]=r;return n.indexOf(i)===-1&&n.push(i),n},[]);gy(Jm,this).push(...e)}function uce(){this.recalculateAllRowsHeight(),_Y(UO,this,!0)}function cce(t){if(!gy(UO,this))return;const e=t.reduce((n,r)=>{var i;const o=(i=r.address)===null||i===void 0?void 0:i.row;if(Number.isInteger(o)){const s=this.hot.toVisualRow(o);n.indexOf(s)===-1&&n.push(s)}return n},[]);gy(Jm,this).push(...e)}const{getListWithInsertedItems:hce,getListWithRemovedItems:dce}=gY("physicallyIndexed");class fce extends Gc{constructor(){super(e=>e)}insert(e,n){const r=WO(this.indexedValues,n);this.indexedValues=hce(r,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){const n=dce(this.indexedValues,e);this.indexedValues=VO(n,e),super.remove(e)}}const{getListWithInsertedItems:gce,getListWithRemovedItems:mce}=gY("physicallyIndexed");class pce extends Gc{constructor(){super(e=>e)}insert(e,n){this.indexedValues=gce(this.indexedValues,e,n,(r,i)=>this.getNextValue(i)),super.insert(e,n)}remove(e){this.indexedValues=mce(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}function vce(t,e){wce(t,e),e.add(t)}function wce(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sce(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const NL="bindRowsWithHeaders",_ce=210,Rce="loose",DL=new Map([["loose",fce],["strict",pce]]);var $L=new WeakSet;class Ece extends ft{constructor(){super(...arguments),vce(this,$L),bce(this,"headerIndexes",null)}static get PLUGIN_KEY(){return NL}static get PLUGIN_PRIORITY(){return _ce}isEnabled(){return!!this.hot.getSettings()[NL]}enablePlugin(){var e;if(this.enabled)return;const n=(e=DL.get(this.getSetting()))!==null&&e!==void 0?e:DL.get(Rce);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new n),this.addHook("modifyRowHeader",r=>Sce($L,this,xce).call(this,r)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function xce(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function Tce(t,e){RY(t,e),e.add(t)}function Mce(t,e,n){RY(t,e),e.set(t,n)}function RY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LL(t,e,n){return(e=Pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FL(t,e){return t.get(td(t,e))}function jR(t,e,n){return t.set(td(t,e),n),n}function td(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const yb="collapsibleColumns",Ice=290,Ace=["nestedHeaders"],wd="collapsibleIndicator",VL=yb,WL=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var dh=new WeakMap,Af=new WeakSet;class Hce extends ft{constructor(){super(...arguments),Tce(this,Af),LL(this,"nestedHeadersPlugin",null),LL(this,"headerStateManager",null),Mce(this,dh,null)}static get PLUGIN_KEY(){return yb}static get PLUGIN_PRIORITY(){return Ice}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[yb,...Ace]}isEnabled(){return!!this.hot.getSettings()[yb]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();n||gt("You need to configure the Nested Headers plugin in order to use collapsible headers."),jR(dh,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>td(Af,this,Dce).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return td(Af,e,$ce).call(e,...i)}),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return td(Af,e,kce).call(e,...i)}),this.addHook("beforeOnCellMouseDown",(r,i,o)=>td(Af,this,Nce).call(this,r,i,o)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(n=>({collapsible:n.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),jR(dh,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:n,col:r}=this.hot.getSelectedRangeLast().highlight,{collapsible:i,isCollapsed:o,columnIndex:s}=(e=this.headerStateManager.getHeaderTreeNodeData(n,r))!==null&&e!==void 0?e:{};if(i)return o?this.expandSection({row:n,col:s}):this.collapseSection({row:n,col:s}),!1},runOnlyIf:()=>{var e,n;return((e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.isSingle())&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight.isHeader())},group:VL,relativeToGroup:tu,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(VL)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,n=this.hot.view._wt.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,o=function(s){s&&s.parentNode.removeChild(s)};Ce(0,e-1,s=>{const a=n.childNodes[s],l=r.childNodes[s],u=i?i.childNodes[s]:null;Ce(0,a.childNodes.length-1,c=>{let h=a.childNodes[c].querySelector(`.${wd}`);o(h),l&&l.childNodes[c]&&(h=l.childNodes[c].querySelector(`.${wd}`),o(h)),i&&u&&u.childNodes[c]&&(h=u.childNodes[c].querySelector(`.${wd}`),o(h))})})}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const n=this.headerStateManager.mapNodes(r=>{const{collapsible:i,origColspan:o,headerLevel:s,columnIndex:a,isCollapsed:l}=r;if(i===!0&&o>1&&(l&&e==="expand"||!l&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(n,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,n){if(!WL.has(n))throw new Error(`Unsupported action is passed (${n}).`);if(!Array.isArray(e))return;const r=Ec(e,f=>{let{row:g}=f;return g<0});let i=r.length>0;W(r,f=>{var g;let{row:m,col:p}=f;const{collapsible:y,isCollapsed:b}=(g=this.headerStateManager.getHeaderSettings(m,p))!==null&&g!==void 0?g:{};if(!y||b&&n==="collapse"||!b&&n==="expand")return i=!1,!1});const o=[],s=[];i&&W(r,f=>{let{row:g,col:m}=f;const{colspanCompensation:p,affectedColumns:y,rollbackModification:b}=this.headerStateManager.triggerNodeModification(n,g,m);p>0&&(s.push(...y),o.push(b))});const a=this.getCollapsedColumns();let l=[];n==="collapse"?l=iee([...a,...s]):n==="expand"&&(l=Ec(a,f=>!s.includes(f)));const u=WL.get(n);if(this.hot.runHooks(u.beforeHook,a,l,i)===!1){W(o,f=>{f()});return}this.hot.batchExecution(()=>{W(s,f=>{FL(dh,this).setValueAtIndex(this.hot.toPhysicalColumn(f),u.hideColumn)})},!0);const h=this.getCollapsedColumns().length!==a.length,d=this.hot.getSelectedRangeLast();if(n==="collapse"&&h&&d){const{row:f,col:g}=d.highlight;if((this.hot.rowIndexMapper.isHidden(f)||this.hot.columnIndexMapper.isHidden(g))&&s.includes(g)){const p=f>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(f,1,!0):f,y=g>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(g,1,!0):g;p!==null&&y!==null&&this.hot.selectCell(p,y)}}this.hot.runHooks(u.afterHook,a,l,i,h),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return FL(dh,this).getHiddenIndexes()}destroy(){jR(dh,this,null),super.destroy()}}function kce(t,e,n){var r;const{collapsible:i,origColspan:o,isCollapsed:s}=(r=this.headerStateManager.getHeaderSettings(n,t))!==null&&r!==void 0?r:{},a=i&&o>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let u=e.querySelector(`.${wd}`);if(qd(e,[Zi("")[0]]),a)u||(u=this.hot.rootDocument.createElement("div"),Q(u,wd),e.querySelector("div:first-child").appendChild(u)),xe(u,["collapsed","expanded"]),s?(Q(u,"collapsed"),Tc(u,"+"),l&&Oe(e,...Zi(!1))):(Q(u,"expanded"),Tc(u,"-"),l&&Oe(e,...Zi(!0))),l&&Oe(u,...zc());else{var c;(c=u)===null||c===void 0||c.remove()}}function Nce(t,e){Me(t.target,wd)&&(Me(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):Me(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),jo(t))}function Dce(){this.updatePlugin()}function $ce(t,e){e||this.updatePlugin()}function bu(t,e,n){return(e=Lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=Fce(t,"string");return typeof e=="symbol"?e:e+""}function Fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Vce=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],Wce=!1,Bce=!0,jce=!0;class Uce{constructor(e,n){bu(this,"hot",void 0),bu(this,"sortingStates",new zC),bu(this,"sortEmptyCells",Wce),bu(this,"indicator",Bce),bu(this,"headerAction",jce),bu(this,"compareFunctionFactory",void 0),bu(this,"mapName",void 0),this.hot=e,this.mapName=n,this.hot.columnIndexMapper.registerMap(n,this.sortingStates)}updateAllColumnsProperties(e){qe(e)&&Xe(e,(n,r)=>{Vce.includes(r)&&(this[r]=n)})}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var n;return(n=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||n===void 0?void 0:n.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(n=>{let[r]=n;return r===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return qe(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(n=>{let[r,i]=n;return{column:this.hot.toVisualColumn(r),...i}})}getColumnSortState(e){const n=this.getSortOrderOfColumn(e);if(we(n))return{column:e,sortOrder:n}}setSortStates(e){this.sortingStates.clear();for(let n=0;n<e.length;n+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[n].column),{sortOrder:e[n].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}function EY(t,e,n){const r=e.locale;return function(i,o){const{sortEmptyCells:s}=n;return typeof i=="string"&&(i=i.toLocaleLowerCase(r)),typeof o=="string"&&(o=o.toLocaleLowerCase(r)),i===o?As:bn(i)?bn(o)?As:s&&t==="asc"?cn:hn:bn(o)?s&&t==="asc"?hn:cn:isNaN(i)&&!isNaN(o)?t==="asc"?hn:cn:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?t==="asc"?cn:hn:i>o?t==="asc"?hn:cn:As}}const xY="default";function zce(t,e,n){return function(r,i){const o=parseFloat(r),s=parseFloat(i),{sortEmptyCells:a}=n;if(o===s||isNaN(o)&&isNaN(s))return As;if(a){if(bn(r))return t==="asc"?cn:hn;if(bn(i))return t==="asc"?hn:cn}return isNaN(o)?hn:isNaN(s)?cn:o<s?t==="asc"?cn:hn:o>s?t==="asc"?hn:cn:As}}const Yce="numeric";function Gce(t,e,n){const r=e.checkedTemplate,i=e.uncheckedTemplate,{sortEmptyCells:o}=n;return function(s,a){const l=bn(s),u=bn(a),c=l?i:s,h=u?i:a,d=c===i||c===r,f=h===i||h===r;if(o===!1){if(l&&u===!1)return hn;if(l===!1&&u)return cn}return d===!1&&f?t==="asc"?cn:hn:d&&f===!1?t==="asc"?hn:cn:d===!1&&f===!1?EY(t,e,n)(s,a):c===i&&h===r?t==="asc"?cn:hn:c===r&&h===i?t==="asc"?hn:cn:As}}const Kce="checkbox";function qce(t,e,n){return AY(t,e.dateFormat,n)}const Xce="date";function Zce(t,e,n){return AY(t,e.timeFormat,n)}const Jce="time",{register:Yp,getItem:BL,hasItem:Qce}=Uo("sorting.compareFunctionFactory"),{register:TY,getItem:ehe}=Uo("sorting.mainSortComparator");function MY(t){return Qce(t)?BL(t):BL(xY)}Yp(Kce,Gce);Yp(Xce,qce);Yp(xY,EY);Yp(Yce,zce);Yp(Jce,Zce);const As=0,cn=-1,hn=1;function the(t,e){const n=ehe(e);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.sort(n(...i))}const my="asc",py="desc",PY="colHeader";function nhe(t){if(qe(t)===!1)return!1;const{column:e,sortOrder:n}=t;return Number.isInteger(e)&&[my,py].includes(n)}function rhe(t){if(t.some(n=>nhe(n)===!1))return!1;const e=t.map(n=>{let{column:r}=n;return r});return new Set(e).size===e.length}function jL(t){if(t!==py)return t===my?py:my}function OY(t){return t.querySelector(`.${PY}`)}function IY(t,e){if(t<0||!e.parentNode)return!1;const n=e.parentNode.parentNode.childNodes;return Array.from(n).indexOf(e.parentNode)-n.length===-1}function zO(t,e,n){return t===-1&&e>=0&&Mc(n)===!1}function AY(t,e,n){return function(r,i){const{sortEmptyCells:o}=n;if(r===i)return As;if(bn(r))return bn(i)?As:o&&t==="asc"?cn:hn;if(bn(i))return o&&t==="asc"?hn:cn;const s=ne(r,e),a=ne(i,e);return s.isValid()?a.isValid()?a.isAfter(s)?t==="asc"?cn:hn:a.isBefore(s)?t==="asc"?hn:cn:As:cn:hn}}function ihe(t,e){gt(yt`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously.\x20
    Only \`${t}\` will work. The \`${e}\` plugin will remain disabled.`)}const ohe="ascending",she="descending",HY="indicatorDisabled",kY="columnSorting",NY="sortAction",DY=new Map([[my,ohe],[py,she]]);function ahe(t,e,n,r){const i=[kY];if(r&&i.push(NY),n===!1)return i.push(HY),i;const o=t.getSortOrderOfColumn(e);return we(o)&&i.push(DY.get(o)),i}function lhe(){return Array.from(DY.values()).concat(NY,HY,kY)}function uhe(t,e){return function(n,r){const[,...i]=n,[,...o]=r;return function(a){const l=t[a],u=e[a],c=i[a],h=o[a],d=u.columnSorting;return(d.compareFunctionFactory?d.compareFunctionFactory:MY(u.type))(l,u,d)(c,h)}(0)}}function che(t,e){hhe(t,e),e.add(t)}function hhe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hv(t,e,n){return(e=dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dhe(t){var e=fhe(t,"string");return typeof e=="symbol"?e:e+""}function fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const vy="columnSorting",ghe=50,wy="append",mhe="replace",UL=vy;TY(vy,uhe);de.getSingleton().register("beforeColumnSort");de.getSingleton().register("afterColumnSort");const Hf=new WeakMap;var Qu=new WeakSet;class $Y extends ft{constructor(){super(...arguments),che(this,Qu),Hv(this,"columnStatesManager",null),Hv(this,"columnMetaCache",null),Hv(this,"pluginKey",vy),Hv(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return vy}static get PLUGIN_PRIORITY(){return ghe}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;if(Hf.has(this.hot)&&Hf.get(this.hot)!==this.pluginKey){this.hot.updateSettings({[this.pluginKey]:!1}),ihe(Hf.get(this.hot),this.pluginKey);return}this.enabled||(Hf.set(this.hot,this.pluginKey),this.columnStatesManager=new Uce(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new nu(n=>{let r=this.hot.toVisualColumn(n);return r===null&&(r=n),this.getMergedPluginSettings(r)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(n,r)=>Yh(Qu,this,phe).call(this,n,r)),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Yh(Qu,e,whe).call(e,...r)}),this.addHook("afterOnCellMouseDown",(n,r)=>this.onAfterOnCellMouseDown(n,r)),this.addHook("afterInit",()=>Yh(Qu,this,xT).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Yh(Qu,e,vhe).call(e,...r)}),this.hot.view&&Yh(Qu,this,xT).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(n,r)=>{const i=OY(r);IY(n,r)===!1||i===null||this.updateHeaderClasses(i)};Hf.delete(this.hot),this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey),this.indexesSequenceCache=null)},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(e.col)),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.row===-1&&r.col>=0},relativeToGroup:tu,position:"before",group:UL})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(UL)}sort(e){const n=this.getSortConfig(),r=this.getNormalizedSortConfigs(e),i=this.areValidSortConfigs(r);this.hot.runHooks("beforeColumnSort",n,r,i)!==!1&&(n.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new mY),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),i&&(this.columnStatesManager.setSortStates(r),this.sortByPresetSortStates(r),this.saveAllSortSettings(r)),this.hot.runHooks("afterColumnSort",n,i?r:n,i),i&&this.hot.render())}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return we(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const n=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(n)&&this.columnStatesManager.setSortStates(n)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const n=this.hot.countCols();return rhe(e)&&e.every(r=>{let{column:i}=r;return i<=n&&i>=0})}saveAllSortSettings(e){const n=this.columnStatesManager.getAllColumnsProperties(),r=i=>{let{column:o,...s}=i;return{column:this.hot.toPhysicalColumn(o),...s}};n.initialConfig=nt(e,r),this.hot.runHooks("persistentStateSave","columnSorting",n)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const n=e.value,r=i=>{let{column:o,...s}=i;return{column:this.hot.toVisualColumn(o),...s}};return we(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=nt(n.initialConfig,r)),n}getColumnNextConfig(e){const n=this.columnStatesManager.getSortOrderOfColumn(e);if(we(n)){const i=jL(n);return we(i)?{column:e,sortOrder:i}:void 0}const r=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<r)return{column:e,sortOrder:jL()}}getNextSortConfig(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wy;const r=this.columnStatesManager.getIndexOfColumnInSortQueue(e),i=r!==-1,o=this.getSortConfig(),s=this.getColumnNextConfig(e);if(i){if(en(s))return[...o.slice(0,r),...o.slice(r+1)];if(n===wy)return[...o.slice(0,r),...o.slice(r+1),s];if(n===mhe)return[...o.slice(0,r),s,...o.slice(r+1)]}return we(s)?o.concat(s):o}getPluginColumnConfig(e){if(qe(e)){const n=e[this.pluginKey];if(qe(n))return n}return{}}getMergedPluginSettings(e){const n=this.hot.getSettings()[this.pluginKey],r=this.columnStatesManager.getAllColumnsProperties(),i=this.hot.getCellMeta(0,e),o=Object.getPrototypeOf(i);return Array.isArray(o.columns)?Object.assign(r,n,this.getPluginColumnConfig(o.columns[e])):Rt(o.columns)?Object.assign(r,n,this.getPluginColumnConfig(o.columns(e))):Object.assign(r,n)}getFirstCellSettings(e){const n=this.hot.getCellMeta(0,e),r=Object.create(n);return r[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),r}getNumberOfRowsToSort(e){const n=this.hot.getSettings();return n.maxRows<=e?n.maxRows:e-n.minSpareRows}sortByPresetSortStates(e){if(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),e.length===0)return;const n=[],r=this.hot.countRows(),i=u=>nt(e,c=>this.hot.getDataAtCell(u,c.column));for(let u=0;u<this.getNumberOfRowsToSort(r);u+=1)n.push([this.hot.toPhysicalRow(u)].concat(i(u)));const o=nt(n,u=>u[0]);the(n,this.pluginKey,nt(e,u=>u.sortOrder),nt(e,u=>this.getFirstCellSettings(u.column)));for(let u=n.length;u<r;u+=1)n.push([u].concat(i(u)));const s=nt(n,u=>u[0]),a=new Map(nt(o,(u,c)=>[u,s[c]])),l=nt(this.hot.rowIndexMapper.getIndexesSequence(),u=>a.has(u)?a.get(u):u);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(e){if(qe(e)){this.columnStatesManager.updateAllColumnsProperties(e);const n=e.initialConfig;(Array.isArray(n)||qe(n))&&this.sort(n)}else this.hot.render()}updateHeaderClasses(e){if(xe(e,lhe()),this.enabled!==!1){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Q(e,ahe(...r))}}onUpdateSettings(e){super.onUpdateSettings(e),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),we(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,n){return this.getFirstCellSettings(n)[this.pluginKey].headerAction&&Me(e.target,PY)}onAfterOnCellMouseDown(e,n){if(zO(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)){this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(n.col));const r=this.hot.getActiveEditor(),i=this.getColumnNextConfig(n.col);r!=null&&r.isOpened()&&this.hot.getCellValidator(r.row,r.col)?this.hot.addHookOnce("postAfterValidate",()=>{this.sort(i)}):this.sort(i)}}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}}function xT(){const t=this.getAllSavedSortSettings();if(qe(t))this.sortBySettings(t);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function phe(t,e){const n=OY(e);if(IY(t,e)===!1||n===null)return;const r=this.getFirstCellSettings(t)[this.pluginKey],i=r.indicator,o=r.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,t,i,o),this.hot.getSettings().ariaTags){const s=this.columnStatesManager.getSortOrderOfColumn(t);Oe(e,...ete(s?`${s}ending`:"none"))}}function vhe(t){t===!0&&this.hot.view&&Yh(Qu,this,xT).call(this)}function whe(t,e,n,r){zO(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(r.column=!0)}function yu(t,e,n){return(e=bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=yhe(t,"string");return typeof e=="symbol"?e:e+""}function yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Che{constructor(e,n){yu(this,"plugin",void 0),yu(this,"hot",void 0),yu(this,"endpoints",[]),yu(this,"settings",void 0),yu(this,"settingsType","array"),yu(this,"currentEndpoint",null),yu(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=n}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const n=[];let r=e;if(!r&&typeof this.settings=="function"){this.settingsType="function";return}return r||(r=this.settings),W(r,i=>{const o={};this.assignSetting(i,o,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(i,o,"reversedRowCoords",!1),this.assignSetting(i,o,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,o,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,o,"sourceColumn",i.destinationColumn),this.assignSetting(i,o,"type","sum"),this.assignSetting(i,o,"forceNumeric",!1),this.assignSetting(i,o,"suppressDataTypeErrors",!0),this.assignSetting(i,o,"customFunction",null),this.assignSetting(i,o,"readOnly",!0),this.assignSetting(i,o,"roundFloat",!1),n.push(o)}),n}assignSetting(e,n,r,i){if(r==="ranges"&&e[r]===void 0){n[r]=i;return}else if(r==="ranges"&&e[r].length===0)return;if(e[r]===void 0){if(i instanceof Error)throw i;n[r]=i}else r==="destinationRow"&&n.reversedRowCoords?n[r]=this.hot.countRows()-e[r]-1:n[r]=e[r]}resetSetupBeforeStructureAlteration(e,n,r){if(this.settingsType!=="function")return;const i=e.indexOf("row")>-1?"row":"col",o=this.getAllEndpoints();W(o,s=>{i==="row"&&s.destinationRow>=n&&(e==="insert_row"?s.alterRowOffset=r:e==="remove_row"&&(s.alterRowOffset=-1*r)),i==="col"&&s.destinationColumn>=n&&(e==="insert_col"?s.alterColumnOffset=r:e==="remove_col"&&(s.alterColumnOffset=-1*r))}),this.resetAllEndpoints(o,!1)}resetSetupAfterStructureAlteration(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){const d=()=>(this.hot.removeHook("beforeViewRender",d),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",d);return}const a=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,u=this.getAllEndpoints(),c=e.indexOf("move_row")===0,h=n;W(u,d=>{a==="row"&&d.destinationRow>=h&&(d.alterRowOffset=l*r),a==="col"&&d.destinationColumn>=h&&(d.alterColumnOffset=l*r)}),this.resetAllEndpoints(u,!c),c?W(u,d=>{this.extendEndpointRanges(d,h,i[0],i.length),this.recreatePhysicalRanges(d),this.clearOffsetInformation(d)}):W(u,d=>{this.shiftEndpointCoordinates(d,h)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,n,r,i){W(e.ranges,o=>{o[1]&&(n>=o[0]&&n<=o[1]?r>o[1]?o[1]+=i:r<o[0]&&(o[0]-=i):r>=o[0]&&r<=o[1]&&(o[1]-=i,n<=o[0]&&(o[0]+=1,o[1]+=1)))})}recreatePhysicalRanges(e){const n=e.ranges,r=[],i=[];W(n,o=>{const s=[];if(o[1])for(let a=o[0];a<=o[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(o[0]));i.push(s)}),W(i,o=>{let s=[];W(o,(a,l)=>{l===0?s.push(a):o[l]!==o[l-1]+1&&(s.push(o[l-1]),r.push(s),s=[],s.push(a)),l===o.length-1&&(s.push(a),r.push(s))})}),e.ranges=r}shiftEndpointCoordinates(e,n){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,W(e.ranges,r=>{W(r,(i,o)=>{i>=n&&(r[o]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(i=>{const o=i.alterRowOffset||0,s=i.alterColumnOffset||0;return i.destinationRow+o>=this.hot.countRows()||i.destinationColumn+s>=this.hot.countCols()})||(this.cellsToSetCache=[],W(e,i=>{this.resetEndpointValue(i,n)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],W(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const n=[];this.cellsToSetCache=[],W(e,(r,i,o)=>{`${r[2]||""}`!=`${r[3]}`&&W(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(o[i][1])===s.sourceColumn&&n.indexOf(a)===-1&&n.push(a)})}),W(n,r=>{this.refreshEndpoint(this.getEndpoint(r))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(e=>{const n=this.hot.toVisualRow(e.destinationRow);if(n!==null){const r=this.hot.getCellMeta(n,e.destinationColumn);r.readOnly=e.readOnly,r.className="columnSummaryResult"}})}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=e.alterRowOffset||0,i=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(n?r:0)),this.hot.toVisualColumn(e.destinationColumn+(n?i:0)),""])}setEndpointValue(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}const o=this.hot.toVisualRow(e.destinationRow);if(o!==null){const s=this.hot.getCellMeta(o,e.destinationColumn);(n==="init"||s.readOnly!==e.readOnly)&&(s.readOnly=e.readOnly,s.className="columnSummaryResult")}if((e.roundFloat===!0||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){const s=e.roundFloat;let a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),e.result=e.result.toFixed(a)}r?this.hot.setDataAtCell(i,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([i,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){gt("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}function UR(t){return t==null||isNaN(t)}function She(t,e){_he(t,e),e.add(t)}function _he(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rhe(t,e,n){return(e=Ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ehe(t){var e=xhe(t,"string");return typeof e=="symbol"?e:e+""}function xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kv(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const zR="columnSummary",The=220;var kf=new WeakSet;class Mhe extends ft{constructor(){super(...arguments),She(this,kf),Rhe(this,"endpoints",null)}static get PLUGIN_KEY(){return zR}static get PLUGIN_PRIORITY(){return The}isEnabled(){return!!this.hot.getSettings()[zR]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[zR],this.endpoints=new Che(this,this.settings),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kv(kf,e,Phe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kv(kf,e,Ihe).call(e,...r)}),this.addHook("afterUpdateSettings",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kv(kf,e,Ohe).call(e,...r)}),this.addHook("beforeCreateRow",(n,r,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",n,r,null,i)),this.addHook("beforeCreateCol",(n,r,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",n,r,null,i)),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...r)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...r)}),this.addHook("afterCreateRow",(n,r,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",n,r,null,i)),this.addHook("afterCreateCol",(n,r,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",n,r,null,i)),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...r)}),this.addHook("afterRowMove",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kv(kf,e,Ahe).call(e,...r)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break}}calculateSum(e){let n=0;return Xe(e.ranges,r=>{n+=this.getPartialSum(r,e.sourceColumn)}),n}getPartialSum(e,n){let r=0,i=e[1]||e[0],o=null,s=0;do{if(o=this.getCellValue(i,n),o=UR(o)?null:o,o!==null){const a=(`${o}`.split(".")[1]||[]).length||1;a>s&&(s=a)}r+=o||0,i-=1}while(i>=e[0]);return Math.round(r*10**s)/10**s}calculateMinMax(e,n){let r=null;return Xe(e.ranges,i=>{const o=this.getPartialMinMax(i,e.sourceColumn,n);if(r===null&&o!==null&&(r=o),o!==null)switch(n){case"min":r=Math.min(r,o);break;case"max":r=Math.max(r,o);break}}),r===null?"Not enough data":r}getPartialMinMax(e,n,r){let i=null,o=e[1]||e[0],s;do{if(s=this.getCellValue(o,n),s=UR(s)?null:s,i===null)i=s;else if(s!==null)switch(r){case"min":i=Math.min(i,s);break;case"max":i=Math.max(i,s);break}o-=1}while(o>=e[0]);return i}countEmpty(e,n){let r,i=0,o=e[1]||e[0];do r=this.getCellValue(o,n),r=UR(r)?null:r,r===null&&(i+=1),o-=1;while(o>=e[0]);return i}countEntries(e){let n=0;const r=e.ranges;return Xe(r,i=>{const o=i[1]===void 0?1:i[1]-i[0]+1,s=this.countEmpty(i,e.sourceColumn);n+=o,n-=s}),n}calculateAverage(e){const n=this.calculateSum(e),r=this.countEntries(e);return n/r}getCellValue(e,n){const r=this.hot.toVisualRow(e),i=this.hot.toVisualColumn(n);let o=this.hot.getSourceDataAtCell(e,n),s="";if(r!==null&&i!==null&&(s=this.hot.getCellMeta(r,i).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof o=="string"&&(o=o.replace(/,/,".")),o=parseFloat(o)),isNaN(o)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(yt`ColumnSummary plugin: cell at (${e}, ${n}) is not in a\x20
          numeric format. Cannot do the calculation.`);return o}}function Phe(){this.endpoints.initEndpoints()}function Ohe(t){t.columns!==void 0&&this.endpoints.refreshCellMetas()}function Ihe(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function Ahe(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function Hhe(t,e){LY(t,e),e.add(t)}function YR(t,e,n){LY(t,e),e.set(t,n)}function LY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gh(t,e){return t.get(YO(t,e))}function TT(t,e,n){return t.set(YO(t,e),n),n}function YO(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var by=new WeakMap,Nv=new WeakMap,Dv=new WeakMap,zL=new WeakSet;class FY{constructor(){Hhe(this,zL),YR(this,by,!0),YR(this,Nv,null),YR(this,Dv,new ResizeObserver(e=>YO(zL,this,khe).call(this,e)))}setObservedElement(e){TT(Nv,this,e)}unobserve(){Gh(Dv,this).unobserve(Gh(Nv,this))}observe(){TT(by,this,!0),Gh(Dv,this).observe(Gh(Nv,this))}destroy(){Gh(Dv,this).disconnect()}}function khe(t){if(Gh(by,this)||!Array.isArray(t)||!t.length){TT(by,this,!1);return}t.forEach(e=>{let{borderBoxSize:n}=e;const{inlineSize:r,blockSize:i}=n[0];this.runLocalHooks("resize",r,i)})}It(FY,or);function Cu(t,e,n){Nhe(t,e),e.set(t,n)}function Nhe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tt(t,e){return t.get(VY(t,e))}function Js(t,e,n){return t.set(VY(t,e),n),n}function VY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Su=new WeakMap,GR=new WeakMap,Qs=new WeakMap,Ja=new WeakMap,Qa=new WeakMap,$v=new WeakMap,fh=new WeakMap;class uc{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,n){var r=this;Cu(this,Su,void 0),Cu(this,GR,!1),Cu(this,Qs,null),Cu(this,Ja,void 0),Cu(this,Qa,void 0),Cu(this,$v,!0),Cu(this,fh,new FY),Js(Su,this,e),Js(GR,this,n),Js(Ja,this,this.createEditor()),Js(Qa,this,Tt(Ja,this).style),Tt(fh,this).setObservedElement(this.getInputElement()),Tt(fh,this).addLocalHook("resize",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("resize",...o)}),this.hide()}setPosition(e,n){Tt(Qa,this).left=`${e}px`,Tt(Qa,this).top=`${n}px`}setSize(e,n){if(e&&n){const r=this.getInputElement();r.style.width=`${e}px`,r.style.height=`${n}px`}}getSize(){return{width:_n(this.getInputElement()),height:Hn(this.getInputElement())}}observeSize(){Tt(fh,this).observe()}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const n=this.getInputElement();n.readOnly=e}show(){Tt(Qa,this).display="block",Js($v,this,!1)}hide(){Tt(fh,this).unobserve(),Tt($v,this)||(Tt(Qa,this).display="none"),Js($v,this,!0)}isVisible(){return Tt(Qa,this).display==="block"}setValue(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=n}getValue(){return this.getInputElement().value}isFocused(){return Tt(Su,this).activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=Tt(Su,this).createElement("div"),n=Tt(Su,this).createElement("textarea");return e.style.display="none",Js(Qs,this,Tt(Su,this).createElement("div")),Tt(Qs,this).setAttribute("dir",Tt(GR,this)?"rtl":"ltr"),Q(Tt(Qs,this),uc.CLASS_EDITOR_CONTAINER),Tt(Su,this).body.appendChild(Tt(Qs,this)),Q(e,uc.CLASS_EDITOR),Q(n,uc.CLASS_INPUT),n.setAttribute("data-hot-input",!0),e.appendChild(n),Tt(Qs,this).appendChild(e),e}getInputElement(){return Tt(Ja,this).querySelector(`.${uc.CLASS_INPUT}`)}getEditorElement(){return Tt(Ja,this)}destroy(){const e=Tt(Qs,this)?Tt(Qs,this).parentNode:null;Tt(Ja,this).parentNode.removeChild(Tt(Ja,this)),Js(Ja,this,null),Js(Qa,this,null),Tt(fh,this).destroy(),e&&e.removeChild(Tt(Qs,this))}}It(uc,or);function KR(t,e,n){return(e=Dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=$he(t,"string");return typeof e=="symbol"?e:e+""}function $he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Lhe=250,Fhe=250;class WY{constructor(e){KR(this,"wasLastActionShow",!0),KR(this,"showDebounced",null),KR(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},Fhe)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lhe;this.showDebounced=kC(n=>{this.wasLastActionShow&&this.runLocalHooks("show",n.from.row,n.from.col)},e)}destroy(){this.clearLocalHooks()}}It(WY,or);function Vhe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function Whe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function _u(t,e){const n={};return W(t,r=>{r.forAll((i,o)=>{i>=0&&o>=0&&(n[i]||(n[i]=[]),n[i][o]=e(i,o))})}),n}function gl(t,e,n,r,i){W(t,o=>{o.forAll((s,a)=>{s>=0&&a>=0&&Bhe(s,a,e,n,r,i)})})}function Bhe(t,e,n,r,i,o){const s=i(t,e);let a=r;s.className&&(n==="vertical"?a=Vhe(s.className,r):a=Whe(s.className,r)),o(t,e,"className",a)}function BY(t){return`<span class="selected"></span>${t}`}function Cb(t,e){let n=!1;return Array.isArray(t)&&W(t,r=>(r.forAll((i,o)=>{if(i>=0&&o>=0&&e(i,o))return n=!0,!1}),n)),n}function YC(t,e){const n={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:r}=e.defaultView,{top:i,left:o}=r.getBoundingClientRect();n.top=i,n.left=o}return n}const Ke="---------";function jhe(){return{name:Ke}}const Fi="alignment";function Uhe(){return{key:Fi,name(){return this.getTranslatedPhrase(sP)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${Fi}:left`,name(){return this.getTranslatedPhrase(aP)},callback(){const t=this.getSelectedRange(),e=_u(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htLeft";this.runHooks("beforeCellAlignment",e,t,n,r),gl(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Fi}:center`,name(){return this.getTranslatedPhrase(lP)},callback(){const t=this.getSelectedRange(),e=_u(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htCenter";this.runHooks("beforeCellAlignment",e,t,n,r),gl(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Fi}:right`,name(){return this.getTranslatedPhrase(uP)},callback(){const t=this.getSelectedRange(),e=_u(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htRight";this.runHooks("beforeCellAlignment",e,t,n,r),gl(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Fi}:justify`,name(){return this.getTranslatedPhrase(cP)},callback(){const t=this.getSelectedRange(),e=_u(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htJustify";this.runHooks("beforeCellAlignment",e,t,n,r),gl(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{name:Ke},{key:`${Fi}:top`,name(){return this.getTranslatedPhrase(hP)},callback(){const t=this.getSelectedRange(),e=_u(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htTop";this.runHooks("beforeCellAlignment",e,t,n,r),gl(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Fi}:middle`,name(){return this.getTranslatedPhrase(dP)},callback(){const t=this.getSelectedRange(),e=_u(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htMiddle";this.runHooks("beforeCellAlignment",e,t,n,r),gl(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Fi}:bottom`,name(){return this.getTranslatedPhrase(fP)},callback(){const t=this.getSelectedRange(),e=_u(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htBottom";this.runHooks("beforeCellAlignment",e,t,n,r),gl(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1}]}}}const GC="clear_column";function zhe(){return{key:GC,name(){return this.getTranslatedPhrase(Y1)},callback(t,e){const n=e[0].start.col,r=e[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),r,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0||!this.selection.isSelectedByColumnHeader())return!0;let e=!1;return t.forAll((n,r)=>{if(n<0||r<0)return!0;const{readOnly:i}=this.getCellMeta(n,r);return i?!0:(e=!0,!1)}),!e}}}const Gp="col_left";function Yhe(){return{key:Gp,name(){return this.getTranslatedPhrase(V1)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||this.selection.isSelectedByRowHeader()||t.isSingleHeader()&&t.highlight.col<0||this.countSourceCols()>=this.getSettings().maxCols?!0:this.selection.isSelectedByCorner()?this.countCols()===0:!1},hidden(){return!this.getSettings().allowInsertColumn}}}const Kp="col_right";function Ghe(){return{key:Kp,name(){return this.getTranslatedPhrase(W1)},callback(){const t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!!(!t||this.selection.isSelectedByRowHeader()||t.isSingleHeader()&&t.highlight.col<0||this.countSourceCols()>=this.getSettings().maxCols)},hidden(){return!this.getSettings().allowInsertColumn}}}const qp="make_read_only";function Khe(){return{key:qp,checkable:!0,ariaChecked(){return Cb(this.getSelectedRange(),(e,n)=>this.getCellMeta(e,n).readOnly)},ariaLabel(){return this.getTranslatedPhrase(cy)},name(){let t=this.getTranslatedPhrase(cy);return Cb(this.getSelectedRange(),(n,r)=>this.getCellMeta(n,r).readOnly)&&(t=BY(t)),t},callback(){const t=this.getSelectedRange(),e=Cb(t,(n,r)=>this.getCellMeta(n,r).readOnly);W(t,n=>{n.forAll((r,i)=>{r>=0&&i>=0&&this.setCellMeta(r,i,"readOnly",!e)})}),this.render()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}const KC="redo";function qhe(){return{key:KC,name(){return this.getTranslatedPhrase(z1)},callback(){this.getPlugin("undoRedo").redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const qC=0,XC=1,jY=2,GO=3,Xhe=[GO,jY],Zhe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],qR=Symbol("root"),YL=Symbol("child");function Nd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qR;if(e!==qR&&e!==YL)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(t),r=e===qR;let i=qC;if(n){const o=t[0];t.length===0?i=XC:r&&o instanceof Bp?i=GO:r&&Array.isArray(o)?i=Nd(o,YL):t.length>=2&&t.length<=4&&!t.some((a,l)=>!Zhe[l].includes(typeof a))&&(i=jY)}return i}function Qm(t){let{createCellCoords:e,createCellRange:n,keepDirection:r=!1,propToCol:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Xhe.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){const s=t===GO;let a=s?o.from.row:o[0],l=s?o.from.col:o[1],u=s?o.to.row:o[2],c=s?o.to.col:o[3];if(typeof i=="function"&&(typeof l=="string"&&(l=i(l)),typeof c=="string"&&(c=i(c))),en(u)&&(u=a),en(c)&&(c=l),!r){const f=a,g=l,m=u,p=c;a=Math.min(f,m),l=Math.min(g,p),u=Math.max(f,m),c=Math.max(g,p)}const h=e(a,l),d=e(u,c);return n(h,h,d)}}function Jhe(t){const e=Nd(t.getSelected());if(e===qC||e===XC)return[];const n=Qm(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;W(t.getSelected(),s=>{const{from:a,to:l}=n(s),u=Math.max(a.col,0),c=l.col-u+1;W(Array.from(new Array(c),(h,d)=>u+d),h=>{r.has(h)||r.add(h)})});const i=Array.from(r).sort((s,a)=>s-a);return li(i,(s,a,l,u)=>(l!==0&&a===u[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Qhe(t){const e=Nd(t.getSelected());if(e===qC||e===XC)return[];const n=Qm(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;W(t.getSelected(),s=>{const{from:a,to:l}=n(s),u=Math.max(a.row,0),c=l.row-u+1;W(Array.from(new Array(c),(h,d)=>u+d),h=>{r.has(h)||r.add(h)})});const i=Array.from(r).sort((s,a)=>s-a);return li(i,(s,a,l,u)=>(l!==0&&a===u[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}const Xp="remove_col";function ede(){return{key:Xp,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(j1,e)},callback(){this.alter("remove_col",Jhe(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}const ZC="remove_row";function tde(){return{key:ZC,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(B1,e)},callback(){this.alter("remove_row",Qhe(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}const JC="row_above";function nde(){return{key:JC,name(){return this.getTranslatedPhrase(L1)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeLast();return!t||this.selection.isSelectedByColumnHeader()||t.isSingleHeader()&&t.highlight.row<0||this.countSourceRows()>=this.getSettings().maxRows?!0:this.selection.isSelectedByCorner()?this.countRows()===0:!1},hidden(){return!this.getSettings().allowInsertRow}}}const QC="row_below";function rde(){return{key:QC,name(){return this.getTranslatedPhrase(F1)},callback(){const t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeLast();return!!(!t||this.selection.isSelectedByColumnHeader()||t.isSingleHeader()&&t.highlight.row<0||this.countSourceRows()>=this.getSettings().maxRows)},hidden(){return!this.getSettings().allowInsertRow}}}const ep="no_items";function ide(){return{key:ep,name(){return this.getTranslatedPhrase($1)},disabled:!0,isCommand:!1}}const eS="undo";function ode(){return{key:eS,name(){return this.getTranslatedPhrase(U1)},callback(){this.getPlugin("undoRedo").undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const sde=[JC,QC,Gp,Kp,GC,ZC,Xp,eS,KC,qp,Fi,Ke,ep],ade={[Ke]:jhe,[ep]:ide,[JC]:nde,[QC]:rde,[Gp]:Yhe,[Kp]:Ghe,[GC]:zhe,[ZC]:tde,[Xp]:ede,[eS]:ode,[KC]:qhe,[qp]:Khe,[Fi]:Uhe};function UY(){const t={};return Xe(ade,(e,n)=>{t[n]=e()}),t}function lde(t){return{key:"commentsAddEdit",name(){var e;const n=(e=this.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n!=null&&n.isCell()&&t.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(rP):this.getTranslatedPhrase(nP)},callback(){const e=this.getSelectedRangeLast();t.setRange(e),t.show(),t.focusEditor()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function ude(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(iP)},callback(){this.getSelectedRangeLast().forAll((n,r)=>{n>=0&&r>=0&&t.removeCommentAtCell(n,r,!1)}),this.render()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function cde(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(oP);return Cb(this.getSelectedRange(),(r,i)=>t.getCommentMeta(r,i,Sb))?BY(e):e},callback(){this.getSelectedRangeLast().forAll((n,r)=>{if(n>=0&&r>=0){const i=!!t.getCommentMeta(n,r,Sb);t.updateCommentMeta(n,r,{[Sb]:!i})}})},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function hde(t,e){zY(t,e),e.add(t)}function gh(t,e,n){zY(t,e),e.set(t,n)}function zY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dde(t,e,n){return(e=fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fde(t){var e=gde(t,"string");return typeof e=="symbol"?e:e+""}function gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kl(t,e,n){return t.set(Xr(t,e),n),n}function We(t,e){return t.get(Xr(t,e))}function Xr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const yy="comments",mde=60,pa="comment",xg="value",YY="style",Sb="readOnly",Nf=yy,MT=`plugin:${yy}`;var St=new WeakMap,vs=new WeakMap,tS=new WeakMap,_b=new WeakMap,PT=new WeakMap,Cy=new WeakMap,ui=new WeakSet;class pde extends ft{constructor(){super(...arguments),hde(this,ui),dde(this,"range",{}),gh(this,St,null),gh(this,vs,null),gh(this,tS,!1),gh(this,_b,!1),gh(this,PT,null),gh(this,Cy,"")}static get PLUGIN_KEY(){return yy}static get PLUGIN_PRIORITY(){return mde}static get DEFAULT_SETTINGS(){return{displayDelay:250}}isEnabled(){return!!this.hot.getSettings()[yy]}enablePlugin(){var e=this;this.enabled||(We(St,this)||(kl(St,this,new uc(this.hot.rootDocument,this.hot.isRtl())),We(St,this).addLocalHook("resize",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Xr(ui,e,Rde).call(e,...r)})),We(vs,this)||kl(vs,this,new WY(this.getSetting("displayDelay"))),this.addHook("afterContextMenuDefaultOptions",n=>this.addToContextMenu(n)),this.addHook("afterRenderer",(n,r,i,o,s,a)=>Xr(ui,this,Cde).call(this,n,a)),this.addHook("afterScroll",()=>Xr(ui,this,Ede).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",n=>Xr(ui,this,GL).call(this,n)),this.addHook("beforeCompositionStart",n=>Xr(ui,this,GL).call(this,n)),this.addHook("afterSetTheme",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Xr(ui,e,xde).call(e,...r)}),We(vs,this).addLocalHook("hide",()=>this.hide()),We(vs,this).addLocalHook("show",(n,r)=>this.showAtCell(n,r)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){We(vs,this).updateDelay(this.getSetting("displayDelay")),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("grid"),r=e.addContext(MT);n.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const i=this.hot.getSelectedRangeLast();kl(_b,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(i),this.show(),this.focusEditor(),e.setActiveContextName(MT),this.hot._registerTimeout(()=>{kl(_b,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var i;return(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight.isCell()},group:Nf}),r.addShortcut({keys:[["Escape"]],callback:()=>{We(St,this).setValue(We(Cy,this)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>We(St,this).isVisible()&&We(St,this).isFocused(),group:Nf}),r.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>We(St,this).isVisible()&&We(St,this).isFocused(),group:Nf}),r.addShortcut({keys:[["Shift","Tab"],["Tab"]],forwardToContext:e.getContext("grid"),callback:()=>{We(St,this).setValue(We(St,this).getValue()),this.hide(),e.setActiveContextName("grid")},group:Nf})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Nf)}registerListeners(){const{rootDocument:e}=this.hot,n=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",r=>Xr(ui,this,bde).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>Xr(ui,this,vde).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>Xr(ui,this,yde).call(this)),this.eventManager.addEventListener(n,"focus",()=>Xr(ui,this,_de).call(this)),this.eventManager.addEventListener(n,"blur",()=>Xr(ui,this,Sde).call(this)),this.eventManager.addEventListener(this.getEditorInputElement(),"mousedown",r=>Xr(ui,this,wde).call(this,r))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const n=xc(e.target,"TD","TBODY");return!!(n&&Me(n,"htCommentCell")&&xc(n,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const n=We(St,this).getValue();let r="";e!=null?r=e:n!=null&&(r=n);const i=this.range.from.row,o=this.range.from.col;this.updateCommentMeta(i,o,{[xg]:r}),this.hot.render()}setCommentAtCell(e,n,r){this.setRange({from:this.hot._createCellCoords(e,n)}),this.setComment(r)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,pa),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,n)}),this.removeComment(r)}getComment(){const e=this.range.from.row,n=this.range.from.col;return this.getCommentMeta(e,n,xg)}getCommentAtCell(e,n){return this.getCommentMeta(e,n,xg)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:n,col:r}}=this.range;if(n<0||n>this.hot.countSourceRows()-1||r<0||r>this.hot.countSourceCols()-1)return!1;const i=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return We(vs,this).cancelHiding(),We(St,this).setValue((e=i[pa]?i[pa][xg]:null)!==null&&e!==void 0?e:""),We(St,this).show(),this.refreshEditor(!0),!0}showAtCell(e,n){return this.setRange({from:this.hot._createCellCoords(e,n)}),this.show()}hide(){We(St,this).hide()}refreshEditor(){if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!We(St,this).isVisible()))return;const{rowIndexMapper:n,columnIndexMapper:r}=this.hot,{row:i,col:o}=this.range.from;let s=n.getRenderableFromVisualIndex(i),a=r.getRenderableFromVisualIndex(o);const l=s===null;We(St,this).setPosition(0,0),s===null&&(s=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(i,-1))),a===null&&(a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(o,-1)));const u=s===null,c=a===null;s=s??0,a=a??0;const{rootWindow:h,view:{_wt:d}}=this.hot,{wtTable:f}=d,g=d.getCell({row:s,col:a},!0),m=this.getCommentMeta(i,o,YY);m?We(St,this).setSize(m.width,m.height):We(St,this).resetSize();const p=c?0:f.getColumnWidth(a),y=l&&!u?Hn(g):0,{left:b,top:T,width:E,height:P}=g.getBoundingClientRect(),{width:I,height:H}=We(St,this).getSize(),{innerWidth:U,innerHeight:K}=this.hot.rootWindow,j=this.hot.rootDocument.documentElement,q=Xn(this.hot.rootDocument),Z=ez(this.hot.rootWindow)?q:0,ie=tz(this.hot.rootWindow)?q:0;let ee=b+h.scrollX+p,re=T+h.scrollY+y;this.hot.isRtl()&&(ee-=I+p),this.hot.isLtr()&&b+E+I>U-Z?ee=b+h.scrollX-I-1:this.hot.isRtl()&&ee<-(j.scrollWidth-j.clientWidth)&&(ee=b+h.scrollX+p+1),T+H>K-ie&&(re-=H-P+1),We(St,this).setPosition(ee,re),We(St,this).setReadOnlyState(this.getCommentMeta(i,o,Sb)),We(St,this).observeSize()}focusEditor(){We(St,this).focus()}updateCommentMeta(e,n,r){const i=this.hot.getCellMeta(e,n)[pa];let o;i?(o=Dr(i),OC(o,r)):o=r,this.hot.setCellMeta(e,n,pa,o)}getCommentMeta(e,n,r){const i=this.hot.getCellMeta(e,n);if(i[pa])return i[pa][r]}addToContextMenu(e){e.items.push({name:Ke},lde(this),ude(this),cde(this))}getEditorInputElement(){return We(St,this).getInputElement()}destroy(){var e,n;(e=We(St,this))===null||e===void 0||e.destroy(),(n=We(vs,this))===null||n===void 0||n.destroy(),super.destroy()}}function vde(t){if(!(!this.hot.view||!this.hot.view._wt)&&!We(tS,this)&&!this.targetIsCommentTextArea(t)){const e=xc(t.target,"TD","TBODY");let n=null;e&&(n=this.hot.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function wde(t){t.stopPropagation()}function bde(t){const{rootDocument:e}=this.hot;if(!(We(tS,this)||We(St,this).isFocused()||Me(t.target,"wtBorder")||We(PT,this)===t.target||!We(St,this)))if(kl(PT,this,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const n=this.hot._createCellRange(this.hot.getCoords(t.target));We(vs,this).show(n)}else wc(t.target,e)&&!this.targetIsCommentTextArea(t)&&We(vs,this).hide()}function yde(){kl(tS,this,!1)}function Cde(t,e){e[pa]&&e[pa][xg]&&Q(t,e.commentedCellClassName)}function Sde(){kl(Cy,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function _de(){kl(Cy,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(MT)}function Rde(t,e){this.updateCommentMeta(this.range.from.row,this.range.from.col,{[YY]:{width:t,height:e}})}function GL(t){We(St,this).isFocused()&&jo(t)}function Ede(){We(_b,this)||this.hide()}function xde(){const t=We(St,this).getEditorElement();xe(t,/ht-theme-.*/g),Q(t,this.hot.getCurrentThemeName())}function XR(t,e,n){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=Mde(t,"string");return typeof e=="symbol"?e:e+""}function Mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class GY{constructor(e){XR(this,"hot",void 0),XR(this,"commands",{}),XR(this,"commonCallback",null),this.hot=e}registerCommand(e,n){this.commands[e]=n}setCommonCallback(e){this.commonCallback=e}execute(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.split(":"),s=o[0],a=o.length===2?o[1]:null;let l=this.commands[s];if(!l)throw new Error(`Menu command '${s}' not exists.`);if(a&&l.submenu&&(l=Pde(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||An(l,"submenu"))return;const u=[];typeof l.callback=="function"&&u.push(l.callback),typeof this.commonCallback=="function"&&u.push(this.commonCallback),r.unshift(o.join(":")),W(u,c=>c.apply(this.hot,r))}}function Pde(t,e){let n;return W(e,r=>{const i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===t)return n=r,!1}),n}function ZR(t,e,n){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Ide(t,"string");return typeof e=="symbol"?e:e+""}function Ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KY{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ZR(this,"hot",void 0),ZR(this,"predefinedItems",UY()),ZR(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=n}setPredefinedItems(e){const n={};this.defaultOrderPattern.length=0,Xe(e,(r,i)=>{let o="";r.name===Ke?(n[Ke]=r,o=Ke):isNaN(parseInt(i,10))?(r.key=r.key===void 0?i:r.key,n[i]=r,o=r.key):(n[r.key]=r,o=r.key),this.defaultOrderPattern.push(o)}),this.predefinedItems=n}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ade(e,this.defaultOrderPattern,this.predefinedItems)}}function Ade(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=[];let i=t;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),qe(i)?Xe(i,(o,s)=>{let a=n[typeof o=="string"?o:s];a||(a=o),qe(o)?kn(a,o):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),r.push(a)}):W(i,(o,s)=>{let a=n[o];!a&&sde.indexOf(o)>=0||(a||(a={name:o,key:`${s}`}),qe(o)&&kn(a,o),a.key===void 0&&(a.key=s),r.push(a))}),r}function el(t,e,n){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=kde(t,"string");return typeof e=="symbol"?e:e+""}function kde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nde{constructor(e,n){el(this,"top",void 0),el(this,"topRelative",void 0),el(this,"left",void 0),el(this,"leftRelative",void 0),el(this,"scrollTop",void 0),el(this,"scrollLeft",void 0),el(this,"cellHeight",void 0),el(this,"cellWidth",void 0);const r=n.scrollY,i=n.scrollX;let o,s,a,l,u,c;this.rootWindow=n,this.type=this.getSourceType(e),this.type==="literal"?(o=parseInt(e.top,10),a=parseInt(e.left,10),u=e.height||0,c=e.width||0,s=o,l=a,o+=r,a+=i):this.type==="event"&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),u=e.target.clientHeight,c=e.target.clientWidth,s=o-r,l=a-i),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=l,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=u,this.cellWidth=c}getSourceType(e){let n="literal";return e instanceof Event&&(n="event"),n}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=n}fitsOnRight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=n}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function Df(t,e,n){Dde(t,e),e.set(t,n)}function Dde(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Le(t,e){return t.get(qY(t,e))}function Lv(t,e,n){return t.set(qY(t,e),n),n}function qY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var xr=new WeakMap,jr=new WeakMap,Ur=new WeakMap,JR=new WeakMap,mh=new WeakMap;class $de{constructor(e){Df(this,xr,void 0),Df(this,jr,void 0),Df(this,Ur,void 0),Df(this,JR,!1),Df(this,mh,{above:0,below:0,left:0,right:0}),Lv(JR,this,e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Le(mh,this)[e]=n,this}setElement(e){return Lv(xr,this,e),this}setParentElement(e){return Lv(jr,this,e),this}updatePosition(e){Lv(Ur,this,new Nde(e,Le(xr,this).ownerDocument.defaultView)),Le(JR,this)?(Le(Ur,this).fitsBelow(Le(xr,this))?this.setPositionBelowCursor():Le(Ur,this).fitsAbove(Le(xr,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){Le(xr,this).dir==="rtl"?Le(Ur,this).fitsOnLeft(Le(xr,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():Le(Ur,this).fitsOnRight(Le(xr,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=Le(mh,this).above+Le(Ur,this).top-Le(xr,this).offsetHeight;if(Le(jr,this)){const r=Le(jr,this).ownerDocument.defaultView.getComputedStyle(Le(jr,this).querySelector(".ht_master")),i=Number.parseInt(r.paddingTop,10),o=Number.parseInt(r.borderTop,10);e=Le(Ur,this).top+Le(Ur,this).cellHeight-Le(xr,this).scrollHeight+i+o}Le(xr,this).style.top=`${e}px`}setPositionBelowCursor(){let e=Le(mh,this).below+Le(Ur,this).top+1;if(Le(jr,this)){const r=Le(jr,this).ownerDocument.defaultView.getComputedStyle(Le(jr,this).querySelector(".ht_master")),i=Number.parseInt(r.paddingTop,10),o=Number.parseInt(r.borderTop,10);e=Le(Ur,this).top-i-o-1}Le(xr,this).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=Le(Ur,this).left;if(Le(jr,this)){const n=Le(jr,this).ownerDocument.defaultView,r=Number.parseInt(n.getComputedStyle(Le(jr,this).querySelector(".htCore")).borderRightWidth,10);e+=Le(Ur,this).cellWidth+r}else e+=Le(mh,this).right;Le(xr,this).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=Le(mh,this).left+Le(Ur,this).left-Le(xr,this).offsetWidth;if(Le(jr,this)){const n=Le(jr,this).ownerDocument.defaultView,r=Number.parseInt(n.getComputedStyle(Le(jr,this).querySelector(".htCore")).borderLeftWidth,10);e-=r}Le(xr,this).style.left=`${e}px`}}function XY(t){let{initialPage:e=-1,size:n=()=>0,onItemSelect:r=()=>{},onClear:i=()=>{}}=t;const o=new Set;let s=it(e,-1,g()-1);function a(p,y){const b=g()-1;return p<0&&(p=b),p>b&&(p=0),o.has(p)?-1:(o.add(p),r(p,!1)===!1&&(p=a(y===1?++p:--p,y)),p)}function l(p){p>-1&&p<g()&&r(p,!0)!==!1&&(s=p)}function u(){return s}function c(){g()>0&&(o.clear(),s=a(0,1))}function h(){g()>0&&(o.clear(),s=a(g()-1,-1))}function d(){g()>0&&(o.clear(),s=a(++s,1))}function f(){g()>0&&(o.clear(),s=a(--s,-1))}function g(){return Math.max(n(),0)}function m(){o.clear(),s=e,i()}return{setCurrentPage:l,getCurrentPage:u,toFirstItem:c,toLastItem:h,toNextItem:d,toPreviousItem:f,getSize:g,clear:m}}function Lde(t){return nt(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function OT(t){return An(t,"submenu")}function IT(t){return new RegExp(Ke,"i").test(t.name)}function Rb(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function KL(t){return An(t,"disableSelection")}function Fde(t){return Me(t,"htSeparator")}function Vde(t){return Me(t,"htSubmenu")}function Wde(t){return Me(t,"htDisabled")}function Bde(t){return Me(t,"htSelectionDisabled")}function jde(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function ZY(t,e){const n=t.slice(0);for(let r=0;r<n.length&&n[r].name===e;)n.shift();return n}function Ude(t,e){let n=t.slice(0);return n.reverse(),n=ZY(n,e),n.reverse(),n}function zde(t){const e=[];return W(t,(n,r)=>{r>0?e[e.length-1].name!==n.name&&e.push(n):e.push(n)}),e}function Yde(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ke,n=t.slice(0);return n=ZY(n,e),n=Ude(n,e),n=zde(n),n}function Gde(t){return t.checkable===!0}function Kde(t){return XY({size:()=>t.countRows(),onItemSelect(e,n){const r=t.getCell(e,0);if(!r||Fde(r)||Wde(r)||Bde(r))return!1;t.selectCell(e,0,...n?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function qde(t){const{hot:e,hotMenu:n}=t;return[{keys:[["Control/Meta","A"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(r,i)=>{const o=e.getSettings(),s=typeof o.tabMoves=="function"?o.tabMoves(r):o.tabMoves;i.includes("shift")?e.selection.transformStart(-s.row,-s.col):e.selection.transformStart(s.row,s.col),t.close(!0)}},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[[e.isRtl()?"ArrowLeft":"ArrowRight"]],callback:()=>{const r=n.getSelectedLast();if(r){const i=t.openSubMenu(r[0]);i&&i.getNavigator().toFirstItem()}}},{keys:[[e.isRtl()?"ArrowRight":"ArrowLeft"]],callback:()=>{n.getSelectedLast()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:r=>{const i=n.getSelectedLast();i&&(n.getSourceDataAtRow(i[0]).submenu?t.openSubMenu(i[0]).getNavigator().toFirstItem():(t.executeCommand(r),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(-n.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(n.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const JY="menu",qL=JY;function Xde(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=[];r(qde(t)),e.forEach(u=>{let{shortcuts:c,contextName:h}=u;i(c,h)});function r(u,c){a(c).addShortcuts(u,{group:JY})}function i(u,c){const h=a(c);u.forEach(d=>{let{keys:f}=d;f.forEach(g=>h.removeShortcutsByKeys(g))}),n.push({shortcuts:u,contextName:c}),r(u,c)}function o(){return[...n]}function s(u){return u?`${qL}:${u}`:qL}function a(u){var c;const h=t.hotMenu.getShortcutManager(),d=s(u);return(c=h.getContext(d))!==null&&c!==void 0?c:h.addContext(d)}function l(u){t.hotMenu.getShortcutManager().setActiveContextName(s(u))}return{addCustomShortcuts:i,getCustomShortcuts:o,getContext:a,listen:l}}function Zde(t){return(e,n,r,i,o,s)=>{const a=e.getSourceDataAtRow(r),l=t.rootDocument.createElement("div"),u=typeof s=="function"?s.call(t):s,c=typeof a.ariaLabel=="function"?a.ariaLabel.call(t):a.ariaLabel,h=typeof a.ariaChecked=="function"?a.ariaChecked.call(t):a.ariaChecked;if(Va(n),Q(l,"htItemWrapper"),t.getSettings().ariaTags){const d=!Rb(a,t)&&!KL(a)&&!IT(a);Oe(n,[...Gde(a)?[zee(),Km(c),YU(h)]:[Uee(),Km(u)],...d?[Uc(-1)]:[],...Rb(a,t)?[Jee()]:[],...OT(a)?[Zi(!1)]:[]])}n.className="",n.appendChild(l),IT(a)?Q(n,"htSeparator"):typeof a.renderer=="function"?(Q(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(e,l,r,i,o,u))):Xd(l,u),Rb(a,t)?Q(n,"htDisabled"):KL(a)?Q(n,"htSelectionDisabled"):OT(a)&&Q(n,"htSubmenu")}}function QR(t,e,n){Jde(t,e),e.set(t,n)}function Jde(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qo(t,e,n){return(e=Qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qde(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eE(t,e,n){return t.set(QY(t,e),n),n}function Ru(t,e){return t.get(QY(t,e))}function QY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const XL=215;var $f=new WeakMap,Fv=new WeakMap,Vv=new WeakMap;class ef{get tableBorderWidth(){return Ru(Vv,this)===void 0&&this.hotMenu&&eE(Vv,this,parseInt(this.hotMenu.rootWindow.getComputedStyle(this.hotMenu.view._wt.wtTable.TABLE).borderWidth,10)),Ru(Vv,this)}constructor(e,n){var r=this;Qo(this,"hot",void 0),Qo(this,"options",void 0),Qo(this,"eventManager",new Vo(this)),Qo(this,"container",void 0),Qo(this,"positioner",void 0),Qo(this,"hotMenu",null),Qo(this,"hotSubMenus",{}),Qo(this,"parentMenu",void 0),Qo(this,"menuItems",null),Qo(this,"origOutsideClickDeselects",null),QR(this,$f,void 0),QR(this,Fv,void 0),QR(this,Vv,void 0),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:XL,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new $de(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.parentMenu.runLocalHooks("afterSelectionChange",...o)}),this.hot.addHook("afterSetTheme",(i,o)=>{if(!o){var s;(s=this.hotMenu)===null||s===void 0||s.useTheme(i)}})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"touchstart",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"contextmenu",n=>this.onDocumentContextMenu(n)),e=Pd(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return Ru($f,this)}getKeyboardShortcutsCtrl(){return Ru(Fv,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=kC(a=>this.openSubMenu(a),300),n=this.options.minWidth||XL;let r=!1,i=Ec(this.menuItems,a=>(a.key===ep&&(r=!0),jde(a,this.hot)));if(i.length<1&&!r)i.push(UY()[ep]);else if(i.length===0)return;i=Yde(i,Ke);let o=!1;const s={data:i,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return we(a)&&a<n?n:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:Zde(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,themeName:this.hot.getCurrentThemeName(),beforeRefreshDimensions:()=>!1,beforeOnCellMouseOver:(a,l)=>{Ru($f,this).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?e(l.row):this.openSubMenu(l.row)},afterOnCellContextMenu:a=>{a.preventDefault(),qD()&&o&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,u,c,h)=>{this.hotMenu.view.isMouseDown()&&(h.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(o=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!qD()||!Mc(a))&&o&&this.hasSelectedItem()&&(Ma()||uz()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),eE($f,this,Kde(this.hotMenu)),eE(Fv,this,Xde(this)),Ru(Fv,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(Ru($f,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const n=this.parentMenu.hotMenu.getSelectedLast();if(n){const r=this.parentMenu.hotMenu.getCell(n[0],0);Oe(r,[Zi(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;const n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!Vde(n))return!1;const r=this.hotMenu.getSourceDataAtRow(e),i=new ef(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return i.setMenuItems(r.submenu.items),i.open(),i.setPosition(n.getBoundingClientRect()),this.hotSubMenus[r.key]=i,this.hot.getSettings().ariaTags&&Oe(n,[Zi(!0)]),i}closeSubMenu(e){const n=this.hotMenu.getSourceDataAtRow(e),r=this.hotSubMenus[n.key];if(r){r.destroy(),delete this.hotSubMenus[n.key];const i=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&Oe(i,[Zi(!1)])}}closeAllSubMenus(){W(this.hotMenu.getData(),(e,n)=>this.closeSubMenu(n))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const n=this.getSelectedItem();if(this.runLocalHooks("select",n,e),this.isCommandPassive(n))return;const r=this.hot.getSelectedRange(),i=r?Lde(r):[];this.runLocalHooks("executeCommand",n.key,i,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",n.key,i,e)}isCommandPassive(e){return e.isCommand===!1||IT(e)||Rb(e,this.hot)||OT(e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,n)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}updateMenuDimensions(){const e=this.hotMenu.view.getStylesHandler(),{wtTable:n}=this.hotMenu.view._wt,r=this.hotMenu.getSettings().data,i=n.hider.style,o=n.holder.style,s=parseInt(i.width,10),a=li(r,(l,u,c)=>{const d=this.hotMenu.getCell(c,0)?Hn(this.hotMenu.getCell(c,0)):0;return l+(u.name===Ke?1:d)},0);e.isClassicTheme()?(o.width=`${s+3}px`,o.height=`${a+3}px`):(o.width=`${s}px`,o.height=`${a}px`),i.height=o.height}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.options.container.ownerDocument;let r=e,i;return r&&(Rt(r)&&(r=r.call(this.hot),r===null||en(r)?r="":r=r.toString()),r=r.replace(/[^A-Za-z0-9]/g,"_"),r=`${this.options.className}Sub_${r}`,i=n.querySelector(`.${this.options.className}.${r}`)),i||(i=n.createElement("div"),Q(i,`htMenu handsontable ${this.options.className}`),r&&Q(i,r),this.options.container.appendChild(i)),i}onAfterInit(){this.updateMenuDimensions(),this.hot.getSettings().ariaTags&&Oe(this.hotMenu.rootElement,[jee(),Uc(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!wc(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!wc(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&Me(e.target,"htCore")&&wc(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}It(ef,or);function tfe(t,e){nfe(t,e),e.add(t)}function nfe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tE(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return typeof e=="symbol"?e:e+""}function ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Tg="contextMenu",ofe=70,ZL=Tg;de.getSingleton().register("afterContextMenuDefaultOptions");de.getSingleton().register("beforeContextMenuShow");de.getSingleton().register("afterContextMenuShow");de.getSingleton().register("afterContextMenuHide");de.getSingleton().register("afterContextMenuExecute");var Lf=new WeakSet;class nS extends ft{constructor(){super(...arguments),tfe(this,Lf),tE(this,"commandExecutor",new GY(this.hot)),tE(this,"itemsFactory",null),tE(this,"menu",null)}static get PLUGIN_KEY(){return Tg}static get PLUGIN_PRIORITY(){return ofe}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[JC,QC,Ke,Gp,Kp,Ke,ZC,Xp,Ke,eS,KC,Ke,qp,Ke,Fi]}isEnabled(){return!!this.hot.getSettings()[Tg]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[Tg];typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.menu=new ef(this.hot,{className:"htContextMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>Wv(Lf,this,afe).call(this)),this.menu.addLocalHook("afterOpen",()=>Wv(Lf,this,lfe).call(this)),this.menu.addLocalHook("afterClose",()=>Wv(Lf,this,ufe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.executeCommand.call(e,...i)}),this.addHook("afterOnCellContextMenu",r=>Wv(Lf,this,sfe).call(this,r)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const n=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),r=YC(this.menu.container,this.hot.rootDocument);this.open({left:n.left+r.left,top:n.top+r.top-1+n.height},{left:n.width,above:-n.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&!this.menu.isOpened()},group:ZL})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(ZL)}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};if((n=this.menu)!==null&&n!==void 0&&n.isOpened())return;this.prepareMenuItems(),this.menu.open();const i=this.menu.tableBorderWidth>0;Xe(r,(o,s)=>{const a=["below","right"].includes(s)?o+1:o-1;this.menu.setOffset(s,i?o:a)}),this.menu.setPosition(e)}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.commandExecutor.execute(e,...r)}prepareMenuItems(){this.itemsFactory=new KY(this.hot,nS.DEFAULT_ITEMS);const e=this.hot.getSettings()[Tg],n={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const r=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",r),this.menu.setMenuItems(r),W(r,i=>this.commandExecutor.registerCommand(i.key,i))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function sfe(t){const e=this.hot.getSettings(),n=e.rowHeaders,r=e.colHeaders;function i(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}const o=t.target;if(this.close(),Me(o,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(n||r)&&!i(o)&&!(Me(o,"current")&&Me(o,"wtBorder"))))return;const s=YC(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+s.top,left:t.clientX+s.left})}function afe(){this.hot.runHooks("beforeContextMenuShow",this)}function lfe(){this.hot.runHooks("afterContextMenuShow",this)}function ufe(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}nS.SEPARATOR={name:Ke};const JL=/^(\r\n|\n\r|\r|\n)/,cfe=/^[^\t\r\n]+/,QL=/^\t/;function hfe(t){const e=[[""]];if(t.length===0)return e;let n=0,r=0,i;for(;t.length>0&&i!==t.length;)if(i=t.length,t.match(QL))t=t.replace(QL,""),n+=1,e[r][n]="";else if(t.match(JL))t=t.replace(JL,""),n=0,r+=1,e[r]=[""];else{let o="";if(t.startsWith('"')){let s=0,a=!0;for(;a;){const l=t.slice(0,1);l==='"'&&(s+=1),o+=l,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{const s=t.match(cfe);o=s?s[0]:"",t=t.slice(o.length)}e[r][n]=o}return e}function em(t){let e,n,r,i,o="",s;for(e=0,n=t.length;e<n;e+=1){for(i=t[e].length,r=0;r<i;r+=1)r>0&&(o+="	"),s=t[e][r],typeof s=="string"?s.indexOf(`
`)>-1?o+=`"${s.replace(/"/g,'""')}"`:o+=s:s==null?o+="":o+=s;e!==n-1&&(o+=`
`)}return o}function dfe(t){return{key:"copy",name(){return this.getTranslatedPhrase(G1)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function ffe(t){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeLast(),n=e?it(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(X1,n)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function gfe(t){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeLast(),n=e?it(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(q1,n)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function mfe(t){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeLast(),n=e?it(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(K1,n)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function pfe(t){return{key:"cut",name(){return this.getTranslatedPhrase(Z1)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}class vfe{constructor(){this.data={}}setData(e,n){this.data[e]=n}getData(e){return this.data[e]||void 0}}class wfe{constructor(){this.clipboardData=new vfe}preventDefault(){}composedPath(){return[]}}function bfe(t,e){eG(t,e),e.add(t)}function ph(t,e,n){eG(t,e),e.set(t,n)}function eG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Or(t,e){return t.get(nd(t,e))}function vh(t,e,n){return t.set(nd(t,e),n),n}function nd(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var tl=new WeakMap,nE=new WeakMap,Ff=new WeakMap,AT=new WeakMap,HT=new WeakMap,Vf=new WeakMap,Wf=new WeakSet;class yfe{constructor(e){let{countRows:n,countColumns:r,rowsLimit:i,columnsLimit:o,countColumnHeaders:s}=e;bfe(this,Wf),ph(this,tl,void 0),ph(this,nE,void 0),ph(this,Ff,void 0),ph(this,AT,void 0),ph(this,HT,void 0),ph(this,Vf,void 0),vh(nE,this,n),vh(Ff,this,r),vh(AT,this,i),vh(HT,this,o),vh(Vf,this,s)}setSelectedRange(e){vh(tl,this,e)}getCellsRange(){if(Or(nE,this).call(this)===0||Or(Ff,this).call(this)===0)return null;const{row:e,col:n}=Or(tl,this).getTopStartCorner(),{row:r,col:i}=Or(tl,this).getBottomEndCorner(),o=nd(Wf,this,Cfe).call(this,e,r),s=nd(Wf,this,rE).call(this,n,i);return{isRangeTrimmed:r!==o||i!==s,startRow:e,startCol:n,endRow:o,endCol:s}}getMostBottomColumnHeadersRange(){if(Or(Ff,this).call(this)===0||Or(Vf,this).call(this)===0)return null;const{col:e}=Or(tl,this).getTopStartCorner(),{col:n}=Or(tl,this).getBottomEndCorner(),r=nd(Wf,this,rE).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-1,startCol:e,endRow:-1,endCol:r}}getAllColumnHeadersRange(){if(Or(Ff,this).call(this)===0||Or(Vf,this).call(this)===0)return null;const{col:e}=Or(tl,this).getTopStartCorner(),{col:n}=Or(tl,this).getBottomEndCorner(),r=nd(Wf,this,rE).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-Or(Vf,this).call(this),startCol:e,endRow:-1,endCol:r}}}function rE(t,e){return Math.min(e,Math.max(t+Or(HT,this).call(this)-1,t))}function Cfe(t,e){return Math.min(e,Math.max(t+Or(AT,this).call(this)-1,t))}function tG(t){const e=[],n=[];return W(t,r=>{const i=Math.min(r.startRow,r.endRow),o=Math.max(r.startRow,r.endRow);Ce(i,o,l=>{e.indexOf(l)===-1&&e.push(l)});const s=Math.min(r.startCol,r.endCol),a=Math.max(r.startCol,r.endCol);Ce(s,a,l=>{n.indexOf(l)===-1&&n.push(l)})}),{rows:e,columns:n}}var eF={},iE,tF;function Sfe(){if(tF)return iE;tF=1;var t=ro(),e=Lc(),n=Wo(),r=n("match");return iE=function(i){var o;return t(i)&&((o=i[r])!==void 0?!!o:e(i)==="RegExp")},iE}var oE,nF;function _fe(){if(nF)return oE;nF=1;var t=Ln();return oE=function(){var e=t(this),n="";return e.hasIndices&&(n+="d"),e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.unicodeSets&&(n+="v"),e.sticky&&(n+="y"),n},oE}var sE,rF;function Rfe(){if(rF)return sE;rF=1;var t=Dn(),e=io(),n=Tp(),r=_fe(),i=RegExp.prototype;return sE=function(o){var s=o.flags;return s===void 0&&!("flags"in i)&&!e(o,"flags")&&n(i,o)?t(r,o):s},sE}var aE,iF;function Efe(){if(iF)return aE;iF=1;var t=xn(),e=Bd(),n=Math.floor,r=t("".charAt),i=t("".replace),o=t("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;return aE=function(l,u,c,h,d,f){var g=c+l.length,m=h.length,p=a;return d!==void 0&&(d=e(d),p=s),i(f,p,function(y,b){var T;switch(r(b,0)){case"$":return"$";case"&":return l;case"`":return o(u,0,c);case"'":return o(u,g);case"<":T=d[o(b,1,-1)];break;default:var E=+b;if(E===0)return y;if(E>m){var P=n(E/10);return P===0?y:P<=m?h[P-1]===void 0?r(b,1):h[P-1]+r(b,1):y}T=h[E-1]}return T===void 0?"":T})},aE}var oF;function xfe(){if(oF)return eF;oF=1;var t=$t(),e=Dn(),n=xn(),r=Ep(),i=$n(),o=ro(),s=Sfe(),a=wC(),l=Mp(),u=Rfe(),c=Efe(),h=Wo(),d=Zl(),f=h("replace"),g=TypeError,m=n("".indexOf),p=n("".replace),y=n("".slice),b=Math.max;return t({target:"String",proto:!0},{replaceAll:function(E,P){var I=r(this),H,U,K,j,q,Z,ie,ee,re,pe,se=0,ce="";if(o(E)){if(H=s(E),H&&(U=a(r(u(E))),!~m(U,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(K=l(E,f),K)return e(K,E,I,P);if(d&&H)return p(a(I),E,P)}for(j=a(I),q=a(E),Z=i(P),Z||(P=a(P)),ie=q.length,ee=b(1,ie),re=m(j,q);re!==-1;)pe=Z?a(P(q,re,j)):c(q,j,re,[],void 0,P),ce+=y(j,se,re)+pe,se=re+ie,re=re+ee>j.length?-1:m(j,q,re+ee);return se<j.length&&(ce+=y(j,se)),ce}}),eF}xfe();const nG={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},Tfe=new RegExp(Object.keys(nG).map(t=>`(${t})`).join("|"),"gi");function Mfe(t){return(t&&t.nodeName||"")==="TABLE"}function sF(t){const e=t.hasColHeaders(),n=t.hasRowHeaders(),r=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],i=t.getData(...r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],u=["<tbody>","</tbody>"],c=n?1:0,h=e?1:0;for(let d=0;d<o;d+=1){const f=e&&d===0,g=[];for(let p=0;p<s;p+=1){const y=!f&&n&&p===0;let b="";if(f)b=`<th>${t.getColHeader(p-c)}</th>`;else if(y)b=`<th>${t.getRowHeader(d-h)}</th>`;else{const T=i[d][p],{hidden:E,rowspan:P,colspan:I}=t.getCellMeta(d-h,p-c);if(!E){const H=[];if(P&&H.push(`rowspan="${P}"`),I&&H.push(`colspan="${I}"`),bn(T))b=`<td ${H.join(" ")}></td>`;else{const U=T.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");b=`<td ${H.join(" ")}>${U}</td>`}}}g.push(b)}const m=["<tr>",...g,"</tr>"].join("");f?l.splice(1,0,m):u.splice(-1,0,m)}return a.splice(1,0,l.join(""),u.join("")),a.join("")}function aF(t){const e=t.length,n=["<table>"];for(let r=0;r<e;r+=1){const i=t[r],o=i.length,s=[];r===0&&n.push("<tbody>");for(let a=0;a<o;a+=1){const l=i[a],u=bn(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,c=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(c.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${u}</td>`)}n.push("<tr>",...s,"</tr>"),r+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function Pfe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;const n={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);let o=t;if(typeof o=="string"){const T=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,E=>{const P=E.match(/<td\b[^>]*?>/g)[0],I=/<p.*?>/g,H=E.substring(P.length,E.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(I,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${P}${H}</td>`});i.insertAdjacentHTML("afterbegin",`${T}`),o=i.querySelector("table")}if(!o||!Mfe(o))return;const s=i.querySelector('meta[name$="enerator"]'),a=o.querySelector("tbody th")!==null,l=o.querySelector("tr"),u=l?Array.from(l.cells).reduce((T,E)=>T+E.colSpan,0)-(a?1:0):0,c=o.tFoot&&Array.from(o.tFoot.rows)||[],h=[];let d=!1,f=0,g=0;if(o.tHead){const T=Array.from(o.tHead.rows).filter(E=>{const P=E.querySelector("td")!==null;return P&&h.push(E),!P});f=T.length,d=f>0,f>1?n.nestedHeaders=Array.from(T).reduce((E,P)=>{const I=Array.from(P.cells).reduce((H,U,K)=>{if(a&&K===0)return H;const{colSpan:j,innerHTML:q}=U,Z=j>1?{label:q,colspan:j}:q;return H.push(Z),H},[]);return E.push(I),E},[]):d&&(n.colHeaders=Array.from(T[0].children).reduce((E,P,I)=>(a&&I===0||E.push(P.innerHTML),E),[]))}h.length&&(n.fixedRowsTop=h.length),c.length&&(n.fixedRowsBottom=c.length);const m=[...h,...Array.from(o.tBodies).reduce((T,E)=>(T.push(...Array.from(E.rows)),T),[]),...c];g=m.length;const p=new Array(g);for(let T=0;T<g;T++)p[T]=new Array(u);const y=[],b=[];for(let T=0;T<g;T++){const E=m[T],P=Array.from(E.cells),I=P.length;for(let H=0;H<I;H++){const U=P[H],{nodeName:K,innerHTML:j,rowSpan:q,colSpan:Z}=U,ie=p[T].findIndex(ee=>ee===void 0);if(K==="TD"){if(q>1||Z>1){for(let se=T;se<T+q;se++)if(se<g)for(let ce=ie;ce<ie+Z;ce++)p[se][ce]=null;const re=U.getAttribute("style");re&&re.includes("mso-ignore:colspan")||y.push({col:ie,row:T,rowspan:q,colspan:Z})}let ee="";s&&/excel/gi.test(s.content)?ee=j.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):ee=j.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),p[T][ie]=ee.replace(Tfe,re=>nG[re])}else b.push(j)}}return y.length&&(n.mergeCells=y),b.length&&(n.rowHeaders=b),p.length&&(n.data=p),n}function Ofe(t,e){rG(t,e),e.add(t)}function nl(t,e,n){rG(t,e),e.set(t,n)}function rG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bf(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Afe(t,"string");return typeof e=="symbol"?e:e+""}function Afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ei(t,e){return t.get(ni(t,e))}function bo(t,e,n){return t.set(ni(t,e),n),n}function ni(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("afterCopyLimit");de.getSingleton().register("modifyCopyableRange");de.getSingleton().register("beforeCut");de.getSingleton().register("afterCut");de.getSingleton().register("beforePaste");de.getSingleton().register("afterPaste");de.getSingleton().register("beforeCopy");de.getSingleton().register("afterCopy");const lE="copyPaste",Hfe=80,kfe=["fragmentSelection"],lF=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var kT=new WeakMap,NT=new WeakMap,DT=new WeakMap,wh=new WeakMap,Bv=new WeakMap,jv=new WeakMap,bh=new WeakMap,Sy=new WeakMap,wi=new WeakSet;class Nfe extends ft{constructor(){super(...arguments),Ofe(this,wi),Bf(this,"columnsLimit",1/0),Bf(this,"rowsLimit",1/0),Bf(this,"pasteMode","overwrite"),Bf(this,"uiContainer",this.hot.rootDocument.body),nl(this,kT,!1),nl(this,NT,!1),nl(this,DT,!1),nl(this,wh,"cells-only"),nl(this,Bv,!1),nl(this,jv,!1),nl(this,bh,new yfe({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),nl(this,Sy,!1),Bf(this,"copyableRanges",[])}static get PLUGIN_KEY(){return lE}static get SETTING_KEYS(){return[lE,...kfe]}static get PLUGIN_PRIORITY(){return Hfe}static get DEFAULT_SETTINGS(){return{pasteMode:"overwrite",rowsLimit:1/0,columnsLimit:1/0,copyColumnHeaders:!1,copyColumnGroupHeaders:!1,copyColumnHeadersOnly:!1}}isEnabled(){return!!this.hot.getSettings()[lE]}enablePlugin(){var e,n,r=this;this.enabled||(this.pasteMode=(e=this.getSetting("pasteMode"))!==null&&e!==void 0?e:this.pasteMode,this.rowsLimit=isNaN(this.getSetting("rowsLimit"))?this.rowsLimit:this.getSetting("rowsLimit"),this.columnsLimit=isNaN(this.getSetting("columnsLimit"))?this.columnsLimit:this.getSetting("columnsLimit"),bo(kT,this,this.getSetting("copyColumnHeaders")),bo(NT,this,this.getSetting("copyColumnGroupHeaders")),bo(DT,this,this.getSetting("copyColumnHeadersOnly")),this.uiContainer=(n=this.getSetting("uiContainer"))!==null&&n!==void 0?n:this.uiContainer,this.addHook("afterContextMenuDefaultOptions",i=>ni(wi,this,Lfe).call(this,i)),this.addHook("afterSelection",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ni(wi,r,Ffe).call(r,...o)}),this.addHook("afterSelectionEnd",()=>ni(wi,this,Vfe).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return r.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return r.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return r.onPaste(...arguments)}),ay()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ni(wi,r,Wfe).call(r,...o)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ni(wi,r,Bfe).call(r,...o)}),this.addHook("afterSelection",()=>ni(wi,this,jfe).call(this))),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";bo(wh,this,e),bo(Bv,this,!0),ni(wi,this,uF).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){bo(jv,this,!0),ni(wi,this,uF).call(this,"cut")}getRangedCopyableData(e){return em(this.getRangedData(e))}getRangedData(e){const n=[],{rows:r,columns:i}=tG(e);return W(r,o=>{const s=[];W(i,a=>{o<0?s.push(this.hot.getColHeader(a,o)):s.push(this.hot.getCopyableData(o,a))}),n.push(s)}),n}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!n)return;const r=new wfe;e&&r.clipboardData.setData("text/plain",e),n&&r.clipboardData.setData("text/html",n),this.onPaste(r)}setCopyableText(){const e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}ei(bh,this).setSelectedRange(e);const n=new Map([["headers",null],["cells",null]]);ei(wh,this)==="column-headers-only"?n.set("headers",ei(bh,this).getMostBottomColumnHeadersRange()):(ei(wh,this)==="with-column-headers"?n.set("headers",ei(bh,this).getMostBottomColumnHeadersRange()):ei(wh,this)==="with-column-group-headers"&&n.set("headers",ei(bh,this).getAllColumnHeadersRange()),n.set("cells",ei(bh,this).getCellsRange())),this.copyableRanges=Array.from(n.values()).filter(i=>i!==null).map(i=>{let{startRow:o,startCol:s,endRow:a,endCol:l}=i;return{startRow:o,startCol:s,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const r=n.get("cells");if(r!==null&&r.isRangeTrimmed){const{startRow:i,startCol:o,endRow:s,endCol:a}=r;this.hot.runHooks("afterCopyLimit",s-i+1,a-o+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;const r=e.length,i=e[0].length,o=[],{row:s,col:a}=n.getTopStartCorner(),{row:l,col:u}=n.getBottomEndCorner();let c=s,h=a,d=s,f=a;for(;o.length<r||c<=l;){const{skipRowOnPaste:g,visualRow:m}=this.hot.getCellMeta(c,a);if(c=m+1,g===!0)continue;d=m,h=a;const p=[],y=o.length%r;for(;p.length<i||h<=u;){const{skipColumnOnPaste:b,visualCol:T}=this.hot.getCellMeta(s,h);if(h=T+1,b===!0)continue;f=T;const E=p.length%i;p.push(e[y][E])}o.push(p)}return bo(Sy,this,!0),this.hot.populateFromArray(s,a,o,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,d,f]}onCopy(e){const n=e.composedPath()[0],r=this.hot.getFocusManager().getRefocusElement(),i=n==null?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!ei(Bv,this)||this.isEditorOpened()||La(n)&&(i&&n!==r||!i&&n!==this.hot.rootDocument.body&&!wb(n,this.hot.rootElement)))return;e.preventDefault(),this.setCopyableText(),bo(Bv,this,!1);const o=this.getRangedData(this.copyableRanges),s=ni(wi,this,Dfe).call(this,this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",o,this.copyableRanges,s)){const l=em(o);if(e&&e.clipboardData){const u=aF(o,this.hot.rootDocument);e.clipboardData.setData("text/plain",l),e.clipboardData.setData("text/html",[lF,u].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",l);this.hot.runHooks("afterCopy",o,this.copyableRanges,s)}bo(wh,this,"cells-only")}onCut(e){const n=e.composedPath()[0],r=this.hot.getFocusManager().getRefocusElement(),i=n==null?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!ei(jv,this)||this.isEditorOpened()||La(n)&&(i&&n!==r||!i&&n!==this.hot.rootDocument.body&&!wb(n,this.hot.rootElement)))return;e.preventDefault(),this.setCopyableText(),bo(jv,this,!1);const o=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",o,this.copyableRanges)){const a=em(o);if(e&&e.clipboardData){const l=aF(o,this.hot.rootDocument);e.clipboardData.setData("text/plain",a),e.clipboardData.setData("text/html",[lF,l].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",a);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",o,this.copyableRanges)}}onPaste(e){const n=e.composedPath()[0],r=this.hot.getFocusManager().getRefocusElement(),i=n==null?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||La(n)&&(i&&n!==r||!i&&n!==this.hot.rootDocument.body&&!wb(n,this.hot.rootElement)))return;e.preventDefault();let o;if(e&&typeof e.clipboardData<"u"){const c=R1(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});c&&/(<table)|(<TABLE)/g.test(c)?o=Pfe(c,this.hot.rootDocument).data:o=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(o=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof o=="string"&&(o=hfe(o)),o===void 0||o&&o.length===0||this.hot.runHooks("beforePaste",o,this.copyableRanges)===!1)return;const[s,a,l,u]=this.populateValues(o);this.hot.selectCell(s,a,Math.min(this.hot.countRows()-1,l),Math.min(this.hot.countCols()-1,u)),this.hot.runHooks("afterPaste",o,this.copyableRanges)}destroy(){super.destroy()}}function uF(t){if(ay()){const e=this.hot.getSelectedRangeLast();if(e){const{row:n,col:r}=e.highlight,i=this.hot.getCell(n,r,!0);i&&bte(i,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function Dfe(t){const{rows:e}=tG(t);let n=0;for(let r=0;r<e.length&&!(e[r]>=0);r++)n+=1;return{columnHeadersCount:n}}function $fe(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r&&iz(r)}}}function iG(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r!=null&&r.hasAttribute("contenteditable")&&oz(r)}}}function Lfe(t){t.items.push({name:"---------"},dfe(this)),ei(kT,this)&&t.items.push(mfe(this)),ei(NT,this)&&t.items.push(gfe(this)),ei(DT,this)&&t.items.push(ffe(this)),t.items.push(pfe(this))}function Ffe(t,e,n,r,i){ei(Sy,this)&&(i.value=!0),bo(Sy,this,!1)}function Vfe(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function Wfe(){ni(wi,this,iG).call(this)}function Bfe(){ni(wi,this,$fe).call(this)}function jfe(){ni(wi,this,iG).call(this)}function oG(t,e){return`border_row${t}col${e}`}function Mg(){return{width:1,color:"#000"}}function Pa(){return{hide:!0}}function Ufe(){return{width:1,color:"#000",cornerVisible:!1}}function uE(t){if(we(t.start)||we(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(we(t.end)||we(t.right)){var n;t.end=(n=t.end)!==null&&n!==void 0?n:t.right}return delete t.left,delete t.right,t}function jf(t){return we(t.start)&&(t.left=t.start),we(t.end)&&(t.right=t.end),t}function cE(t,e){return{id:oG(t,e),border:Ufe(),row:t,col:e,top:Pa(),bottom:Pa(),start:Pa(),end:Pa()}}function zfe(t,e){return An(e,"border")&&e.border&&(t.border=e.border),An(e,"top")&&we(e.top)&&(e.top?(qe(e.top)||(e.top=Mg()),t.top=e.top):(e.top=Pa(),t.top=e.top)),An(e,"bottom")&&we(e.bottom)&&(e.bottom?(qe(e.bottom)||(e.bottom=Mg()),t.bottom=e.bottom):(e.bottom=Pa(),t.bottom=e.bottom)),An(e,"start")&&we(e.start)&&(e.start?(qe(e.start)||(e.start=Mg()),t.start=e.start):(e.start=Pa(),t.start=e.start)),An(e,"end")&&we(e.end)&&(e.end?(qe(e.end)||(e.end=Mg()),t.end=e.end):(e.end=Pa(),t.end=e.end)),t}function Ba(t,e){let n=!1;return W(t.getSelectedRange(),r=>{r.forAll((i,o)=>{if(i<0||o<0)return;const s=t.getCellMeta(i,o).borders;if(s)if(e){if(!An(s[e],"hide")||s[e].hide===!1)return n=!0,!1}else return n=!0,!1})}),n}function rS(t){return`<span class="selected"></span>${t}`}function Yfe(t){return t.some(e=>we(e.left)||we(e.right))}function Gfe(t){return t.some(e=>we(e.start)||we(e.end))}const Kfe=new Map([["left","start"],["right","end"]]);function qfe(t){var e;return(e=Kfe.get(t))!==null&&e!==void 0?e:t}function Xfe(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(vP);return Ba(this,"bottom")&&(e=rS(e)),e},callback(e,n){const r=Ba(this,"bottom");t.prepareBorder(n,"bottom",r)}}}function Zfe(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let n=this.getTranslatedPhrase(wP);return Ba(this,e)&&(n=rS(n)),n},callback(n,r){const i=Ba(this,e);t.prepareBorder(r,e,i)}}}function Jfe(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(bP)},callback(e,n){t.prepareBorder(n,"noBorders")},disabled(){return!Ba(this)}}}function Qfe(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let n=this.getTranslatedPhrase(pP);return Ba(this,e)&&(n=rS(n)),n},callback(n,r){const i=Ba(this,e);t.prepareBorder(r,e,i)}}}function ege(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(mP);return Ba(this,"top")&&(e=rS(e)),e},callback(e,n){const r=Ba(this,"top");t.prepareBorder(n,"top",r)}}}function tge(t,e,n){return(e=nge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nge(t){var e=rge(t,"string");return typeof e=="symbol"?e:e+""}function rge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qa extends aY{constructor(e,n){super(e,null),tge(this,"visualCellRange",null),this.visualCellRange=n||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:n,to:r}=e,i=this.getNearestNotHiddenCoords(n,1),o=this.getNearestNotHiddenCoords(r,-1);return i===null||o===null?null:((i.row>o.row||i.col>o.col)&&(i=n,o=r),this.settings.createCellRange(i,i,o))}getNearestNotHiddenCoords(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;const i=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,n);if(i===null)return null;const o=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,r);return o===null?null:this.settings.createCellCoords(i,o)}getNearestNotHiddenIndex(e,n,r){return n<0?n:e.getNearestNotHiddenIndex(n,r)}commit(){if(this.visualCellRange===null)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const n=e.from.clone().normalize(),r=e.getVerticalDirection()==="N-S"?1:-1,i=e.getHorizontalDirection()==="W-E"?1:-1,o=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let s=null;if((o===null||o.col===null||o.row===null)&&(s=this.getNearestNotHiddenCoords(n,r,i)),s!==null&&e.overlaps(s)){const a=e.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){const l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&o!==null&&s===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:n}=this.cellRange;return[Math.min(e.row,n.row),Math.min(e.col,n.col),Math.max(e.row,n.row),Math.max(e.col,n.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),n=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,n.row,n.col]}createRenderableCellRange(e,n){const r=this.settings.visualToRenderableCoords(e),i=this.settings.visualToRenderableCoords(n);return r.row===null||r.col===null||i.row===null||i.col===null?null:this.settings.createCellRange(r,r,i)}}function hE(t){let{activeHeaderClassName:e,...n}=t;return new qa({className:e,...n,selectionType:lY})}function ige(t){let{areaCornerVisible:e,...n}=t;return new qa({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...n,selectionType:MO})}function oge(t){let{...e}=t;return new qa({className:"highlight",...e,selectionType:MO})}function sge(t){let{columnClassName:e,...n}=t;return new qa({className:e,...n,selectionType:xle})}function age(t){let{cellCornerVisible:e,...n}=t;return new qa({className:"current",headerAttributes:[x1()],border:{width:2,color:"#4b89ff",cornerVisible:e},...n,selectionType:Xg})}function lge(t){let{border:e,visualCellRange:n,...r}=t;return new qa({...e,...r,selectionType:Tle},n)}function uge(t){let{...e}=t;return new qa({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:Rle})}function cF(t){let{headerClassName:e,...n}=t;return new qa({className:e,...n,selectionType:TO})}function cge(t){let{rowClassName:e,...n}=t;return new qa({className:e,...n,selectionType:Ele})}function hge(t,e){dge(t,e),e.add(t)}function dge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zr(t,e,n){return(e=fge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fge(t){var e=gge(t,"string");return typeof e=="symbol"?e:e+""}function gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ea(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var es=new WeakSet;class mge{constructor(e){hge(this,es),zr(this,"options",void 0),zr(this,"layerLevel",0),zr(this,"focus",void 0),zr(this,"fill",void 0),zr(this,"layeredAreas",new Map),zr(this,"areas",new Map),zr(this,"rowHeaders",new Map),zr(this,"columnHeaders",new Map),zr(this,"activeRowHeaders",new Map),zr(this,"activeColumnHeaders",new Map),zr(this,"activeCornerHeaders",new Map),zr(this,"rowHighlights",new Map),zr(this,"columnHighlights",new Map),zr(this,"customSelections",[]),this.options=e,this.focus=age(e),this.fill=uge(e)}isEnabledFor(e,n){let r=e;e===Xg&&(r="current");let i=this.options.disabledCellSelection(n.row,n.col);return typeof i=="string"&&(i=[i]),i===!1||Array.isArray(i)&&!i.includes(r)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return ea(es,this,ta).call(this,this.layeredAreas,ige)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return ea(es,this,ta).call(this,this.areas,oge)}getAreas(){return[...this.areas.values()]}createRowHeader(){return ea(es,this,ta).call(this,this.rowHeaders,cF)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return ea(es,this,ta).call(this,this.columnHeaders,cF)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return ea(es,this,ta).call(this,this.activeRowHeaders,hE)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return ea(es,this,ta).call(this,this.activeColumnHeaders,hE)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return ea(es,this,ta).call(this,this.activeCornerHeaders,hE)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return ea(es,this,ta).call(this,this.rowHighlights,cge)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return ea(es,this,ta).call(this,this.columnHighlights,sge)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(lge({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),W(this.areas.values(),e=>void e.clear()),W(this.layeredAreas.values(),e=>void e.clear()),W(this.rowHeaders.values(),e=>void e.clear()),W(this.columnHeaders.values(),e=>void e.clear()),W(this.activeRowHeaders.values(),e=>void e.clear()),W(this.activeColumnHeaders.values(),e=>void e.clear()),W(this.activeCornerHeaders.values(),e=>void e.clear()),W(this.rowHighlights.values(),e=>void e.clear()),W(this.columnHighlights.values(),e=>void e.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function ta(t,e){const n=this.layerLevel;if(t.has(n))return t.get(n);const r=e({layerLevel:n,...this.options});return t.set(n,r),r}function hF(t,e,n){return(e=pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pge(t){var e=vge(t,"string");return typeof e=="symbol"?e:e+""}function vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wge{constructor(e){hF(this,"ranges",[]),hF(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some(n=>n.includes(e))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n;return e>=0&&e<this.size()&&(n=this.ranges[e]),n}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}}function bge(t,e){sG(t,e),e.add(t)}function dE(t,e,n){sG(t,e),e.set(t,n)}function sG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function at(t,e){return t.get(On(t,e))}function Uv(t,e,n){return t.set(On(t,e),n),n}function On(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var zv=new WeakMap,Vt=new WeakMap,Ho=new WeakMap,Vn=new WeakSet;class $T{constructor(e,n){bge(this,Vn),dE(this,zv,void 0),dE(this,Vt,void 0),dE(this,Ho,{x:0,y:0}),Uv(zv,this,e),Uv(Vt,this,n)}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=at(Vt,this).createCellCoords(e,n);let o=at(zv,this).current().highlight;const s=at(Vt,this).visualToRenderableCoords(o);let a=0,l=0;if(this.runLocalHooks("beforeTransformStart",i),s.row!==null&&s.col!==null){const{width:u,height:c}=On(Vn,this,aG).call(this),{row:h,col:d}=On(Vn,this,fF).call(this,o),f=at(Vt,this).fixedRowsBottom(),g=at(Vt,this).minSpareRows(),m=at(Vt,this).minSpareCols(),p=at(Vt,this).autoWrapRow(),y=at(Vt,this).autoWrapCol(),b=at(Vt,this).createCellCoords(h+i.row,d+i.col);if(b.row>=c){const P=Ei(r&&g>0&&f===0),I=b.col+1,H=at(Vt,this).createCellCoords(b.row-c,I>=u?I-u:I);this.runLocalHooks("beforeColumnWrap",P,On(Vn,this,yh).call(this,H),I>=u),P.value?this.runLocalHooks("insertRowRequire",at(Vt,this).countRenderableRows()):y&&b.assign(H)}else if(b.row<0){const P=Ei(y),I=b.col-1,H=at(Vt,this).createCellCoords(c+b.row,I<0?u+I:I);this.runLocalHooks("beforeColumnWrap",P,On(Vn,this,yh).call(this,H),I<0),y&&b.assign(H)}if(b.col>=u){const P=Ei(r&&m>0),I=b.row+1,H=at(Vt,this).createCellCoords(I>=c?I-c:I,b.col-u);this.runLocalHooks("beforeRowWrap",P,On(Vn,this,yh).call(this,H),I>=c),P.value?this.runLocalHooks("insertColRequire",at(Vt,this).countRenderableColumns()):p&&b.assign(H)}else if(b.col<0){const P=Ei(p),I=b.row-1,H=at(Vt,this).createCellCoords(I<0?c+I:I,u+b.col);this.runLocalHooks("beforeRowWrap",P,On(Vn,this,yh).call(this,H),I<0),p&&b.assign(H)}const{rowDir:T,colDir:E}=On(Vn,this,dF).call(this,b);a=T,l=E,o=On(Vn,this,yh).call(this,b)}return this.runLocalHooks("afterTransformStart",o,a,l),o}transformEnd(e,n){const r=at(Vt,this).createCellCoords(e,n),i=at(zv,this).current(),o=at(Vt,this).visualToRenderableCoords(i.highlight),s=On(Vn,this,fE).call(this,i.to.row,i.from.row),a=On(Vn,this,gE).call(this,i.to.col,i.from.col),l=i.to.clone();let u=0,c=0;if(this.runLocalHooks("beforeTransformEnd",r),o.row!==null&&o.col!==null&&s!==null&&a!==null){const{row:h,col:d}=On(Vn,this,fF).call(this,i.highlight),f=at(Vt,this).createCellCoords(s+r.row,a+r.col),g=i.getTopStartCorner(),m=i.getTopEndCorner(),p=i.getBottomEndCorner();if(r.col<0&&a>=d&&f.col<d){const E=f.col-d;f.col=On(Vn,this,gE).call(this,g.col,m.col)+E}else if(r.col>0&&a<=d&&f.col>d){const E=On(Vn,this,gE).call(this,m.col,g.col),P=Math.max(f.col-E,1);f.col=E+P}if(r.row<0&&s>=h&&f.row<h){const E=f.row-h;f.row=On(Vn,this,fE).call(this,g.row,p.row)+E}else if(r.row>0&&s<=h&&f.row>h){const E=On(Vn,this,fE).call(this,p.row,g.row),P=Math.max(f.row-E,1);f.row=E+P}const{rowDir:y,colDir:b}=On(Vn,this,dF).call(this,f);u=y,c=b;const T=On(Vn,this,yh).call(this,f);r.row===0&&r.col!==0?l.col=T.col:r.row!==0&&r.col===0?l.row=T.row:(l.row=T.row,l.col=T.col)}return this.runLocalHooks("afterTransformEnd",l,u,c),l}setOffsetSize(e){let{x:n,y:r}=e;Uv(Ho,this,{x:n,y:r})}resetOffsetSize(){Uv(Ho,this,{x:0,y:0})}}function dF(t){const{width:e,height:n}=On(Vn,this,aG).call(this);let r=0,i=0;return t.row<0?(r=-1,t.row=0):t.row>0&&t.row>=n&&(r=1,t.row=n-1),t.col<0?(i=-1,t.col=0):t.col>0&&t.col>=e&&(i=1,t.col=e-1),{rowDir:r,colDir:i}}function aG(){return{width:at(Ho,this).x+at(Vt,this).countRenderableColumns(),height:at(Ho,this).y+at(Vt,this).countRenderableRows()}}function fE(t,e){const n=at(Vt,this).findFirstNonHiddenRenderableRow(t,e);return n===null?null:at(Ho,this).y+n}function gE(t,e){const n=at(Vt,this).findFirstNonHiddenRenderableColumn(t,e);return n===null?null:at(Ho,this).x+n}function fF(t){const{row:e,col:n}=at(Vt,this).visualToRenderableCoords(t);if(e===null||n===null)throw new Error("Renderable coords are not visible.");return at(Vt,this).createCellCoords(at(Ho,this).y+e,at(Ho,this).x+n)}function yh(t){const e=t.clone();return e.col=t.col-at(Ho,this).x,e.row=t.row-at(Ho,this).y,at(Vt,this).renderableToVisualCoords(e)}It($T,or);function Ch(t,e,n){yge(t,e),e.set(t,n)}function yge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Eu(t,e,n){return(e=Cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cge(t){var e=Sge(t,"string");return typeof e=="symbol"?e:e+""}function Sge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ut(t,e){return t.get(lG(t,e))}function ts(t,e,n){return t.set(lG(t,e),n),n}function lG(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var lr=new WeakMap,xu=new WeakMap,Yv=new WeakMap,Uf=new WeakMap,Gv=new WeakMap,zf=new WeakMap;class uG{constructor(e,n){var r=this;Eu(this,"settings",void 0),Eu(this,"tableProps",void 0),Eu(this,"inProgress",!1),Eu(this,"selectedRange",new wge((i,o,s)=>this.tableProps.createCellRange(i,o,s))),Eu(this,"highlight",void 0),Ch(this,lr,void 0),Ch(this,xu,void 0),Eu(this,"selectedByRowHeader",new Set),Eu(this,"selectedByColumnHeader",new Set),Ch(this,Yv,!1),Ch(this,Uf,!1),Ch(this,Gv,"unknown"),Ch(this,zf,-1),this.settings=e,this.tableProps=n,this.highlight=new mge({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[x1()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(i,o)=>this.tableProps.isDisabledCellSelection(i,o),cellCornerVisible:function(){return r.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible(...arguments)},visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),createCellRange:(i,o,s)=>this.tableProps.createCellRange(i,o,s)}),ts(lr,this,new $T(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),findFirstNonHiddenRenderableRow:function(){return r.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return r.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol})),ts(xu,this,new $T(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{const i=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,i.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{const i=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,i.getOuterBottomEndCorner().col)},visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),findFirstNonHiddenRenderableRow:function(){return r.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return r.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),Ut(lr,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformStart",...o)}),Ut(lr,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformStart",...o)}),Ut(lr,this).addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformEnd",...o)}),Ut(lr,this).addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformEnd",...o)}),Ut(lr,this).addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("insertRowRequire",...o)}),Ut(lr,this).addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("insertColRequire",...o)}),Ut(lr,this).addLocalHook("beforeRowWrap",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeRowWrap",...o)}),Ut(lr,this).addLocalHook("beforeColumnWrap",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeColumnWrap",...o)}),Ut(xu,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformFocus",...o)}),Ut(xu,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformFocus",...o)})}getSelectedRange(){return this.selectedRange}markSource(e){ts(Gv,this,e)}markEndSource(){ts(Gv,this,"unknown")}getSelectionSource(){return Ut(Gv,this)}setExpectedLayers(e){ts(zf,this,e)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,ts(zf,this,-1)}isInProgress(){return this.inProgress}setRangeStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e;const o=this.settings.selectionMode==="multiple",s=en(n)?this.tableProps.getShortcutManager().isCtrlPressed():n,a=e.clone();ts(Yv,this,!1),this.runLocalHooks(`beforeSetRangeStart${r?"Only":""}`,a),(!o||o&&!s&&en(n))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(i.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),r||this.setRangeEnd(e)}setRangeStartOnly(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,n,!0,r)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;const n=e.clone(),r=this.tableProps.countRows(),i=this.tableProps.countCols(),o=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((r>0||i>0)&&(r===0&&n.col<0&&!o||i===0&&n.row<0&&!o))return;this.runLocalHooks("beforeSetRangeEnd",n),this.begin();const s=this.selectedRange.current();if(this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single")s.setFrom(s.highlight),s.setTo(s.highlight);else{const l=s.getHorizontalDirection(),u=s.getVerticalDirection(),c=this.isMultiple();s.setTo(n),c&&(l!==s.getHorizontalDirection()||s.getWidth()===1&&!s.includes(s.highlight))&&s.from.assign({col:s.highlight.col}),c&&(u!==s.getVerticalDirection()||s.getHeight()===1&&!s.includes(s.highlight))&&s.from.assign({row:s.highlight.row})}r>0&&i>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();const a=Ut(zf,this)===-1||this.selectedRange.size()===Ut(zf,this);this.runLocalHooks("afterSetRangeEnd",e,a)}applyAndCommit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedRange.current(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel();const r=this.tableProps.countRows(),i=this.tableProps.countCols();n<this.highlight.layerLevel&&(W(this.highlight.getAreas(),g=>void g.clear()),W(this.highlight.getLayeredAreas(),g=>void g.clear()),W(this.highlight.getRowHeaders(),g=>void g.clear()),W(this.highlight.getColumnHeaders(),g=>void g.clear()),W(this.highlight.getActiveRowHeaders(),g=>void g.clear()),W(this.highlight.getActiveColumnHeaders(),g=>void g.clear()),W(this.highlight.getActiveCornerHeaders(),g=>void g.clear()),W(this.highlight.getRowHighlights(),g=>void g.clear()),W(this.highlight.getColumnHighlights(),g=>void g.clear())),this.highlight.useLayerLevel(n);const o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),u=this.highlight.createActiveRowHeader(),c=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),d=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();if(o.clear(),s.clear(),a.clear(),l.clear(),u.clear(),c.clear(),h.clear(),d.clear(),f.clear(),this.highlight.isEnabledFor(MO,e.highlight)&&(this.isMultiple()||n>=1)&&(o.add(e.from).add(e.to).commit(),s.add(e.from).add(e.to).commit(),n===1)){const g=this.selectedRange.previous();this.highlight.useLayerLevel(n-1),this.highlight.createArea().add(g.from).commit().syncWith(g),this.highlight.createLayeredArea().add(g.from).commit().syncWith(g),this.highlight.useLayerLevel(n)}if(this.highlight.isEnabledFor(TO,e.highlight)){if(!e.isSingleHeader()){const p=this.tableProps.createCellCoords(Math.max(e.from.row,0),-1),y=this.tableProps.createCellCoords(e.to.row,-1),b=this.tableProps.createCellCoords(-1,Math.max(e.from.col,0)),T=this.tableProps.createCellCoords(-1,e.to.col);this.settings.selectionMode==="single"?(a.add(p).commit(),l.add(b).commit(),d.add(p).commit(),f.add(b).commit()):(a.add(p).add(y).commit(),l.add(b).add(T).commit(),d.add(p).add(y).commit(),f.add(b).add(T).commit())}const g=!Ut(Uf,this)&&this.isEntireRowSelected()&&(i>0&&i===e.getWidth()||i===0&&this.isSelectedByRowHeader()),m=!Ut(Uf,this)&&this.isEntireColumnSelected()&&(r>0&&r===e.getHeight()||r===0&&this.isSelectedByColumnHeader());g&&u.add(this.tableProps.createCellCoords(Math.max(e.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(e.to.row,0),-1)).commit(),m&&c.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(e.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(e.to.col,0))).commit(),g&&m&&h.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(e){if(this.selectedRange.isEmpty())return;const n=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",e);const r=this.highlight.getFocus();r.clear(),n.setHighlight(e),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(Xg,n.highlight)&&r.add(n.highlight).commit().syncWith(n),this.inProgress||(ts(Yv,this,!0),this.runLocalHooks("afterSetFocus",n.highlight))}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.settings.navigableHeaders?Ut(lr,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Ut(lr,this).resetOffsetSize(),this.setRangeStart(Ut(lr,this).transformStart(e,n,r))}transformEnd(e,n){this.settings.navigableHeaders?Ut(lr,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Ut(lr,this).resetOffsetSize(),this.setRangeEnd(Ut(lr,this).transformEnd(e,n))}transformFocus(e,n){const r=this.selectedRange.current(),{row:i,col:o}=r.getOuterTopStartCorner(),s=this.tableProps.countRenderableColumnsInRange(0,o-1),a=this.tableProps.countRenderableRowsInRange(0,i-1);r.highlight.isHeader()?Ut(xu,this).setOffsetSize({x:o<0?Math.abs(o):-s,y:i<0?Math.abs(i):-a}):Ut(xu,this).setOffsetSize({x:o<0?0:-s,y:i<0?0:-a});const l=Ut(xu,this).transformStart(e,n);this.setRangeFocus(l.normalize())}shiftRows(e,n){if(!this.isSelected())return;const r=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||r.getOuterTopStartCorner().row>=e){const{from:i,to:o,highlight:s}=r,a=this.tableProps.countRows(),l=this.isSelectedByRowHeader(),u=this.isSelectedByColumnHeader(),c=u?-1:0,h=u?0:n;this.getSelectedRange().pop();const d=this.tableProps.createCellCoords(it(i.row+h,c,a-1),i.col),f=this.tableProps.createCellCoords(it(o.row+n,c,a-1),o.col);this.markSource("shift"),s.row>=e?this.setRangeStartOnly(d,!0,this.tableProps.createCellCoords(it(s.row+n,0,a-1),s.col)):this.setRangeStartOnly(d,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),u&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}shiftColumns(e,n){if(!this.isSelected())return;const r=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||r.getOuterTopStartCorner().col>=e){const{from:i,to:o,highlight:s}=r,a=this.tableProps.countCols(),l=this.isSelectedByRowHeader(),u=this.isSelectedByColumnHeader(),c=l?-1:0,h=l?0:n;this.getSelectedRange().pop();const d=this.tableProps.createCellCoords(i.row,it(i.col+h,c,a-1)),f=this.tableProps.createCellCoords(o.row,it(o.col+n,c,a-1));this.markSource("shift"),s.col>=e?this.setRangeStartOnly(d,!0,this.tableProps.createCellCoords(s.row,it(s.col+n,0,a-1))):this.setRangeStartOnly(d,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),u&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;const e=Ei(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}isFocusSelectionChanged(){return this.isSelected()&&Ut(Yv,this)}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=i=>{const{col:o}=i.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&o<0||s===0)&&i.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>n(i));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=i=>{const{row:o}=i.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&o<0||s===0)&&i.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>n(i));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const n=this.tableProps.visualToRenderableCoords(e);return n.row!==null&&n.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),u=r?-l:0,c=n?-a:0;if(u===0&&c===0&&(o===0||s===0))return;let h=(e=this.getSelectedRange().current())===null||e===void 0?void 0:e.highlight;const{focusPosition:d,disableHeadersHighlight:f}=i;ts(Uf,this,f),d&&Number.isInteger(d==null?void 0:d.row)&&Number.isInteger(d==null?void 0:d.col)&&(h=this.tableProps.createCellCoords(it(d.row,u,o-1),it(d.col,c,s-1)));const g=this.tableProps.createCellCoords(u,c),m=this.tableProps.createCellCoords(o-1,s-1);this.clear(),this.setRangeStartOnly(g,void 0,h),c<0&&this.selectedByRowHeader.add(this.getLayerLevel()),u<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(m),this.finish(),ts(Uf,this,!1)}selectCells(e){var n=this;const r=Nd(e);if(r===XC)return!1;if(r===qC)throw new Error(yt`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const i=Qm(r,{createCellCoords:function(){return n.tableProps.createCellCoords(...arguments)},createCellRange:function(){return n.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),o=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:o?this.tableProps.countRowHeaders():0,countColHeaders:o?this.tableProps.countColHeaders():0},a=!e.some(l=>{const u=i(l),c=u.isValid(s);return!(c&&!u.containsHeaders()||c&&u.containsHeaders()&&u.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(e.length),W(e,l=>{const{from:u,to:c}=i(l);this.setRangeStartOnly(u.clone(),!1),this.setRangeEnd(c.clone())}),this.finish()),a}selectColumns(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=typeof e=="string"?this.tableProps.propToCol(e):e,o=typeof n=="string"?this.tableProps.propToCol(n):n,s=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),u=l===0?0:-l,c=this.tableProps.createCellCoords(u,i),h=this.tableProps.createCellCoords(s-1,o),d=this.tableProps.createCellRange(c,c,h).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:l});if(d){let f=0,g=0;Number.isInteger(r==null?void 0:r.row)&&Number.isInteger(r==null?void 0:r.col)?(f=it(r.row,u,s-1),g=it(r.col,Math.min(i,o),Math.max(i,o))):(f=it(r,u,s-1),g=i);const m=this.tableProps.createCellCoords(f,g),p=l===0?0:it(m.row,u,-1),y=s-1,b=this.tableProps.createCellCoords(p,i),T=this.tableProps.createCellCoords(y,o);this.runLocalHooks("beforeSelectColumns",b,T,m),b.row=p,T.row=y,this.setRangeStartOnly(b,void 0,m),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(T),this.runLocalHooks("afterSelectColumns",b,T,m),this.finish()}return d}selectRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,l=this.tableProps.createCellCoords(e,a),u=this.tableProps.createCellCoords(n,o-1),c=this.tableProps.createCellRange(l,l,u).isValid({countRows:i,countCols:o,countRowHeaders:s,countColHeaders:0});if(c){let h=0,d=0;Number.isInteger(r==null?void 0:r.row)&&Number.isInteger(r==null?void 0:r.col)?(h=it(r.row,Math.min(e,n),Math.max(e,n)),d=it(r.col,a,o-1)):(h=e,d=it(r,a,o-1));const f=this.tableProps.createCellCoords(h,d),g=s===0?0:it(f.col,a,-1),m=o-1,p=this.tableProps.createCellCoords(e,g),y=this.tableProps.createCellCoords(n,m);this.runLocalHooks("beforeSelectRows",p,y,f),p.col=g,y.col=m,this.setRangeStartOnly(p,void 0,f),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(y),this.runLocalHooks("afterSelectRows",p,y,f),this.finish()}return c}refresh(){if(!this.isSelected())return;const e=this.tableProps.countRows(),n=this.tableProps.countCols();if(e===0||n===0){this.deselect();return}const r=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:i,to:o,highlight:s}=r;this.clear(),s.assign({row:it(s.row,-1/0,e-1),col:it(s.col,-1/0,n-1)}),i.assign({row:it(i.row,-1/0,e-1),col:it(i.col,-1/0,n-1)}),o.assign({row:it(o.row,0,e-1),col:it(o.col,0,n-1)}),this.selectedRange.ranges.push(r),this.highlight.isEnabledFor(Xg,this.selectedRange.current().highlight)&&this.highlight.getFocus().add(s).commit().syncWith(r),this.applyAndCommit(r)}commit(){if(this.highlight.getCustomSelections().forEach(i=>{i.commit()}),!this.isSelected())return;const n=this.getLayerLevel(),r=this.selectedRange.current();this.highlight.isEnabledFor(Xg,r.highlight)&&this.highlight.getFocus().commit().syncWith(r);for(let i=0;i<this.selectedRange.size();i+=1){this.highlight.useLayerLevel(i);const o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),u=this.highlight.createActiveRowHeader(),c=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),d=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();o.commit(),s.commit(),a.commit(),l.commit(),u.commit(),c.commit(),h.commit(),d.commit(),f.commit()}this.highlight.useLayerLevel(n)}}It(uG,or);function gF(t){let{isShiftKey:e,isLeftClick:n,isRightClick:r,coords:i,selection:o,controller:s,cellCoordsFactory:a}=t;const l=o.isSelected()?o.getSelectedRange().current():null,u=o.isSelectedByCorner(),c=o.isSelectedByRowHeader();if(o.markSource("mouse"),e&&l)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(u||c)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):u&&i.row<0&&!s.column?o.setRangeEnd(a(l.to.row,i.col)):c&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,l.to.col)):(!u&&!c&&i.col<0||u&&i.col<0)&&!s.row?o.selectRows(Math.max(l.from.row,0),i.row,i.col):(!u&&!c&&i.row<0||c&&i.row<0)&&!s.column&&o.selectColumns(Math.max(l.from.col,0),i.col,i.row);else{const h=!o.inInSelection(i),d=n||r&&h;i.row<0&&i.col>=0&&!s.column?d&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?d&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?d&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}o.markEndSource()}function _ge(t){let{isLeftClick:e,coords:n,selection:r,controller:i,cellCoordsFactory:o}=t;if(!e)return;const s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),l=r.tableProps.countCols(),u=r.tableProps.countRows();r.markSource("mouse"),a&&!i.column?r.setRangeEnd(o(u-1,n.col)):s&&!i.row?r.setRangeEnd(o(n.row,l-1)):i.cell||r.setRangeEnd(n),r.markEndSource()}const Rge=new Map([["mousedown",gF],["mouseover",_ge],["touchstart",gF]]);function mF(t,e){let{coords:n,selection:r,controller:i,cellCoordsFactory:o}=e;Rge.get(t.type)({coords:n,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:t.shiftKey,isLeftClick:O1(t)||t.type==="touchstart",isRightClick:Mc(t)})}function Ege(t,e){xge(t,e),e.add(t)}function xge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tge(t,e,n){return(e=Mge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mge(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pF(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Eb="customBorders",Oge=90;var mE=new WeakSet;class Ige extends ft{constructor(){super(...arguments),Ege(this,mE),Tge(this,"savedBorders",[])}static get PLUGIN_KEY(){return Eb}static get PLUGIN_PRIORITY(){return Oge}isEnabled(){return!!this.hot.getSettings()[Eb]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>pF(mE,this,Age).call(this,e)),this.addHook("init",()=>pF(mE,this,Hge).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,n){let r=["top","bottom","start","end"],i=null;n&&(this.checkSettingsCohesion([n]),r=Object.keys(n),i=uE(n));const o=Nd(e),s=Qm(o,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});W(e,a=>{s(a).forAll((l,u)=>{W(r,c=>{this.prepareBorderFromCustomAdded(l,u,i,qfe(c))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const n=Nd(e),r=Qm(n,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),i=[];return W(e,o=>{r(o).forAll((s,a)=>{W(this.savedBorders,l=>{l.row===s&&l.col===a&&i.push(jf(l))})})}),i}clearBorders(e){e?this.setBorders(e):(W(this.savedBorders,n=>{this.clearBordersFromSelectionSettings(n.id),this.clearNullCellRange(),this.hot.removeCellMeta(n.row,n.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,n){this.checkSavedBorders(e)||this.savedBorders.push(e);const i=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,i,n)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:i})}prepareBorderFromCustomAdded(e,n,r,i){const o=this.hot.countRows(),s=this.hot.countCols();if(e>=o||n>=s)return;let a=cE(e,n);r&&(a=zfe(a,r),W(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,r),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(e,n,"borders",jf(a)),this.insertBorderIntoSettings(a,i)}prepareBorderFromCustomAddedRange(e,n){const r=Math.min(e.to.row,this.hot.countRows()-1),i=Math.min(e.to.col,this.hot.countCols()-1);Ce(e.from.row,r,o=>{Ce(e.from.col,i,s=>{const a=cE(o,s);let l=0;o===e.from.row&&An(n,"top")&&(l+=1,a.top=n.top),o===e.to.row&&An(n,"bottom")&&(l+=1,a.bottom=n.bottom),s===e.from.col&&An(n,"start")&&(l+=1,a.start=n.start),s===e.to.col&&An(n,"end")&&(l+=1,a.end=n.end),l>0&&(this.hot.setCellMeta(o,s,"borders",jf(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,n){const r=oG(e,n);this.spliceBorder(r),this.clearBordersFromSelectionSettings(r),this.clearNullCellRange(),this.hot.removeCellMeta(e,n,"borders")}setBorder(e,n,r,i){let o=this.hot.getCellMeta(e,n).borders;!o||o.border===void 0?o=cE(e,n):o=uE(o),i?(o[r]=Pa(),this.countHide(o)===4?this.removeAllBorders(e,n):(this.checkCustomSelectionsFromContextMenu(o,r,i)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,n,"borders",jf(o)))):(o[r]=Mg(),this.checkCustomSelectionsFromContextMenu(o,r,i)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,n,"borders",jf(o)))}prepareBorder(e,n,r){W(e,i=>{let{start:o,end:s}=i;if(o.row===s.row&&o.col===s.col)n==="noBorders"?this.removeAllBorders(o.row,o.col):this.setBorder(o.row,o.col,n,r);else switch(n){case"noBorders":Ce(o.col,s.col,a=>{Ce(o.row,s.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Ce(o.col,s.col,a=>{this.setBorder(o.row,a,n,r)});break;case"bottom":Ce(o.col,s.col,a=>{this.setBorder(s.row,a,n,r)});break;case"start":Ce(o.row,s.row,a=>{this.setBorder(a,o.col,n,r)});break;case"end":Ce(o.row,s.row,a=>{this.setBorder(a,s.col,n,r)});break}})}createCustomBorders(e){W(e,n=>{const r=uE(n);n.range?this.prepareBorderFromCustomAddedRange(n.range,r):this.prepareBorderFromCustomAdded(n.row,n.col,r)})}countHide(e){const{top:n,bottom:r,start:i,end:o}=e;return li([n,r,i,o],(a,l)=>{let u=a;return l&&l.hide&&(u+=1),u},0)}clearBordersFromSelectionSettings(e){const n=nt(this.hot.selection.highlight.customSelections,r=>r.settings.id).indexOf(e);n>-1&&this.hot.selection.highlight.customSelections[n].clear()}clearNullCellRange(){W(this.hot.selection.highlight.customSelections,(e,n)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[n].destroy(),this.hot.selection.highlight.customSelections.splice(n,1),!1})}hideBorders(){W(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){const n=nt(this.savedBorders,r=>r.id).indexOf(e);n>-1&&this.savedBorders.splice(n,1)}checkSavedBorders(e){let n=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),n=!0):W(this.savedBorders,(i,o)=>{if(e.id===i.id)return this.savedBorders[o]=e,n=!0,!1}),n}checkCustomSelectionsFromContextMenu(e,n,r){let i=!1;return W(this.hot.selection.highlight.customSelections,o=>{if(e.id===o.settings.id){const s=this.hot.view._wt.selectionManager.getBorderInstances(o);return W(s,a=>{a.toggleHiddenClass(n,r)}),i=!0,!1}}),i}checkCustomSelections(e,n,r){const i=this.countHide(e);let o=!1;return i===4?(this.removeAllBorders(e.row,e.col),o=!0):W(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){if(s.visualCellRange=n,s.commit(),r){const a=this.hot.view._wt.selectionManager.getBorderInstances(s);W(a,l=>{l.changeBorderStyle(r,e)})}return o=!0,!1}}),o}changeBorderSettings(){const e=this.hot.getSettings()[Eb];if(Array.isArray(e)){const n=Dr(e);this.checkSettingsCohesion(n),n.length||(this.savedBorders=n),this.createCustomBorders(n)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const n=Yfe(e),r=Gfe(e);if(n&&r)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&n)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function Age(t){this.hot.getSettings()[Eb]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(gP)},disabled(){const e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[ege(this),Qfe(this),Xfe(this),Zfe(this),Jfe(this)]}})}function Hge(){this.changeBorderSettings()}function kge(t,e){Nge(t,e),e.add(t)}function Nge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pE(t,e,n){return(e=Dge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dge(t){var e=$ge(t,"string");return typeof e=="symbol"?e:e+""}function $ge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vF(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const wF="dragToScroll",Lge=100;var vE=new WeakSet;class Fge extends ft{constructor(){super(...arguments),kge(this,vE),pE(this,"boundaries",null),pE(this,"callback",null),pE(this,"listening",!1)}static get PLUGIN_KEY(){return wF}static get PLUGIN_PRIORITY(){return Lge}isEnabled(){return!!this.hot.getSettings()[wF]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>vF(vE,this,bF).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>vF(vE,this,bF).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,n){let r=0,i=0;n<this.boundaries.top?i=n-this.boundaries.top:n>this.boundaries.bottom&&(i=n-this.boundaries.bottom),e<this.boundaries.left?r=e-this.boundaries.left:e>this.boundaries.right&&(r=e-this.boundaries.right),this.callback(r,i)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let n=e;for(;n;)this.eventManager.addEventListener(n.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mousemove",r=>this.onMouseMove(r)),n=Pd(n)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function bF(t){if(Mc(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((n,r)=>{var i,o;const s=(i=e.scrollLeft)!==null&&i!==void 0?i:e.scrollX,a=(o=e.scrollTop)!==null&&o!==void 0?o:e.scrollY;e.scroll(s+Math.sign(n)*50,a+Math.sign(r)*20)}),this.listen()}function Vge(t,e){cG(t,e),e.add(t)}function Wge(t,e,n){cG(t,e),e.set(t,n)}function cG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wE(t,e,n){return(e=Bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=jge(t,"string");return typeof e=="symbol"?e:e+""}function jge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uge(t,e){return t.get(Vi(t,e))}function hG(t,e,n){return t.set(Vi(t,e),n),n}function Vi(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("afterDropdownMenuDefaultOptions");de.getSingleton().register("beforeDropdownMenuShow");de.getSingleton().register("afterDropdownMenuShow");de.getSingleton().register("afterDropdownMenuHide");de.getSingleton().register("afterDropdownMenuExecute");const xb="dropdownMenu",zge=230,tp="changeType",bE=xb;var iS=new WeakMap,_o=new WeakSet;class oS extends ft{static get PLUGIN_KEY(){return xb}static get PLUGIN_PRIORITY(){return zge}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[Gp,Kp,Ke,Xp,Ke,GC,Ke,qp,Ke,Fi]}constructor(e){super(e),Vge(this,_o),wE(this,"commandExecutor",new GY(this.hot)),wE(this,"itemsFactory",null),wE(this,"menu",null),Wge(this,iS,!1),this.hot.addHook("afterGetColHeader",(n,r)=>Vi(_o,this,Gge).call(this,n,r))}isEnabled(){return this.hot.getSettings()[xb]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new KY(this.hot,oS.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Vi(_o,e,Qge).call(e,...o)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Vi(_o,e,Jge).call(e,...o)});const n=this.hot.getSettings()[xb],r={items:this.itemsFactory.getItems(n)};this.registerEvents(),typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);const i=this.itemsFactory.getItems(n);this.menu&&this.menu.destroy(),this.menu=new ef(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",i),this.menu.setMenuItems(i),this.menu.addLocalHook("beforeOpen",()=>Vi(_o,this,Kge).call(this)),this.menu.addLocalHook("afterOpen",()=>Vi(_o,this,qge).call(this)),this.menu.addLocalHook("afterSubmenuOpen",o=>Vi(_o,this,Xge).call(this,o)),this.menu.addLocalHook("afterClose",()=>Vi(_o,this,Zge).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e.executeCommand.call(e,...s)}),W(i,o=>this.commandExecutor.registerCommand(o.key,o))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),n=()=>{const{highlight:r}=this.hot.getSelectedRangeLast();if((r.isHeader()&&r.row===-1||r.isCell())&&r.col>=0){this.hot.selectColumns(r.col,r.col,-1);const{from:i}=this.hot.getSelectedRangeLast(),o=YC(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,i.col,!0).querySelector(`.${tp}`),a=s.getBoundingClientRect();this.open({left:a.left+o.left,top:a.top+s.offsetHeight+o.top},{left:a.width,right:0,above:0,below:3}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:n,runOnlyIf:()=>{var r;const i=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:bE},{keys:[["Shift","Alt","ArrowDown"]],callback:n,runOnlyIf:()=>{var r;const i=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isCell()&&!this.menu.isOpened()},group:bE}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(bE)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>Vi(_o,this,Yge).call(this,e))}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.menu.open(),Xe(r,(i,o)=>{this.menu.setOffset(o,i)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.commandExecutor.execute(e,...r)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function dG(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function Yge(t){if(Me(t.target,tp)){const e=YC(this.menu.container,this.hot.rootDocument),n=t.target.getBoundingClientRect();t.stopPropagation(),hG(iS,this,!1),this.open({left:n.left+e.left,top:n.top+t.target.offsetHeight+e.top},{left:n.width,right:0,above:0,below:3})}}function Gge(t,e){const n=e.parentNode;if(!n)return;const r=n.parentNode.childNodes,i=Array.prototype.indexOf.call(r,n);if(t<0||i!==r.length-1)return;const o=e.querySelector(`.${tp}`);if(this.enabled&&o)return;if(!this.enabled){o&&o.parentNode.removeChild(o);return}const s=this.hot.rootDocument.createElement("button");s.className=tp,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(Oe(s,[zc(),Km(" ")]),Oe(e,[jU("menu")])),s.onclick=function(){return!1},e.firstChild.insertBefore(s,e.firstChild.firstChild)}function Kge(){this.hot.runHooks("beforeDropdownMenuShow",this)}function qge(){this.hot.runHooks("afterDropdownMenuShow",this),Vi(_o,this,dG).call(this,this.menu)}function Xge(t){Vi(_o,this,dG).call(this,t)}function Zge(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function Jge(t){return Uge(iS,this)?null:t}function Qge(t){Me(t.target,tp)&&hG(iS,this,!0)}oS.SEPARATOR={name:Ke};function yF(t,e,n){return(e=eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return typeof e=="symbol"?e:e+""}function tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nme{constructor(e){yF(this,"hot",void 0),yF(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:n,endRow:r,endCol:i}=this._getDataRange(),o=this.options,s=[];return Ce(e,r,a=>{const l=[];!o.exportHiddenRows&&this._isHiddenRow(a)||(Ce(n,i,u=>{!o.exportHiddenColumns&&this._isHiddenColumn(u)||l.push(this.hot.getDataAtCell(a,u))}),s.push(l))}),s}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:n,endRow:r}=this._getDataRange(),i=this.hot.getRowHeader();Ce(n,r,o=>{!this.options.exportHiddenRows&&this._isHiddenRow(o)||e.push(i[o])})}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:n,endCol:r}=this._getDataRange(),i=this.hot.getColHeader();Ce(n,r,o=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(o)||e.push(i[o])})}return e}_getDataRange(){const e=this.hot.countCols()-1,n=this.hot.countRows()-1;let[r=0,i=0,o=n,s=e]=this.options.range;return r=Math.max(r,0),i=Math.max(i,0),o=Math.min(o,n),s=Math.min(s,e),{startRow:r,startCol:i,endRow:o,endCol:s}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}function CF(t,e,n){return(e=rme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rme(t){var e=ime(t,"string");return typeof e=="symbol"?e:e+""}function ime(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KO{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,n){CF(this,"dataProvider",void 0),CF(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let n=$s(this.constructor.DEFAULT_OPTIONS);const r=new Date;return n=kn($s(KO.DEFAULT_OPTIONS),n),n=kn(n,e),n.filename=VU(n.filename,{YYYY:r.getFullYear(),MM:`${r.getMonth()+1}`.padStart(2,"0"),DD:`${r.getDate()}`.padStart(2,"0")}),n}}function ome(t,e){sme(t,e),e.add(t)}function sme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function SF(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const fG="\r",ame='"',lme=`
`,ume="=",cme="+",hme="-",dme="@",fme="	";var yE=new WeakSet;class gme extends KO{constructor(){super(...arguments),ome(this,yE)}static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`,sanitizeValues:!1}}export(){const e=this.options,n=this.dataProvider.getData();let r=this.dataProvider.getColumnHeaders();const i=r.length>0,o=this.dataProvider.getRowHeaders(),s=o.length>0;let a=e.bom?"\uFEFF":"";return i&&(r=nt(r,l=>this._escapeCell(l,{force:!0,sanitizeValue:e.sanitizeValues})),s&&(a+=e.columnDelimiter),a+=r.join(e.columnDelimiter),a+=e.rowDelimiter),W(n,(l,u)=>{u>0&&(a+=e.rowDelimiter),s&&(a+=this._escapeCell(o[u],{sanitizeValue:e.sanitizeValues}),a+=e.columnDelimiter);const c=l.map(h=>this._escapeCell(h,{sanitizeValue:e.sanitizeValues})).join(e.columnDelimiter);a+=c}),a}_escapeCell(e){let{force:n=!1,sanitizeValue:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=tn(e);return i===""||(r&&(n=!0),r instanceof RegExp?i=SF(yE,this,pme).call(this,i,r):typeof r=="function"?i=r(i):r&&(i=SF(yE,this,mme).call(this,i)),(n||i.indexOf(fG)>=0||i.indexOf(ame)>=0||i.indexOf(lme)>=0||i.indexOf(this.options.columnDelimiter)>=0)&&(i=i.replace(new RegExp('"',"g"),'""'),i=`"${i}"`)),i}}function mme(t){return t.startsWith(ume)||t.startsWith(cme)||t.startsWith(hme)||t.startsWith(dme)||t.startsWith(fme)||t.startsWith(fG)?`'${t}`:t}function pme(t,e){return e.test(t)?`'${t}`:t}const vme="csv",LT={[vme]:gme};function wme(t,e,n){return typeof LT[t]=="function"?new LT[t](e,n):null}const bme="exportFile",yme=240;class Cme extends ft{static get PLUGIN_KEY(){return bme}static get PLUGIN_PRIORITY(){return yme}isEnabled(){return!0}exportAsString(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,n).export()}exportAsBlob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,n))}downloadFile(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{rootDocument:r,rootWindow:i}=this.hot,o=this._createTypeFormatter(e,n),s=this._createBlob(o),a=i.URL||i.webkitURL,l=r.createElement("a"),u=`${o.options.filename}.${o.options.fileExtension}`;if(l.download!==void 0){const c=a.createObjectURL(s);l.style.display="none",l.setAttribute("href",c),l.setAttribute("download",u),r.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),r.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(c)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,u)}_createTypeFormatter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!LT[e])throw new Error(`Export format type "${e}" is not supported.`);return wme(e,new nme(this.hot),n)}_createBlob(e){let n=null;return typeof Blob<"u"&&(n=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),n}}function Sh(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=_me(t,"string");return typeof e=="symbol"?e:e+""}function _me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zp{constructor(e,n){let{id:r,stateless:i=!0}=n;Sh(this,"hot",void 0),Sh(this,"id",void 0),Sh(this,"elements",[]),Sh(this,"hidden",!1),Sh(this,"stateId",""),Sh(this,"state",void 0),this.hot=e,this.id=r,this.stateId=`Filters.component.${this.id}`,this.state=i?null:this.hot.columnIndexMapper.registerMap(this.stateId,new zC)}getElements(){return this.elements}reset(){W(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),W(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}}It(Zp,or);const np={};function zl(t,e){if(!np[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:n,descriptor:r}=np[t];let i=e;return r.inputValuesDecorator&&(i=r.inputValuesDecorator(i)),function(o){return n.apply(o.meta.instance,[].concat([o],[i]))}}function cc(t){if(!np[t])throw Error(`Filter condition "${t}" does not exist.`);return np[t].descriptor}function Tn(t,e,n){n.key=t,np[t]={condition:e,descriptor:n}}const Gn="none";function Rme(){return!0}Tn(Gn,Rme,{name:DC,inputsCount:0,showOperators:!1});const tm="empty";function Eme(t){return bn(t.value)}Tn(tm,Eme,{name:xP,inputsCount:0,showOperators:!0});const Tb="not_empty";function xme(t,e){return!zl(tm,e)(t)}Tn(Tb,xme,{name:TP,inputsCount:0,showOperators:!0});const nm="eq";function Tme(t,e){let[n]=e;return tn(t.value).toLocaleLowerCase(t.meta.locale)===tn(n)}Tn(nm,Tme,{name:MP,inputsCount:1,showOperators:!0});const Mb="neq";function Mme(t,e){return!zl(nm,e)(t)}Tn(Mb,Mme,{name:PP,inputsCount:1,showOperators:!0});const gG="gt";function Pme(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>r}Tn(gG,Pme,{name:kP,inputsCount:1,showOperators:!0});const mG="gte";function Ome(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>=r}Tn(mG,Ome,{name:NP,inputsCount:1,showOperators:!0});const pG="lt";function Ime(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<r}Tn(pG,Ime,{name:DP,inputsCount:1,showOperators:!0});const vG="lte";function Ame(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<=r}Tn(vG,Ame,{name:$P,inputsCount:1,showOperators:!0});const qO="date_after";function Hme(t,e){let[n]=e;const r=ne(t.value,t.meta.dateFormat),i=ne(n,t.meta.dateFormat);return!r.isValid()||!i.isValid()?!1:r.diff(i)>=0}Tn(qO,Hme,{name:VP,inputsCount:1,showOperators:!0});const XO="date_before";function kme(t,e){let[n]=e;const r=ne(t.value,t.meta.dateFormat),i=ne(n,t.meta.dateFormat);return!r.isValid()||!i.isValid()?!1:r.diff(i)<=0}Tn(XO,kme,{name:WP,inputsCount:1,showOperators:!0});const _y="between";function Nme(t,e){let[n,r]=e,i=n,o=r;if(t.meta.type==="numeric"){const s=parseFloat(i,10),a=parseFloat(o,10);i=Math.min(s,a),o=Math.max(s,a)}else if(t.meta.type==="date"){const s=zl(XO,[o]),a=zl(qO,[i]);return s(t)&&a(t)}return t.value>=i&&t.value<=o}Tn(_y,Nme,{name:LP,inputsCount:2,showOperators:!0});const wG="not_between";function Dme(t,e){return!zl(_y,e)(t)}Tn(wG,Dme,{name:FP,inputsCount:2,showOperators:!0});const bG="begins_with";function $me(t,e){let[n]=e;return tn(t.value).toLocaleLowerCase(t.meta.locale).startsWith(tn(n))}Tn(bG,$me,{name:OP,inputsCount:1,showOperators:!0});const yG="ends_with";function Lme(t,e){let[n]=e;return tn(t.value).toLocaleLowerCase(t.meta.locale).endsWith(tn(n))}Tn(yG,Lme,{name:IP,inputsCount:1,showOperators:!0});const ZO="contains";function Fme(t,e){let[n]=e;return tn(t.value).toLocaleLowerCase(t.meta.locale).indexOf(tn(n))>=0}Tn(ZO,Fme,{name:AP,inputsCount:1,showOperators:!0});const CG="not_contains";function Vme(t,e){return!zl(ZO,e)(t)}Tn(CG,Vme,{name:HP,inputsCount:1,showOperators:!0});const SG="date_tomorrow";function Wme(t){const e=ne(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ne().subtract(-1,"days").startOf("day"),"d"):!1}Tn(SG,Wme,{name:jP,inputsCount:0});const _G="date_today";function Bme(t){const e=ne(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ne().startOf("day"),"d"):!1}Tn(_G,Bme,{name:BP,inputsCount:0});const RG="date_yesterday";function jme(t){const e=ne(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ne().subtract(1,"days").startOf("day"),"d"):!1}Tn(RG,jme,{name:UP,inputsCount:0});Ote();function Ume(t,e){let n=t;return n===""&&(n=`(${e})`),n}function Jp(t){const e=new Set(t);return function(n){return e.has(n)}}function JO(t){return t??""}function FT(t){return Array.from(new Set(t)).map(e=>JO(e)).sort((e,n)=>typeof e=="number"&&typeof n=="number"?e-n:e===n?0:e>n?1:-1)}function _F(t,e,n,r){const i=[],o=t===e;let s;return o||(s=Jp(e)),t.forEach(a=>{let l=!1;(o||s(a))&&(l=!0);const u={checked:l,value:a,visualValue:Ume(a,n)};r&&r(u),i.push(u)}),i}const hc="by_value";function zme(t,e){let[n]=e;return n(t.value)}Tn(hc,zme,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[Jp(e)]},showOperators:!1});const rp={};function Yme(t){if(!rp[t])throw Error(`Operation with id "${t}" does not exist.`);const e=rp[t].func;return function(n,r){return e(n,r)}}function Gme(t){return rp[t].name}function QO(t,e,n){rp[t]={name:e,func:n}}const Wl="conjunction",Kme=GP;function qme(t,e){return t.every(n=>n.func(e))}QO(Wl,Kme,qme);const Ry="disjunction",Xme=$C;function Zme(t,e){return t.some(n=>n.func(e))}QO(Ry,Xme,Zme);const eI="disjunctionWithExtraCondition",Jme=$C;function Qme(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(n=>n.func(e))&&t[t.length-1].func(e)}QO(eI,Jme,Qme);const epe="numeric",EG="text",tpe="date",RF={[epe]:[Gn,Ke,tm,Tb,Ke,nm,Mb,Ke,gG,mG,pG,vG,_y,wG],[EG]:[Gn,Ke,tm,Tb,Ke,nm,Mb,Ke,bG,yG,Ke,ZO,CG],[tpe]:[Gn,Ke,tm,Tb,Ke,nm,Mb,Ke,XO,qO,_y,Ke,SG,_G,RG]};function npe(t){const e=[];let n=t;return RF[n]||(n=EG),W(RF[n],r=>{let i;r===Ke?i={name:Ke}:i=$s(cc(r)),e.push(i)}),e}function Yf(t,e,n){return(e=rpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rpe(t){var e=ipe(t,"string");return typeof e=="symbol"?e:e+""}function ipe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const CE="built",SE="building",EF=["click","input","keydown","keypress","keyup","focus","blur","change"];let ko=class xG{static get DEFAULTS(){return $s({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,n){Yf(this,"hot",void 0),Yf(this,"eventManager",new Vo(this)),Yf(this,"options",void 0),Yf(this,"_element",void 0),Yf(this,"buildState",void 0),this.hot=e,this.options=kn(xG.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===SE?this._element:this.buildState===CE?(this.update(),this._element):(this.buildState=SE,this.build(),this.buildState=CE,this._element)}isBuilt(){return this.buildState===CE}translateIfPossible(e){return typeof e=="string"&&e.startsWith(Fr)?this.hot.getTranslatedPhrase(e):e}build(){const e=(n,r)=>{this.eventManager.addEventListener(n,r,i=>this.runLocalHooks(r,i,this))};if(this.buildState||(this.buildState=SE),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&Q(this._element,this.options.className),this.options.children.length)W(this.options.children,n=>this._element.appendChild(n.element));else if(this.options.wrapIt){const n=this.hot.rootDocument.createElement(this.options.tagName);n.setAttribute("data-hot-input",!0),Xe(this.options,(r,i)=>{n[i]!==void 0&&i!=="className"&&i!=="tagName"&&i!=="children"&&(n[i]=this.translateIfPossible(r))}),this._element.appendChild(n),W(EF,r=>e(n,r))}else W(EF,n=>e(this._element,n))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};It(ko,or);function ope(t,e){TG(t,e),e.add(t)}function spe(t,e,n){TG(t,e),e.set(t,n)}function TG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kv(t,e){return t.get(tI(t,e))}function ape(t,e,n){return t.set(tI(t,e),n),n}function tI(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var _h=new WeakMap,xF=new WeakSet;class Bl extends ko{static get DEFAULTS(){return $s({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,n){super(e,kn(Bl.DEFAULTS,n)),ope(this,xF),spe(this,_h,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>tI(xF,this,lpe).call(this,e))}build(){super.build();const e=this.hot.rootDocument.createElement("div");ape(_h,this,this._element.firstChild),Q(this._element,"htUIInput"),Q(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(Kv(_h,this).type=this.options.type,Kv(_h,this).placeholder=this.translateIfPossible(this.options.placeholder),Kv(_h,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&Kv(_h,this).focus()}}function lpe(t){this.options.value=t.target.value}function upe(t,e){MG(t,e),e.add(t)}function Gf(t,e,n){MG(t,e),e.set(t,n)}function MG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rh(t,e,n){return t.set(rm(t,e),n),n}function on(t,e){return t.get(rm(t,e))}function rm(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Fn=new WeakMap,qv=new WeakMap,Xv=new WeakMap,_E=new WeakMap,Zv=new WeakMap,Jv=new WeakSet;class ip extends ko{static get DEFAULTS(){return $s({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,n){super(e,kn(ip.DEFAULTS,n)),upe(this,Jv),Gf(this,Fn,null),Gf(this,qv,[]),Gf(this,Xv,void 0),Gf(this,_E,void 0),Gf(this,Zv,void 0),this.registerHooks()}getMenu(){return on(Fn,this)}registerHooks(){this.addLocalHook("click",()=>rm(Jv,this,dpe).call(this))}setItems(e){Rh(qv,this,this.translateNames(e)),on(Fn,this)&&on(Fn,this).setMenuItems(on(qv,this))}translateNames(e){return W(e,n=>{n.name=this.translateIfPossible(n.name)}),e}build(){super.build(),Rh(Fn,this,new ef(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),on(Fn,this).setMenuItems(on(qv,this));const e=new ko(this.hot,{className:"htUISelectCaption"}),n=new ko(this.hot,{className:"htUISelectDropdown"});Rh(Xv,this,e),Rh(_E,this,e.element),Rh(Zv,this,n),this.hot.getSettings().ariaTags&&(Oe(n.element,[zc()]),Oe(this._element,[BU()])),W([e,n],r=>this._element.appendChild(r.element)),on(Fn,this).addLocalHook("select",r=>rm(Jv,this,cpe).call(this,r)),on(Fn,this).addLocalHook("afterClose",()=>rm(Jv,this,hpe).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=on(Fn,this).hot.getTranslatedPhrase(DC),on(_E,this).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();on(Fn,this)&&(on(Fn,this).open(),on(Fn,this).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),on(Fn,this).getNavigator().toFirstItem(),on(Fn,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:n=>{this.closeOptions(),this.runLocalHooks("tabKeydown",n)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){on(Fn,this)&&on(Fn,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){on(Fn,this)&&(on(Fn,this).destroy(),Rh(Fn,this,null)),on(Xv,this)&&on(Xv,this).destroy(),on(Zv,this)&&on(Zv,this).destroy(),super.destroy()}}function cpe(t){t.name!==Ke&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function hpe(){this.runLocalHooks("afterClose")}function dpe(){this.openOptions()}function fpe(t,e){gpe(t,e),e.add(t)}function gpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function TF(t,e,n){return(e=mpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mpe(t){var e=ppe(t,"string");return typeof e=="symbol"?e:e+""}function ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MF(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var RE=new WeakSet;class VT extends Zp{constructor(e,n){super(e,{id:n.id,stateless:!1}),fpe(this,RE),TF(this,"name",""),TF(this,"addSeparator",!1),this.name=n.name,this.addSeparator=n.addSeparator,this.elements.push(new ip(this.hot,{menuContainer:n.menuContainer})),this.elements.push(new Bl(this.hot,{placeholder:QP})),this.elements.push(new Bl(this.hot,{placeholder:eO})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>MF(RE,this,vpe).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),W(this.getInputElements(),e=>{e.addLocalHook("keydown",n=>MF(RE,this,wpe).call(this,n))})}setState(e){if(this.reset(),!e)return;const n=$s(e.command);n.name.startsWith(dn)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),W(e.args,(r,i)=>{if(i>n.inputsCount-1)return!1;const o=this.getInputElement(i);o.setValue(r),o[n.inputsCount>i?"show":"hide"](),i||this.hot._registerTimeout(()=>o.focus(),10)})}getState(){const e=this.getSelectElement().getValue()||cc(Gn),n=[];return W(this.getInputElements(),(r,i)=>{e.inputsCount>i&&n.push(r.getValue())}),{command:e,args:n}}updateState(e,n){const r=cc(e?e.name:Gn);this.state.setValueAtIndex(n,{command:r,args:e?e.args:[]}),e||W(this.getInputElements(),i=>i.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof ip)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof Bl)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,i,o,s)=>{Q(n.parentNode,"htFiltersMenuCondition"),this.addSeparator&&Q(n.parentNode,"border");const a=this.hot.rootDocument.createElement("div");return Q(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||W(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let n=[cc(Gn)];if(e!==null){const{visualIndex:r}=e;n=npe(this.hot.getDataType(0,r,this.hot.countRows(),r))}W(this.getInputElements(),r=>r.hide()),this.getSelectElement().setItems(n),super.reset(),this.getSelectElement().setValue(n[0])}}function vpe(t){W(this.getInputElements(),(e,n)=>{e[t.inputsCount>n?"show":"hide"](),n===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function wpe(t){Lp(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),jo(t))}function PF(t,e,n){bpe(t,e),e.set(t,n)}function bpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kf(t,e){return t.get(PG(t,e))}function OF(t,e,n){return t.set(PG(t,e),n),n}function PG(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Eh=new WeakMap,EE=new WeakMap;class Ey extends ko{static get DEFAULTS(){return $s({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,n){super(e,kn(Ey.DEFAULTS,n)),PF(this,Eh,void 0),PF(this,EE,void 0)}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),OF(EE,this,e),OF(Eh,this,this._element.firstChild),Kf(Eh,this).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(Kf(EE,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?Kf(Eh,this).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(Kf(Eh,this).checked=e)}focus(){this.isBuilt()&&Kf(Eh,this).focus()}}function ype(t,e){Cpe(t,e),e.add(t)}function Cpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Spe(t,e,n){return(e=_pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _pe(t){var e=Rpe(t,"string");return typeof e=="symbol"?e:e+""}function Rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Epe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const IF=0;var AF=new WeakSet;class xpe extends Zp{constructor(e,n){super(e,{id:n.id,stateless:!1}),ype(this,AF),Spe(this,"name",""),this.name=n.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(Q(n.parentNode,"htFiltersMenuOperators"),W(this.elements,r=>n.appendChild(r.element)),n)}}buildOperatorsElement(){const e=[Wl,Ry];W(e,n=>{const r=new Ey(this.hot,{name:"operator",label:{htmlFor:n,textContent:Gme(n)},value:n,checked:n===e[IF],id:n});r.addLocalHook("change",i=>Epe(AF,this,Tpe).call(this,i)),this.elements.push(r)})}setChecked(e){if(this.elements.length<e)throw Error(yt`Radio button with index ${e} doesn't exist.`);W(this.elements,(n,r)=>{n.setChecked(r===e)})}getActiveOperationId(){const e=this.elements.find(n=>n instanceof Ey&&n.isChecked());return e?e.getValue():Wl}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&W(this.elements,n=>{n.setChecked(n.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wl,n=arguments.length>1?arguments[1]:void 0,r=e;r===eI&&(r=Ry),this.state.setValueAtIndex(n,r)}reset(){this.setChecked(IF)}}function Tpe(t){this.setState(t.target.value)}const Mpe="ABCDEFGHIJKLMNOPQRSTUVWXYZ",HF=Mpe.length;function Ppe(t){let e=t+1,n="",r;for(;e>0;)r=(e-1)%HF,n=String.fromCharCode(65+r)+n,e=parseInt((e-r)/HF,10);return n}function OG(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t;const r=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(n=[t]),n.forEach((i,o)=>{Array.isArray(i)?i.forEach((s,a)=>{r.push([o+e,a,s])}):Object.keys(i).forEach(s=>{r.push([o+e,s,i[s]])})}),r}function IG(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&qe(t[0])&&(e=_1(t[0]))),e}function Ope(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function Ipe(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function Ape(t,e,n){Hpe(t,e),e.set(t,n)}function Hpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xE(t,e){return t.get(AG(t,e))}function kpe(t,e,n){return t.set(AG(t,e),n),n}function AG(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var qf=new WeakMap;class op extends ko{static get DEFAULTS(){return $s({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,n){super(e,kn(op.DEFAULTS,n)),Ape(this,qf,void 0)}build(){super.build(),kpe(qf,this,this._element.firstChild)}update(){this.isBuilt()&&(xE(qf,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&xE(qf,this).focus()}activate(){xE(qf,this).click()}}function Npe(t,e){HG(t,e),e.add(t)}function xh(t,e,n){HG(t,e),e.set(t,n)}function HG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function De(t,e){return t.get(rd(t,e))}function fo(t,e,n){return t.set(rd(t,e),n),n}function rd(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const kF="multipleSelect.itemBox";var Ro=new WeakMap,mn=new WeakMap,TE=new WeakMap,na=new WeakMap,rl=new WeakMap,il=new WeakMap,Xf=new WeakSet;class sp extends ko{static get DEFAULTS(){return $s({className:"htUIMultipleSelect",value:[]})}constructor(e,n){super(e,kn(sp.DEFAULTS,n)),Npe(this,Xf),xh(this,Ro,[]),xh(this,mn,void 0),xh(this,TE,void 0),xh(this,na,void 0),xh(this,rl,void 0),xh(this,il,void 0),fo(na,this,new Bl(this.hot,{placeholder:JP,className:"htUIMultipleSelectSearch"})),fo(rl,this,new op(this.hot,{textContent:KP,className:"htUISelectAll"})),fo(il,this,new op(this.hot,{textContent:qP,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return De(mn,this)}registerHooks(){De(na,this).addLocalHook("keydown",e=>rd(Xf,this,$pe).call(this,e)),De(na,this).addLocalHook("input",e=>rd(Xf,this,Dpe).call(this,e)),De(rl,this).addLocalHook("click",e=>rd(Xf,this,Lpe).call(this,e)),De(il,this).addLocalHook("click",e=>rd(Xf,this,Fpe).call(this,e))}setItems(e){var n;fo(Ro,this,e),(n=De(mn,this))===null||n===void 0||n.loadData(De(Ro,this))}setLocale(e){fo(TE,this,e)}getLocale(){return De(TE,this)}getItems(){return[...De(Ro,this)]}getValue(){return Wpe(De(Ro,this))}getSearchInputElement(){return De(na,this)}getSelectAllElement(){return De(rl,this)}getClearAllElement(){return De(il,this)}isSelectedAllValues(){return De(Ro,this).length===this.getValue().length}build(){super.build();const{rootDocument:e}=this.hot,n=e.createElement("div"),r=new ko(this.hot,{className:"htUISelectionControls",children:[De(rl,this),De(il,this)]});this._element.appendChild(De(na,this).element),this._element.appendChild(r.element),this._element.appendChild(n);const i=o=>{var s;if(!this._element)return;(s=De(mn,this))===null||s===void 0||s.destroy(),Q(o,"htUIMultipleSelectHot"),fo(mn,this,new this.hot.constructor(o,{data:De(Ro,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(u,c,h,d,f,g)=>{u.title=g.instance.getDataAtRowProp(c,g.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{De(mn,this).listen()},modifyColWidth:u=>{const c=De(mn,this).container.scrollWidth-Xn(e);return u!==void 0&&u<c?c:u},maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},themeName:this.hot.getCurrentThemeName(),layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),De(mn,this).init(),this.hot.addHook("afterSetTheme",(u,c)=>{c||De(mn,this).useTheme(u)});const l=De(mn,this).getShortcutManager().getContext("grid");l.removeShortcutsByKeys(["Tab"]),l.removeShortcutsByKeys(["Shift","Tab"]),l.addShortcut({keys:[["Escape"]],callback:u=>{this.runLocalHooks("keydown",u,this)},group:kF}),l.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:u=>{De(mn,this).deselectCell(),this.runLocalHooks("keydown",u,this),this.runLocalHooks("listTabKeydown",u,this)},group:kF})};i(n),this.hot._registerTimeout(()=>i(n),100)}focus(){this.isBuilt()&&De(mn,this).listen()}reset(){De(na,this).reset(),De(rl,this).reset(),De(il,this).reset()}update(){this.isBuilt()&&(De(mn,this).loadData(Vpe(De(Ro,this),this.options.value)),super.update())}destroy(){var e;(e=De(mn,this))===null||e===void 0||e.destroy(),De(na,this).destroy(),De(il,this).destroy(),De(rl,this).destroy(),fo(na,this,null),fo(il,this,null),fo(rl,this,null),fo(mn,this,null),fo(Ro,this,null),super.destroy()}}function Dpe(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());let n;e===""?n=[...De(Ro,this)]:n=De(Ro,this).filter(r=>`${r.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),De(mn,this).loadData(n)}function $pe(t){this.runLocalHooks("keydown",t,this),mz(Lp,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),jo(t),De(mn,this).listen(),De(mn,this).selectCell(0,0))}function Lpe(t){const e=[];t.preventDefault(),De(mn,this).getSourceData().forEach((n,r)=>{n.checked=!0,e.push(OG(n,r)[0])}),De(mn,this).setSourceDataAtCell(e)}function Fpe(t){const e=[];t.preventDefault(),De(mn,this).getSourceData().forEach((n,r)=>{n.checked=!1,e.push(OG(n,r)[0])}),De(mn,this).setSourceDataAtCell(e)}function Vpe(t,e){const n=Jp(e);return t.map(r=>(r.checked=n(r.value),r))}function Wpe(t){const e=[];return t.forEach(n=>{n.checked&&e.push(n.value)}),e}function Bpe(t,e){jpe(t,e),e.add(t)}function jpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Upe(t,e,n){return(e=zpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zpe(t){var e=Ype(t,"string");return typeof e=="symbol"?e:e+""}function Ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qv(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Zf=new WeakSet;class Gpe extends Zp{constructor(e,n){super(e,{id:n.id,stateless:!1}),Bpe(this,Zf),Upe(this,"name",""),this.name=n.name,this.elements.push(new sp(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>Qv(Zf,this,Kpe).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e)),this.hot.addHook("modifyFiltersMultiSelectValue",(e,n)=>Qv(Zf,this,qpe).call(this,e,n))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===hc){const n=this.getMultipleSelectElement();n.setItems(e.itemsSnapshot),n.setValue(e.args[0]),n.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),n=e.getItems();return{command:{key:e.isSelectedAllValues()||!n.length?Gn:hc},args:[e.getValue()],itemsSnapshot:n}}updateState(e){const n=(r,i,o,s,a)=>{const[l]=Ec(i,h=>h.name===hc),u={},c=this.hot.getTranslatedPhrase(hy);if(l){const h=s(r,a),d=nt(h,b=>b.value),f=new Map(h.map(b=>[b.value,this.hot.getCellMeta(b.meta.visualRow,b.meta.visualCol)])),g=FT(d);o&&(l.args[0]=o);const m=[],p=_F(g,l.args[0],c,b=>{b.checked&&m.push(b.value),Qv(Zf,this,NF).call(this,b,f)}),y=e.editedConditionStack.column;u.locale=this.hot.getCellMeta(0,y).locale,u.args=[m],u.command=cc(hc),u.itemsSnapshot=p}else u.args=[],u.command=cc(Gn);this.state.setValueAtIndex(r,u)};n(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&n(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof sp)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,i,o,s)=>{Q(n.parentNode,"htFiltersMenuValue");const a=this.hot.rootDocument.createElement("div");return Q(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||W(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getTranslatedPhrase(hy),n=this._getColumnVisibleValues(),r=n.map(l=>l.value),i=new Map(n.map(l=>[l.value,l.meta])),o=FT(r),s=_F(o,o,e,l=>{Qv(Zf,this,NF).call(this,l,i)});this.getMultipleSelectElement().setItems(s),super.reset(),this.getMultipleSelectElement().setValue(o);const a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:nt(this.hot.getDataAtCol(e.visualIndex),(n,r)=>({value:JO(n),meta:this.hot.getCellMeta(r,e.visualIndex)}))}}function Kpe(t){Lp(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),jo(t))}function NF(t,e){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(t.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",t.visualValue,e.get(t.value)))}function qpe(t,e){switch(e.type){case"numeric":return Lz(t,e);default:return t}}var kG;function Xpe(t,e){Zpe(t,e),e.add(t)}function Zpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jpe(t,e,n){return(e=Qpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qpe(t){var e=eve(t,"string");return typeof e=="symbol"?e:e+""}function eve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tve(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var DF=new WeakSet;class ap extends Zp{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,n){super(e,{id:n.id,stateless:!0}),Xpe(this,DF),Jpe(this,"name",""),this.name=n.name,this.elements.push(new Bl(this.hot,{type:"button",value:XP,className:"htUIButton htUIButtonOK",identifier:ap.BUTTON_OK})),this.elements.push(new Bl(this.hot,{type:"button",value:ZP,className:"htUIButton htUIButtonCancel",identifier:ap.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){W(this.elements,e=>{e.addLocalHook("click",(n,r)=>tve(DF,this,nve).call(this,n,r))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(Q(n.parentNode,"htFiltersMenuActionBar"),W(this.elements,r=>n.appendChild(r.element)),n)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}kG=ap;function nve(t,e){e.options.identifier===kG.BUTTON_OK?this.accept():this.cancel()}function ME(t,e,n){return(e=rve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rve(t){var e=ive(t,"string");return typeof e=="symbol"?e:e+""}function ive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const $F="ConditionCollection.filteringStates";class nI{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ME(this,"hot",void 0),ME(this,"isMapRegistrable",void 0),ME(this,"filteringStates",new zC),this.hot=e,this.isMapRegistrable=n,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap($F,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,n){var r;const i=this.filteringStates.getValueAtIndex(n),o=(r=i==null?void 0:i.conditions)!==null&&r!==void 0?r:[],s=i==null?void 0:i.operation;return this.isMatchInConditions(o,e,s)}isMatchInConditions(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wl;return e.length?Yme(r)(e,n):!0}addCondition(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wl,i=arguments.length>3?arguments[3]:void 0;const o=this.hot.getCellMeta(0,e).locale,s=n.args.map(c=>typeof c=="string"?c.toLocaleLowerCase(o):c),a=n.name||n.command.key;this.runLocalHooks("beforeAdd",e);const l=this.getOperation(e);if(l){if(l!==r)throw Error(yt`The column of index ${e} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(en(rp[r]))throw new Error(yt`Unexpected operation named \`${r}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const u=this.getConditions(e);u.length===0?this.filteringStates.setValueAtIndex(e,{operation:r,conditions:[{name:a,args:s,func:zl(a,s)}]},i):u.push({name:a,args:s,func:zl(a,s)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var n,r;return(n=(r=this.filteringStates.getValueAtIndex(e))===null||r===void 0?void 0:r.conditions)!==null&&n!==void 0?n:[]}getOperation(e){var n;return(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[n]=e;return n})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return this.filteringStates.getEntries().reduce((e,n)=>{let[r,{operation:i,conditions:o}]=n;return e.push({column:r,operation:i,conditions:o.map(s=>{let{name:a,args:l}=s;return{name:a,args:[...l]}})}),e},[])}importAllConditions(e){this.clean(),e.forEach(n=>{n.conditions.forEach(r=>this.addCondition(n.column,r))})}removeConditions(e){this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,n){const r=this.getConditions(e);return n?r.some(i=>i.name===n):r.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap($F),this.filteringStates=null,this.clearLocalHooks()}}It(nI,or);function LF(t,e,n){return(e=ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=sve(t,"string");return typeof e=="symbol"?e:e+""}function sve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NG{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];LF(this,"conditionCollection",void 0),LF(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=n}filter(){let e=[];return W(this.conditionCollection.getFilteredColumns(),(n,r)=>{let i=this.columnDataFactory(n);r&&(i=this._getIntersectData(i,e)),e=this.filterByColumn(n,i)}),e}filterByColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=[];return W(n,i=>{i!==void 0&&this.conditionCollection.isMatch(i,e)&&r.push(i)}),r}_getIntersectData(e,n){const r=[];return W(n,i=>{const o=i.meta.visualRow;e[o]!==void 0&&(r[o]=e[o])}),r}}function ave(t,e){lve(t,e),e.add(t)}function lve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tu(t,e,n){return(e=uve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uve(t){var e=cve(t,"string");return typeof e=="symbol"?e:e+""}function cve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PE(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ew=new WeakSet;class DG{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];ave(this,ew),Tu(this,"hot",void 0),Tu(this,"conditionCollection",void 0),Tu(this,"columnDataFactory",void 0),Tu(this,"changes",[]),Tu(this,"grouping",!1),Tu(this,"latestEditedColumnPosition",-1),Tu(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=n,this.columnDataFactory=r,this.conditionCollection.addLocalHook("beforeRemove",i=>PE(ew,this,hve).call(this,i)),this.conditionCollection.addLocalHook("afterRemove",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("afterAdd",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("beforeClean",()=>PE(ew,this,dve).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>PE(ew,this,fve).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,W(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,n){var r=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}const i=this.conditionCollection.exportAllConditions();let o=this.conditionCollection.getColumnStackPosition(e);o===-1&&(o=this.latestEditedColumnPosition);const s=i.slice(0,o),a=i.slice(o);a.length&&a[0].column===e&&a.shift();const l=jne(function(c,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const f=new nI(r.hot,!1),g=[].concat(c,d);f.importAllConditions(g);const m=r.columnDataFactory(h);let p;f.isEmpty()?p=m:p=new NG(f,b=>r.columnDataFactory(b)).filter(),p=nt(p,b=>b.meta.visualRow);const y=Jp(p);return f.destroy(),Ec(m,b=>y(b.meta.visualRow))})(s),u=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:u},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:n})}destroy(){this.clearLocalHooks(),Xe(this,(e,n)=>{this[n]=null})}}function hve(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function dve(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function fve(){W(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}It(DG,or);function gve(t){return XY({initialPage:0,size:()=>t.length,onItemSelect:(n,r)=>{const i=t[n];if(i instanceof sp)return r;if(i.element&&!Od(i.element))return!1;i.focus()}})}const Jf="filters";function mve(t,e){let n=-1,r;const i=gve(e),o=h=>()=>{r.isOpened()&&r.getKeyboardShortcutsCtrl().listen(Jf),i.setCurrentPage(e.indexOf(h))};e.forEach(h=>{h instanceof ko&&(h.addLocalHook("click",o(h)),h.addLocalHook("focus",o(h)),h.addLocalHook("afterClose",o(h)))}),l(t);function s(h){const d=r.getKeyboardShortcutsCtrl(),f=h.getKeyboardShortcutsCtrl();i.clear(),f.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:d.getContext(Jf),callback:()=>{h.isSubMenu()&&h.close(),d.listen(Jf)}}]),!h.isSubMenu()&&d.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:g=>{const m=r.getNavigator();m.getCurrentPage()>-1&&(n=m.getCurrentPage()),m.clear(),g.shiftKey?i.toPreviousItem():i.toNextItem()}},{keys:[["Escape"]],callback:()=>{r.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:g=>{const m=e[i.getCurrentPage()];m instanceof ip&&(m.openOptions(),g.preventDefault()),m instanceof op&&(m.activate(),g.preventDefault()),m instanceof ko||g.preventDefault()}}],Jf)}function a(){r.focus(),r.getKeyboardShortcutsCtrl().listen(Jf)}function l(h){h.addLocalHook("afterSelectionChange",d=>{d.key.startsWith("filter_")||i.clear()}),h.addLocalHook("afterSubmenuOpen",s),h.addLocalHook("afterOpen",s),r=h}function u(){return r}function c(){return n}return{...i,listen:a,setMenu:l,getMenu:u,getLastMenuPage:c}}function pve(t,e){$G(t,e),e.add(t)}function OE(t,e,n){$G(t,e),e.set(t,n)}function $G(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qf(t,e,n){return(e=vve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=wve(t,"string");return typeof e=="symbol"?e:e+""}function wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pb(t,e,n){return t.set(Zr(t,e),n),n}function Wi(t,e){return t.get(Zr(t,e))}function Zr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const WT="filters",bve=250,FF=WT;var ua=new WeakMap,BT=new WeakMap,sc=new WeakMap,ci=new WeakSet;class yve extends ft{static get PLUGIN_KEY(){return WT}static get PLUGIN_PRIORITY(){return bve}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){var n;super(e),n=this,pve(this,ci),Qf(this,"dropdownMenuPlugin",null),Qf(this,"conditionCollection",null),Qf(this,"conditionUpdateObserver",null),Qf(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),Qf(this,"filtersRowsMap",null),OE(this,ua,void 0),OE(this,BT,new WeakSet),OE(this,sc,[]),this.hot.addHook("afterGetColHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Zr(ci,n,Tve).call(n,...i)})}isEnabled(){return!!this.hot.getSettings()[WT]}enablePlugin(){var e=this;if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new zp),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const n=this.hot.getSettings().dropdownMenu,r=n&&n.uiContainer||this.hot.rootDocument.body,i=a=>(a.addLocalHook("accept",()=>Zr(ci,this,VF).call(this,"accept")),a.addLocalHook("cancel",()=>Zr(ci,this,VF).call(this,"cancel")),a.addLocalHook("change",l=>Zr(ci,this,xve).call(this,a,l)),a),o=()=>`${this.hot.getTranslatedPhrase(zP)}:`,s=()=>`${this.hot.getTranslatedPhrase(YP)}:`;if(!this.components.get("filter_by_condition")){const a=new VT(this.hot,{id:"filter_by_condition",name:o,addSeparator:!1,menuContainer:r});a.addLocalHook("afterClose",()=>Zr(ci,this,WF).call(this)),this.components.set("filter_by_condition",i(a))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new xpe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const a=new VT(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:r});a.addLocalHook("afterClose",()=>Zr(ci,this,WF).call(this)),this.components.set("filter_by_condition2",i(a))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",i(new Gpe(this.hot,{id:"filter_by_value",name:s}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",i(new ap(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new nI(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new DG(this.hot,this.conditionCollection,a=>this.getDataMapAtColumn(a)),this.conditionUpdateObserver.addLocalHook("update",a=>Zr(ci,this,Mve).call(this,a))),this.components.forEach(a=>a.show()),this.addHook("afterDropdownMenuDefaultOptions",function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return Zr(ci,e,Eve).call(e,...l)}),this.addHook("beforeDropdownMenuShow",()=>Zr(ci,this,Rve).call(this)),this.addHook("afterDropdownMenuShow",()=>Zr(ci,this,Sve).call(this)),this.addHook("afterDropdownMenuHide",()=>Zr(ci,this,_ve).call(this)),this.addHook("afterChange",a=>Zr(ci,this,Cve).call(this,a)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!Wi(ua,this)&&this.dropdownMenuPlugin.enabled){const a=[{focus:()=>{const u=Wi(ua,this).getMenu(),c=u.getNavigator(),h=Wi(ua,this).getLastMenuPage();u.focus(),h>0?c.setCurrentPage(h):c.toFirstItem()}},...Array.from(this.components).map(u=>{let[,c]=u;return c.getElements()}).flat()];Pb(ua,this,mve(this.dropdownMenuPlugin.menu,a));const l=u=>{Wi(ua,this).listen(),u.preventDefault(),Lp(u.keyCode,"TAB")&&(u.shiftKey?Wi(ua,this).toPreviousItem():Wi(ua,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((n,r)=>{n.destroy(),this.components.set(r,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:FF})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(FF)}addCondition(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Wl;const o=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(o,{command:{key:n},args:r},i)}removeConditions(e){const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}}importConditions(e){this.conditionCollection.importAllConditions(e)}exportConditions(){return this.conditionCollection.exportAllConditions()}filter(){const{navigableHeaders:e}=this.hot.getSettings(),n=this._createDataFilter(),r=!this.conditionCollection.isEmpty();let i=[];const o=this.exportConditions(),s=this.hot.runHooks("beforeFilter",o,Wi(sc,this));if(s!==!1&&r){const a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),i=nt(n.filter(),u=>u.meta.visualRow);const l=Jp(i);Ce(this.hot.countSourceRows()-1,u=>{l(u)||a.push(u)}),W(a,u=>{this.filtersRowsMap.setValueAtIndex(u,!0)})},!0),!e&&!i.length&&this.hot.deselectCell(),Pb(sc,this,this.exportConditions())}else s!==!1&&!r?(Pb(sc,this,this.exportConditions()),this.filtersRowsMap.clear()):this.importConditions(Wi(sc,this));this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col),s!==!1&&(this.hot.runHooks("afterFilter",o),this.hot.view.adjustElementsSize(),this.hot.render())}getSelectedColumn(){var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n?{visualIndex:n.col,physicalIndex:this.hot.toPhysicalColumn(n.col)}:null}getDataMapAtColumn(e){const n=this.hot.toVisualColumn(e),r=[];return W(this.hot.getSourceDataAtCol(n),(i,o)=>{var s;const{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:f,locale:g}=this.hot.getCellMeta(o,n),m=(s=this.hot.getDataAtCell(this.hot.toVisualRow(o),n))!==null&&s!==void 0?s:i;r.push({meta:{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:f,locale:g},value:JO(m)})}),r}updateValueComponentCondition(e){const n=this.hot.getDataAtCol(e),r=FT(n);this.conditionUpdateObserver.updateStatesAtColumn(e,r)}restoreComponents(e){var n;const r=(n=this.getSelectedColumn())===null||n===void 0?void 0:n.physicalIndex;e.forEach(i=>{i.isHidden()||i.restoreState(r)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,n,r,i){let o=e;return o===Ry&&n.command.key!==Gn&&r.command.key!==Gn&&i.command.key!==Gn?o=eI:i.command.key!==Gn&&(n.command.key===Gn||r.command.key===Gn)&&(o=Wl),o}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:n}=e.getState(),r=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];n.showOperators?this.showComponents(...r):this.hideComponents(...r)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new NG(e,n=>this.getDataMapAtColumn(n))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const n=this.dropdownMenuPlugin.menu;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return W(i,s=>{W(n.menuItems,(a,l)=>{a.key===s.getMenuItemDescriptor().key&&e.push(l)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;const r=this.dropdownMenuPlugin.menu.hotMenu,i=r.getPlugin("hiddenRows");for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];const l=this.getIndexesOfComponents(...s);e?i.showRows(l):i.hideRows(l),r.render()}hideComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!1,...n)}showComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!0,...n)}destroy(){this.enabled&&(this.components.forEach((e,n)=>{e!==null&&(e.destroy(),this.components.set(n,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function Cve(t){t&&W(t,e=>{const[,n]=e,r=this.hot.propToCol(n);this.conditionCollection.hasConditions(r)&&this.updateValueComponentCondition(r)})}function Sve(){const t=this.dropdownMenuPlugin.menu;this.restoreComponents(Array.from(this.components.values())),t.updateMenuDimensions()}function _ve(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function Rve(){const t=this.dropdownMenuPlugin.menu;Wi(BT,this).has(t)||Wi(ua,this).setMenu(t),Wi(BT,this).add(t)}function Eve(t){t.items.push({name:Ke}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function VF(t){var e;if(t==="accept"){const r=this.getSelectedColumn();if(r===null){var n;(n=this.dropdownMenuPlugin)===null||n===void 0||n.close();return}const{physicalIndex:i}=r,o=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),o,s,a);this.conditionUpdateObserver.groupChanges();let u=this.conditionCollection.getColumnStackPosition(i);u===-1&&(u=void 0),this.conditionCollection.removeConditions(i),o.command.key!==Gn&&(this.conditionCollection.addCondition(i,o,l,u),s.command.key!==Gn&&this.conditionCollection.addCondition(i,s,l,u)),a.command.key!==Gn&&this.conditionCollection.addCondition(i,a,l,u),this.conditionUpdateObserver.flush(),this.components.forEach(c=>c.saveState(i)),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function xve(t,e){const n=this.dropdownMenuPlugin.menu;this.updateDependentComponentsVisibility(),t.constructor===VT&&!e.inputsCount&&this.setListeningDropdownMenu(),n.updateMenuDimensions()}function WF(){this.setListeningDropdownMenu()}function Tve(t,e,n){const r=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(r)&&n===this.hot.view.getColumnHeadersCount()-1?Q(e,"htFiltersActive"):xe(e,"htFiltersActive")}function Mve(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;const{editedConditionStack:{conditions:n,column:r},conditionArgsChange:i}=t;Array.isArray(i)&&Pb(sc,this,Wi(sc,this).map(a=>(a.column===r&&n.length>0&&a.conditions.forEach(l=>{l.name==="by_value"&&(l.args=[[...i]])}),a)));const o=n.filter(a=>a.name===hc),s=n.filter(a=>a.name!==hc);if(o.length>=2||s.length>=3)gt(yt`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const a=this.conditionCollection.getOperation(r);this.components.get("filter_by_condition").updateState(s[0],r),this.components.get("filter_by_condition2").updateState(s[1],r),this.components.get("filter_operators").updateState(a,r),this.components.get("filter_by_value").updateState(t)}}const LG="internal-use-in-handsontable",jT={licenseKey:LG,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function FG(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[vr])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function VG(t){return Object.keys(t).reduce((e,n)=>(n!=="hyperformula"&&(e[n]=t[n]),e),{})}function Pve(t){var e;const n=t[vr],r=VG(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),i=FG(t);return{...jT,...r,...i}}function Ove(t){var e;const n=t[vr],r=VG(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),i=FG(t);return{...r,...i}}function Ive(t,e){return Object.keys(e).some(n=>e[n]!==void 0&&e[n]!==t[n])}function sS(){const t="engine_relationship",e=Uo(vr);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function rI(){const t="shared_engine_usage",e=Uo(vr);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function Ave(t){const e=t.getSettings(),n=e[vr],r=n==null?void 0:n.engine;if(n===!0||en(r))return null;if(typeof r.hyperformula=="function"||typeof r=="function"){var i;return Hve((i=r.hyperformula)!==null&&i!==void 0?i:r,e,t)}else if(typeof r=="object"&&en(r.hyperformula)){const o=sS(),s=rI().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(t),s&&s.push(t.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:LG}),(r.getConfig().leapYear1900!==jT.leapYear1900||S1(r.getConfig().nullDate,jT.nullDate)===!1)&&gt(yt`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),r}return null}function Hve(t,e,n){const r=e[vr],i=Pve(e),o=sS(),s=rI();kve(t,r.functions),Nve(t,r.language);const a=t.buildEmpty(i);return o.set(a,[n]),s.set(a,[n.guid]),Dve(a,r.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function BF(t){var e;const n=sS(),r=n.size===0?[]:Array.from((e=n.get(t))!==null&&e!==void 0?e:[]);return new Map(r.map(i=>[i.getPlugin("formulas").sheetId,i]))}function jF(t,e){if(t){const n=sS(),r=n.get(t),i=rI(),o=i.get(t);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),r.length===0&&n.delete(t)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),o.length===0&&(i.delete(t),t.destroy()))}}function kve(t,e){e&&e.forEach(n=>{const{name:r,plugin:i,translations:o}=n;try{t.registerFunction(r,i,o)}catch(s){gt(s.message)}})}function Nve(t,e){if(e){const{langCode:n}=e;try{t.registerLanguage(n,e)}catch(r){gt(r.message)}}}function Dve(t,e){e&&(t.suspendEvaluation(),e.forEach(n=>{const{name:r,expression:i,scope:o,options:s}=n;try{t.addNamedExpression(r,i,o,s)}catch(a){gt(a.message)}}),t.resumeEvaluation())}function $ve(t,e){return(en(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}const WG="DD/MM/YYYY";function Lve(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function Fve(t){return Lve(t)?t.substr(1):t}function Vve(t){return typeof t=="string"&&t.startsWith("=")}function iI(t,e){return typeof t=="string"&&e==="date"}function BG(t,e){return ne(t,e,!0).isValid()}function jG(t,e){return ne(t,e,!0).format(WG)}function Wve(t,e){return ne(t,WG,!0).format(e)}function UG(t,e){const r=new Date(Date.UTC(0,0,t+-1));return ne(r).format(e)}function Bve(t,e,n){const r=Array.from(Array(n).keys()).filter(o=>t.includes(o)===!1);if(e===0){var i;return(i=r[e])!==null&&i!==void 0?i:0}return r[e-1]+1}function jve(t,e){const n=[];return t.forEach(r=>{const i={from:r,to:e};n.forEach(o=>{const s=o.from>o.to,a=o.to<=i.from;o.from>i.from&&a&&s&&(i.from+=1)}),i.from>=e&&(e+=1),n.push(i)}),n}function Uve(t){return t.forEach((e,n)=>{t.slice(n+1).forEach(i=>{const o=i.from<i.to;i.from>e.from&&o&&(i.from-=1)})}),t}function oI(t,e,n){const r=jve(t,Bve(t,e,n));return Uve(r)}function Mu(t,e,n){zve(t,e),e.set(t,n)}function zve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zt(t,e){return t.get(zG(t,e))}function ol(t,e,n){return t.set(zG(t,e),n),n}function zG(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var eg=new WeakMap,sl=new WeakMap,hi=new WeakMap,tw=new WeakMap,IE=new WeakMap,AE=new WeakMap,nw=new WeakMap;class UF{constructor(e,n,r){Mu(this,eg,void 0),Mu(this,sl,void 0),Mu(this,hi,void 0),Mu(this,tw,[]),Mu(this,IE,[]),Mu(this,AE,void 0),Mu(this,nw,[]),ol(eg,this,e),ol(sl,this,n),ol(hi,this,r)}setRemovedHfIndexes(e){return ol(nw,this,e.map(n=>{const r=zt(sl,this).getVisualFromPhysicalIndex(n);return this.getHfIndexFromVisualIndex(r)})),zt(nw,this)}getRemovedHfIndexes(){return zt(nw,this)}getHfIndexFromVisualIndex(e){const n=zt(sl,this).getIndexesSequence(),r=zt(sl,this).getNotTrimmedIndexes();return n.indexOf(r[e],e)}syncMoves(e){const r=`move${Fo(zt(eg,this))}s`;zt(hi,this).getEngine().batch(()=>{e.forEach(i=>{const o=i.from!==i.to,s=i.from+1!==i.to;o&&s&&zt(hi,this).getEngine()[r](zt(hi,this).getSheetId(),i.from,1,i.to)})})}storeMovesInformation(e,n,r){r!==!1&&(ol(IE,this,e.map(i=>this.getHfIndexFromVisualIndex(i))),ol(AE,this,this.getHfIndexFromVisualIndex(n)))}calculateAndSyncMoves(e,n){if(zt(hi,this).isPerformingUndoRedo()||e===!1||n===!1)return;const r=oI(zt(IE,this),zt(AE,this),zt(sl,this).getNumberOfIndexes());zt(hi,this).getSheetId()===null?zt(hi,this).getPostponeAction(()=>this.syncMoves(r)):this.syncMoves(r)}getIndexesChangeSyncMethod(){const e=`set${Fo(zt(eg,this))}Order`;return n=>{if(zt(hi,this).isPerformingUndoRedo())return;const r=zt(sl,this).getIndexesSequence();if(n==="update"&&r.length>0){const i=zt(tw,this).map(l=>r.indexOf(l)),o=zt(hi,this).getEngine().getSheetDimensions(zt(hi,this).getSheetId());let s;zt(eg,this)==="row"?s=o.height:s=o.width;const a=i.length;for(let l=a;l<s;l+=1)i.push(l);zt(hi,this).getEngine()[e](zt(hi,this).getSheetId(),i)}ol(tw,this,r)}}init(){ol(tw,this,zt(sl,this).getIndexesSequence())}}function Pu(t,e,n){Yve(t,e),e.set(t,n)}function Yve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ra(t,e){return t.get(YG(t,e))}function Ou(t,e,n){return t.set(YG(t,e),n),n}function YG(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var rw=new WeakMap,iw=new WeakMap,HE=new WeakMap,kE=new WeakMap,NE=new WeakMap,DE=new WeakMap,$E=new WeakMap;class Gve{constructor(e,n,r){Pu(this,rw,void 0),Pu(this,iw,void 0),Pu(this,HE,void 0),Pu(this,kE,!1),Pu(this,NE,!1),Pu(this,DE,null),Pu(this,$E,null),Ou(rw,this,new UF("row",e,this)),Ou(iw,this,new UF("column",n,this)),Ou(HE,this,r)}getForAxis(e){return e==="row"?ra(rw,this):ra(iw,this)}setPerformUndo(e){Ou(kE,this,e)}setPerformRedo(e){Ou(NE,this,e)}isPerformingUndoRedo(){return ra(kE,this)||ra(NE,this)}getSheetId(){return ra($E,this)}getEngine(){return ra(DE,this)}getPostponeAction(){return ra(HE,this)}setupSyncEndpoint(e,n){Ou(DE,this,e),Ou($E,this,n),ra(rw,this).init(),ra(iw,this).init()}}function Kve(t,e){GG(t,e),e.add(t)}function Iu(t,e,n){return(e=qve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qve(t){var e=Xve(t,"string");return typeof e=="symbol"?e:e+""}function Xve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LE(t,e,n){GG(t,e),e.set(t,n)}function GG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yl(t,e,n){return t.set(st(t,e),n),n}function bc(t,e){return t.get(st(t,e))}function st(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const vr="formulas",Zve=["maxRows","maxColumns","language"],Jve=260;de.getSingleton().register("afterNamedExpressionAdded");de.getSingleton().register("afterNamedExpressionRemoved");de.getSingleton().register("afterSheetAdded");de.getSingleton().register("afterSheetRemoved");de.getSingleton().register("afterSheetRenamed");de.getSingleton().register("afterFormulasValuesUpdate");const tf=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto";var ja=new WeakMap,aS=new WeakMap,tg=new WeakMap,ht=new WeakSet;class Qve extends ft{constructor(){var e;super(...arguments),e=this,Kve(this,ht),LE(this,ja,!1),LE(this,aS,!1),LE(this,tg,[["valuesUpdated",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return st(ht,e,mwe).call(e,...r)}],["namedExpressionAdded",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return st(ht,e,pwe).call(e,...r)}],["namedExpressionRemoved",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return st(ht,e,vwe).call(e,...r)}],["sheetAdded",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return st(ht,e,wwe).call(e,...r)}],["sheetRenamed",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return st(ht,e,bwe).call(e,...r)}],["sheetRemoved",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return st(ht,e,ywe).call(e,...r)}]]),Iu(this,"staticRegister",Uo("formulas")),Iu(this,"engine",null),Iu(this,"sheetId",null),Iu(this,"sheetName",null),Iu(this,"indexSyncer",null),Iu(this,"rowAxisSyncer",null),Iu(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return vr}static get PLUGIN_PRIORITY(){return Jve}static get SETTING_KEYS(){return[vr,...Zve]}isEnabled(){return!!this.hot.getSettings()[vr]}enablePlugin(){var e,n=this;if(!this.enabled){if(this.engine=(e=Ave(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){gt("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){const r=this.addSheet(this.sheetName,this.hot.getSourceDataArray());r!==!1&&st(ht,this,im).call(this,r)}this.addHook("beforeLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,zF).call(n,...i)}),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,YF).call(n,...i)}),this.addHook("beforeUpdateData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,zF).call(n,...i)}),this.addHook("afterUpdateData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,YF).call(n,...i)}),this.addHook("modifyData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,rwe).call(n,...i)}),this.addHook("modifySourceData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,iwe).call(n,...i)}),this.addHook("beforeValidate",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,ewe).call(n,...i)}),this.addHook("afterSetSourceDataAtCell",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,owe).call(n,...i)}),this.addHook("afterSetDataAtCell",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,GF).call(n,...i)}),this.addHook("afterSetDataAtRowProp",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,GF).call(n,...i)}),this.addHook("beforeCreateRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,swe).call(n,...i)}),this.addHook("beforeCreateCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,awe).call(n,...i)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,cwe).call(n,...i)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,hwe).call(n,...i)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,lwe).call(n,...i)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,uwe).call(n,...i)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,dwe).call(n,...i)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,fwe).call(n,...i)}),this.indexSyncer=new Gve(this.hot.rowIndexMapper,this.hot.columnIndexMapper,r=>{this.hot.addHookOnce("init",()=>{r()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(r,i,o,s)=>{this.rowAxisSyncer.storeMovesInformation(r,i,s)}),this.hot.addHook("beforeColumnMove",(r,i,o,s)=>{this.columnAxisSyncer.storeMovesInformation(r,i,s)}),this.hot.addHook("afterRowMove",(r,i,o,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(r,i,o,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(r,i)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart,i)}),this.hot.addHook("afterColumnFreeze",(r,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.hot.addHook("beforeColumnUnfreeze",(r,i)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart-1,i)}),this.hot.addHook("afterColumnUnfreeze",(r,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.addHook("afterCellMetaReset",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,nwe).call(n,...i)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,gwe).call(n,...i)}),this.addHook("beforeAutofill",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(ht,n,twe).call(n,...i)}),bc(tg,this).forEach(r=>{let[i,o]=r;return this.engine.on(i,o)}),super.enablePlugin()}}disablePlugin(){bc(tg,this).forEach(e=>{let[n,r]=e;return this.engine.off(n,r)}),jF(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const n=Ove(this.hot.getSettings());Ive(this.engine.getConfig(),n)&&this.engine.updateConfig(n);const r=this.hot.getSettings()[vr];if(we(r)&&we(r.sheetName)&&r.sheetName!==this.sheetName&&this.switchSheet(r.sheetName),!e.data&&this.sheetName===null){const i=this.hot.getSettings()[vr].sheetName;if(i&&this.engine.doesSheetExist(i))this.switchSheet(this.sheetName);else{const o=this.addSheet(i??void 0,this.hot.getSourceDataArray());st(ht,this,im).call(this,o)}}super.updatePlugin(e)}destroy(){bc(tg,this).forEach(e=>{var n;let[r,i]=e;return(n=this.engine)===null||n===void 0?void 0:n.off(r,i)}),Yl(tg,this,null),jF(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,n){if(we(n)&&!Ope(n))return gt("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return gt("Sheet with the provided name already exists."),!1;try{const r=this.engine.addSheet(e??void 0);return n&&this.engine.setSheetContent(this.engine.getSheetId(r),n),r}catch(r){return gt(r.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){k1(`The sheet named \`${e}\` does not exist, switch aborted.`);return}st(ht,this,im).call(this,e);const n=this.engine.getSheetSerialized(this.sheetId);n.length>0&&this.hot.loadData(n,`${Fo(vr)}.switchSheet`)}getCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;const i=this.hot.toPhysicalRow(e),o=this.hot.toPhysicalColumn(n);return i!==null&&o!==null?this.engine.getCellType({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)}):"EMPTY"}isFormulaCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)})}renderDependentSheets(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=new Set;e.forEach(i=>{var o;const s=i==null||(o=i.address)===null||o===void 0?void 0:o.sheet;s!==void 0&&(r.has(s)||r.add(s))}),BF(this.engine).forEach((i,o)=>{if((n||o!==this.sheetId)&&r.has(o)){var s;i.render(),(s=i.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=o=>{var s;const{row:a,col:l,sheet:u}=(s=o==null?void 0:o.address)!==null&&s!==void 0?s:{};return we(u)?`${u}:${a}x${l}`:""},i=new Set(n.map(o=>r(o)));e.forEach(o=>{var s,a;const{row:l,col:u}=(s=o.address)!==null&&s!==void 0?s:{};if(we(l)===!1||we(u)===!1||l>=this.hot.countRows()||u>=this.hot.countCols())return;const c=o==null||(a=o.address)===null||a===void 0?void 0:a.sheet,h=r(o);if(c!==void 0&&!i.has(h)){const d=BF(this.engine).get(c);if(!d)return;d.validateCell(d.getDataAtCell(l,u),d.getCellMeta(l,u),()=>{})}})}syncChangeWithEngine(e,n,r){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(i)){gt(`Not possible to set cell data at ${JSON.stringify(i)}`);return}const o=this.hot.getCellMeta(e,n);return iI(r,o.type)&&(BG(r,o.dateFormat)?r=jG(r,o.dateFormat):Vve(r)===!1&&(r=`'${r}`)),this.engine.setCellContents(i,r)}}function im(t){this.sheetName=t,this.sheetId=this.engine.getSheetId(this.sheetName)}function ewe(t,e,n){const r=this.hot.propToCol(n);if(this.isFormulaCellType(e,r)){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId},o=this.hot.getCellMeta(e,r);let s=this.engine.getCellValue(i);return o.type==="date"&&Nr(s)&&(s=UG(s,o.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return t}function twe(t,e,n){const{row:r,col:i}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),{row:a,col:l}=n.getTopStartCorner(),{row:u,col:c}=n.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},d={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(d)===!1)return!1;const f=this.engine.getFillRangeData(h,d),{row:g,col:m}=h.start,{row:p,col:y}=h.end,b=p-g+1,T=y-m+1;for(let E=0;E<f.length;E+=1)for(let P=0;P<f[E].length;P+=1){const I=f[E][P],H=g+E%b,U=m+P%T,K=this.hot.getCellMeta(H,U);iI(I,K.type)&&(I.startsWith("'")?f[E][P]=I.slice(1):this.isFormulaCellType(H,U,this.sheetId)===!1&&(f[E][P]=Wve(I,K.dateFormat)))}return f}function zF(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Fo(vr))||Yl(aS,this,en(this.hot.getSettings().data))}function nwe(){if(bc(aS,this)){this.switchSheet(this.sheetName);return}const t=this.hot.getSourceDataArray();t.forEach((n,r)=>{n.forEach((i,o)=>{const s=this.hot.getCellMeta(r,o,{skipMetaExtension:!0}),a=s.dateFormat;iI(i,s.type)&&(BG(i,a)?t[r][o]=jG(i,a):i.startsWith("=")||(t[r][o]=`'${i}`))})}),Yl(ja,this,!0);const e=this.engine.setSheetContent(this.sheetId,t);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(e),Yl(ja,this,!1)}function YF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(n.includes(Fo(vr)))return;const r=$ve(this.engine,this.hot.getSettings()[vr].sheetName);if(st(ht,this,im).call(this,r),n!=="updateSettings")if(bc(aS,this))this.switchSheet(this.sheetName);else{const i=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,i)){Yl(ja,this,!0);const o=this.engine.setSheetContent(this.sheetId,i);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(o),Yl(ja,this,!1)}}}function rwe(t,e,n,r){if(r!=="get"||bc(ja,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(t);if(i===null||e===null)return;const o=this.getCellType(i,e);if(o==="VALUE"||o==="EMPTY"){n.value=Fve(n.value);return}const s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let a=this.engine.getCellValue(s);const l=this.hot.getCellMeta(i,e,{skipMetaExtension:!0});l.type==="date"&&Nr(a)&&(a=UG(a,l.dateFormat)),n.value=typeof a=="object"&&a!==null?a.value:a}function iwe(t,e,n,r){if(r!=="get"||bc(ja,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(t),o=this.hot.propToCol(e);if(i===null||o===null)return;const s=this.getCellType(i,o);if(s==="VALUE"||s==="EMPTY")return;const a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;const l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};n.value=this.engine.getCellSerialized(l)}function GF(t,e){if(tf(e))return;const n=[],r=[],i=this.engine.batch(()=>{t.forEach(o=>{let[s,a,,l]=o;const u=this.hot.propToCol(a),c=this.hot.toPhysicalRow(s),h=this.hot.toPhysicalColumn(u),d={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(u),sheet:this.sheetId};c!==null&&h!==null?this.syncChangeWithEngine(s,u,l):n.push([s,u,l]),r.push({address:d})})});n.length&&this.hot.addHookOnce("afterChange",()=>{const o=this.engine.batch(()=>{n.forEach(s=>{let[a,l,u]=s;this.syncChangeWithEngine(a,l,u)})});this.renderDependentSheets(o,!0)}),this.renderDependentSheets(i),this.validateDependentCells(i,r)}function owe(t,e){if(tf(e))return;const n=[],r=[];t.forEach(i=>{let[o,s,,a]=i;const l=this.hot.propToCol(s);if(!Nr(l))return;const u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(u)){gt(`Not possible to set source cell data at ${JSON.stringify(u)}`);return}r.push({address:u}),n.push(...this.engine.setCellContents(u,a))}),this.renderDependentSheets(n),this.validateDependentCells(n,r)}function swe(t,e){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,e]))return!1}function awe(t,e){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,e]))return!1}function lwe(t,e,n){return this.rowAxisSyncer.setRemovedHfIndexes(n).every(o=>this.engine.isItPossibleToRemoveRows(this.sheetId,[o,1]))===!1?!1:void 0}function uwe(t,e,n){return this.columnAxisSyncer.setRemovedHfIndexes(n).every(o=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[o,1]))===!1?!1:void 0}function cwe(t,e,n){if(tf(n))return;const r=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function hwe(t,e,n){if(tf(n))return;const r=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function dwe(t,e,n,r){if(tf(r))return;const i=this.rowAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{i.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function fwe(t,e,n,r){if(tf(r))return;const i=this.columnAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{i.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function gwe(t,e,n){var r;Yl(ja,this,!0);const i=this.hot.getSourceDataArray(n,0,n+(((r=e.__children)===null||r===void 0?void 0:r.length)||0),this.hot.countSourceCols());Yl(ja,this,!1),i.forEach((o,s)=>{o.forEach((a,l)=>{this.engine.setCellContents({col:l,row:n+s,sheet:this.sheetId},[[a]])})})}function mwe(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function pwe(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function vwe(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function wwe(t){this.hot.runHooks("afterSheetAdded",t)}function bwe(t,e){st(ht,this,im).call(this,e),this.hot.runHooks("afterSheetRenamed",t,e)}function ywe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function Cwe(t){return{key:"hidden_columns_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[,r,,i]=e;r-i!==0&&(n=1)}return this.getTranslatedPhrase(SP,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.col,n.col),0),i=Math.max(e.col,n.col),o=[];for(let l=r;l<=i;l+=1)o.push(l);t.hideColumns(o);const s=o[o.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function Swe(t){const e=[];return{key:"hidden_columns_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(_P,n)},callback(){var n,r;if(e.length===0)return;let i=e[0],o=e[e.length-1];i=(n=this.columnIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&n!==void 0?n:0,o=(r=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&r!==void 0?r:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(),o-i+1===this.countCols()||this.selectColumns(i,o)},disabled:!1,hidden(){const n=nt(t.getHiddenColumns(),h=>this.toPhysicalColumn(h));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().col,o=r.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(i),l=s.getRenderableFromVisualIndex(o),u=s.getNotTrimmedIndexes(),c=[];if(i!==o){const h=o-i+1,d=l-a+1;if(h>d){const f=u.slice(i,o+1);c.push(...f.filter(g=>n.includes(g)))}}else if(a===0&&a<i)c.push(...u.slice(0,i));else if(a===null)c.push(...u.slice(0,this.countCols()));else{const h=this.countCols()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>o&&c.push(...u.slice(o+1))}return W(c,h=>{e.push(this.toVisualColumn(h))}),e.length===0}}}function _we(t,e){KG(t,e),e.add(t)}function Rwe(t,e,n){KG(t,e),e.set(t,n)}function KG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Au(t,e){return t.get(bl(t,e))}function KF(t,e,n){return t.set(bl(t,e),n),n}function bl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("beforeHideColumns");de.getSingleton().register("afterHideColumns");de.getSingleton().register("beforeUnhideColumns");de.getSingleton().register("afterUnhideColumns");const qF="hiddenColumns",Ewe=310;var ns=new WeakMap,Hu=new WeakSet;class xwe extends ft{constructor(){super(...arguments),_we(this,Hu),Rwe(this,ns,null)}static get PLUGIN_KEY(){return qF}static get PLUGIN_PRIORITY(){return Ewe}static get DEFAULT_SETTINGS(){return{copyPasteEnabled:!0,indicators:!1,columns:[]}}isEnabled(){return!!this.hot.getSettings()[qF]}enablePlugin(){var e=this;this.enabled||(KF(ns,this,new UC),Au(ns,this).addLocalHook("init",()=>bl(Hu,this,Awe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Au(ns,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bl(Hu,e,Iwe).call(e,...r)}),this.addHook("afterGetCellMeta",(n,r,i)=>bl(Hu,this,Mwe).call(this,n,r,i)),this.addHook("modifyColWidth",(n,r)=>bl(Hu,this,Twe).call(this,n,r),2),this.addHook("afterGetColHeader",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bl(Hu,e,Owe).call(e,...r)}),this.addHook("modifyCopyableRange",n=>bl(Hu,this,Pwe).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),this.resetCellsMeta()}showColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let i=n;const o=Au(ns,this).getValues().slice(),s=e.length>0;if(r&&s){const l=e.map(u=>this.hot.toPhysicalColumn(u));W(l,u=>{o[u]=!1}),i=li(o,(u,c,h)=>(c&&u.push(this.hot.toVisualColumn(h)),u),[])}this.hot.runHooks("beforeUnhideColumns",n,i,r&&s)!==!1&&(r&&s&&Au(ns,this).setValues(o),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",n,i,r&&s,r&&i.length<n.length))}showColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showColumns(n)}hideColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideColumns",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{W(e,s=>{Au(ns,this).setValueAtIndex(this.hot.toPhysicalColumn(s),!0)})},!0),this.hot.runHooks("afterHideColumns",n,i,r,r&&i.length>n.length))}hideColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideColumns(n)}getHiddenColumns(){return nt(Au(ns,this).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return Au(ns,this).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const n=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){W(this.hot.getCellsMeta(),e=>{e.skipColumnOnPaste=!1})}destroy(){KF(ns,this,null),super.destroy()}}function Twe(t,e){if(this.isHidden(e))return 0;if(this.getSetting("indicators")&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function Mwe(t,e,n){if(this.getSetting("copyPasteEnabled")===!1&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",n.className.indexOf("afterHiddenColumn")===-1&&(n.className+=" afterHiddenColumn");else if(n.className){const r=n.className.split(" ");if(r.length>0){const i=r.indexOf("afterHiddenColumn");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}function Pwe(t){if(this.getSetting("copyPasteEnabled"))return t;const e=[],n=(r,i,o,s)=>{e.push({startRow:r,endRow:i,startCol:o,endCol:s})};return W(t,r=>{let i=!0,o=0;Ce(r.startCol,r.endCol,s=>{this.isHidden(s)?(i||n(r.startRow,r.endRow,o,s-1),i=!0):(i&&(o=s),s===r.endCol&&n(r.startRow,r.endRow,o,s),i=!1)})}),e}function Owe(t,e){if(!this.getSetting("indicators")||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&n.push("beforeHiddenColumn"),Q(e,n)}function Iwe(t){t.items.push({name:Ke},Cwe(this),Swe(this))}function Awe(){const t=this.getSetting("columns");Array.isArray(t)&&this.hideColumns(t)}function Hwe(t){return{key:"hidden_rows_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[r,,i]=e;r-i!==0&&(n=1)}return this.getTranslatedPhrase(RP,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.row,n.row),0),i=Math.max(e.row,n.row),o=[];for(let l=r;l<=i;l+=1)o.push(l);t.hideRows(o);const s=o[o.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function kwe(t){const e=[];return{key:"hidden_rows_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(EP,n)},callback(){var n,r;if(e.length===0)return;let i=e[0],o=e[e.length-1];i=(n=this.rowIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&n!==void 0?n:0,o=(r=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&r!==void 0?r:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(),o-i+1===this.countRows()||this.selectRows(i,o)},disabled:!1,hidden(){const n=nt(t.getHiddenRows(),h=>this.toPhysicalRow(h));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().row,o=r.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(i),l=s.getRenderableFromVisualIndex(o),u=s.getNotTrimmedIndexes(),c=[];if(i!==o){const h=o-i+1,d=l-a+1;if(h>d){const f=u.slice(i,o+1);c.push(...f.filter(g=>n.includes(g)))}}else if(a===0&&a<i)c.push(...u.slice(0,i));else if(a===null)c.push(...u.slice(0,this.countRows()));else{const h=this.countRows()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>o&&c.push(...u.slice(o+1))}return W(c,h=>{e.push(this.toVisualRow(h))}),e.length===0}}}function Nwe(t,e){qG(t,e),e.add(t)}function Dwe(t,e,n){qG(t,e),e.set(t,n)}function qG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ku(t,e){return t.get(yl(t,e))}function XF(t,e,n){return t.set(yl(t,e),n),n}function yl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("beforeHideRows");de.getSingleton().register("afterHideRows");de.getSingleton().register("beforeUnhideRows");de.getSingleton().register("afterUnhideRows");const ZF="hiddenRows",$we=320;var rs=new WeakMap,Nu=new WeakSet;class Lwe extends ft{constructor(){super(...arguments),Nwe(this,Nu),Dwe(this,rs,null)}static get PLUGIN_KEY(){return ZF}static get PLUGIN_PRIORITY(){return $we}static get DEFAULT_SETTINGS(){return{copyPasteEnabled:!0,indicators:!1,rows:[]}}isEnabled(){return!!this.hot.getSettings()[ZF]}enablePlugin(){var e=this;this.enabled||(XF(rs,this,new UC),ku(rs,this).addLocalHook("init",()=>yl(Nu,this,Uwe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,ku(rs,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yl(Nu,e,jwe).call(e,...r)}),this.addHook("afterGetCellMeta",(n,r,i)=>yl(Nu,this,Vwe).call(this,n,r,i)),this.addHook("modifyRowHeight",(n,r)=>yl(Nu,this,Fwe).call(this,n,r)),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yl(Nu,e,Bwe).call(e,...r)}),this.addHook("modifyCopyableRange",n=>yl(Nu,this,Wwe).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),this.resetCellsMeta()}showRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let i=n;const o=ku(rs,this).getValues().slice(),s=e.length>0;if(r&&s){const l=e.map(u=>this.hot.toPhysicalRow(u));W(l,u=>{o[u]=!1}),i=li(o,(u,c,h)=>(c&&u.push(this.hot.toVisualRow(h)),u),[])}this.hot.runHooks("beforeUnhideRows",n,i,r&&s)!==!1&&(r&&s&&ku(rs,this).setValues(o),this.hot.runHooks("afterUnhideRows",n,i,r&&s,r&&i.length<n.length))}showRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showRows(n)}hideRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideRows",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{W(e,s=>{ku(rs,this).setValueAtIndex(this.hot.toPhysicalRow(s),!0)})},!0),this.hot.runHooks("afterHideRows",n,i,r,r&&i.length>n.length))}hideRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideRows(n)}getHiddenRows(){return nt(ku(rs,this).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return ku(rs,this).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const n=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){W(this.hot.getCellsMeta(),e=>{e.skipRowOnPaste=!1})}destroy(){XF(rs,this,null),super.destroy()}}function Fwe(t,e){return this.isHidden(e)?0:t}function Vwe(t,e,n){if(this.getSetting("copyPasteEnabled")===!1&&this.isHidden(t)&&(n.skipRowOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",n.className.indexOf("afterHiddenRow")===-1&&(n.className+=" afterHiddenRow");else if(n.className){const r=n.className.split(" ");if(r.length>0){const i=r.indexOf("afterHiddenRow");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}function Wwe(t){if(this.getSetting("copyPasteEnabled"))return t;const e=[],n=(r,i,o,s)=>{e.push({startRow:r,endRow:i,startCol:o,endCol:s})};return W(t,r=>{let i=!0,o=0;Ce(r.startRow,r.endRow,s=>{this.isHidden(s)?(i||n(o,s-1,r.startCol,r.endCol),i=!0):(i&&(o=s),s===r.endRow&&n(o,s,r.startCol,r.endCol),i=!1)})}),e}function Bwe(t,e){if(!this.getSetting("indicators")||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&n.push("beforeHiddenRow"),Q(e,n)}function jwe(t){t.items.push({name:Ke},Hwe(this),kwe(this))}function Uwe(){const t=this.getSetting("rows");Array.isArray(t)&&this.hideRows(t)}function zwe(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(J1)},callback(e,n){const[{start:{col:r}}]=n;t.freezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(n=!0),n}}}function Ywe(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(Q1)},callback(e,n){const[{start:{col:r}}]=n;t.unfreezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(n=!0),n}}}function Gwe(t,e){XG(t,e),e.add(t)}function Kwe(t,e,n){XG(t,e),e.set(t,n)}function XG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function UT(t,e){return t.get(xy(t,e))}function FE(t,e,n){return t.set(xy(t,e),n),n}function xy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("beforeColumnFreeze");de.getSingleton().register("afterColumnFreeze");de.getSingleton().register("beforeColumnUnfreeze");de.getSingleton().register("afterColumnUnfreeze");const JF="manualColumnFreeze",qwe=110;var ec=new WeakMap,VE=new WeakSet;class Xwe extends ft{constructor(){super(...arguments),Gwe(this,VE),Kwe(this,ec,!1)}static get PLUGIN_KEY(){return JF}static get PLUGIN_PRIORITY(){return qwe}isEnabled(){return!!this.hot.getSettings()[JF]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>xy(VE,this,Zwe).call(this,e)),this.addHook("beforeColumnMove",(e,n)=>xy(VE,this,Jwe).call(this,e,n)),super.enablePlugin())}disablePlugin(){FE(ec,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart<this.hot.countCols()&&e>n.fixedColumnsStart-1;UT(ec,this)||FE(ec,this,!0),this.hot.runHooks("beforeColumnFreeze",e,r)!==!1&&(r&&(this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart),n._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,r))}unfreezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart>0&&e<=n.fixedColumnsStart-1;UT(ec,this)||FE(ec,this,!0),this.hot.runHooks("beforeColumnUnfreeze",e,r)!==!1&&(r&&(n._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,r))}}function Zwe(t){t.items.push({name:"---------"},zwe(this),Ywe(this))}function Jwe(t,e){if(UT(ec,this)){const n=this.hot.getSettings().fixedColumnsStart;if(e<n||t.some(r=>r<n))return!1}}function ow(t,e,n){return(e=Qwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qwe(t){var e=ebe(t,"string");return typeof e=="symbol"?e:e+""}function ebe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const WE=0,QF=1,eV=2,Th="px";let ZG=class{constructor(e){ow(this,"hot",void 0),ow(this,"_element",null),ow(this,"state",WE),ow(this,"inlineProperty",void 0),this.hot=e,this.inlineProperty=e.isRtl()?"right":"left"}appendTo(e){e.appendChild(this._element),this.state=eV}build(){this.state===WE&&(this._element=this.hot.rootDocument.createElement("div"),this.state=QF)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=WE}isAppended(){return this.state===eV}isBuilt(){return this.state>=QF}setPosition(e,n){Nr(e)&&(this._element.style.top=e+Th),Nr(n)&&(this._element.style[this.inlineProperty]=n+Th)}getPosition(){const e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}setSize(e,n){Nr(e)&&(this._element.style.width=e+Th),Nr(n)&&(this._element.style.height=n+Th)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){Nr(e)&&(this._element.style.marginTop=e+Th),Nr(n)&&(this._element.style[`margin${Fo(this.inlineProperty)}`]=n+Th)}getOffset(){const e=this._element.style,n=`margin${Fo(this.inlineProperty)}`;return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[n]?parseInt(e[n],10):0}}};const tbe="ht__manualColumnMove--backlight";let nbe=class extends ZG{build(){super.build(),Q(this._element,tbe)}};const rbe="ht__manualColumnMove--guideline";let ibe=class extends ZG{build(){super.build(),Q(this._element,rbe)}};function obe(t,e){JG(t,e),e.add(t)}function go(t,e,n){JG(t,e),e.set(t,n)}function JG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ri(t,e,n){return t.set(Cl(t,e),n),n}function ye(t,e){return t.get(Cl(t,e))}function Cl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("beforeColumnMove");de.getSingleton().register("afterColumnMove");const BE="manualColumnMove",sbe=120,tV="ht__manualColumnMove",Ty="show-ui",zT="on-moving--columns",YT="after-selection--columns";var Ar=new WeakMap,xl=new WeakMap,Oa=new WeakMap,Ob=new WeakMap,Nl=new WeakMap,Ir=new WeakMap,sw=new WeakMap,$i=new WeakMap,Kh=new WeakMap,My=new WeakMap,om=new WeakMap,Du=new WeakSet;class abe extends ft{constructor(){super(...arguments),obe(this,Du),go(this,Ar,new nbe(this.hot)),go(this,xl,new ibe(this.hot)),go(this,Oa,[]),go(this,Ob,0),go(this,Nl,!1),go(this,Ir,{}),go(this,sw,void 0),go(this,$i,void 0),go(this,Kh,void 0),go(this,My,void 0),go(this,om,void 0)}static get PLUGIN_KEY(){return BE}static get PLUGIN_PRIORITY(){return sbe}isEnabled(){return!!this.hot.getSettings()[BE]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Cl(Du,e,lbe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Cl(Du,e,cbe).call(e,...r)}),this.addHook("afterScrollVertically",()=>Cl(Du,this,dbe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Cl(Du,e,fbe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),Q(this.hot.rootElement,tV),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){xe(this.hot.rootElement,tV),this.unregisterEvents(),ye(Ar,this).destroy(),ye(xl,this).destroy(),super.disablePlugin()}moveColumn(e,n){return this.moveColumns([e],n)}moveColumns(e,n){const r=ye(sw,this),i=this.isMovePossible(e,n),o=this.hot.runHooks("beforeColumnMove",e,n,r,i);if(ri(sw,this,void 0),o===!1)return;i&&this.hot.columnIndexMapper.moveIndexes(e,n);const s=i&&this.isColumnOrderChanged(e,n);return this.hot.runHooks("afterColumnMove",e,n,r,i,s),s}dragColumn(e,n){return this.dragColumns([e],n)}dragColumns(e,n){const r=this.countFinalIndex(e,n);return ri(sw,this,n),this.moveColumns(e,r)}isMovePossible(e,n){const r=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),i=e.length+n>r,o=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(i||o||s||a)}isColumnOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}countFinalIndex(e,n){const r=li(e,(i,o)=>(o<n&&(i+=1),i),0);return n-r}getColumnsWidth(e,n){const r=this.hot.columnIndexMapper;let i=0;for(let o=e;o<=n;o+=1){const s=r.getRenderableFromVisualIndex(o);o<0?i+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(i+=this.hot.view._wt.wtTable.getColumnWidth(s)||0)}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[BE];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveColumns(n,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,n){const r=[];return Ce(e,n,i=>{r.push(i)}),r}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(ye($i,this))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const n=this.hot.view._wt.wtTable,r=this.hot.view._wt.wtOverlays.scrollableElement,i=typeof r.scrollX=="number"?r.scrollX:r.scrollLeft;let o=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,ye($i,this)-1);const s=n.hider.offsetWidth,a=n.TBODY.offsetLeft,l=ye(Ar,this).getOffset().start,u=ye(Ar,this).getSize().width;let c=0,h=0;if(this.hot.isRtl()){const g=this.hot.rootWindow,m=_n(this.hot.rootElement),p=g.innerWidth-ye(Kh,this)-m;h=g.innerWidth-ye(Ir,this).eventPageX-p-(r.scrollX===void 0?i:0)}else h=ye(Ir,this).eventPageX-(ye(Kh,this)-(r.scrollX===void 0?i:0));if(ye(My,this)&&(c=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(ye($i,this))&&(o+=i),o+=c,ye($i,this)<0)ye(om,this)>0?ye(Ir,this).col=0:ye(Ir,this).col=e>0?e-1:e;else if(ye(Ir,this).TD.offsetWidth/2+o<=h){const g=ye($i,this)>=ye(Ob,this)?ye(Ob,this)-1:ye($i,this);ye(Ir,this).col=g+1,o+=ye(Ir,this).TD.offsetWidth}else ye(Ir,this).col=ye($i,this);let d=h,f=o;h+u+l>=s?d=s-u-l:h+l<a+c&&(d=a+c+Math.abs(l)),o>=s-1?f=s-1:f===0?f=1:r.scrollX!==void 0&&ye($i,this)<ye(om,this)&&(f-=ye(Kh,this)<=r.scrollX?ye(Kh,this):0),ye(Ar,this).setPosition(null,d),ye(xl,this).setPosition(null,f)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>Cl(Du,this,ube).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Cl(Du,this,hbe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){ye(Ar,this).build(),ye(xl,this).build()}destroy(){ye(Ar,this).destroy(),ye(xl,this).destroy(),super.destroy()}}function lbe(t,e,n,r){const i=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=Me(t.target,"sortAction");if(!s||!o||ye(Nl,this)||t.button!==0||a){ri(Nl,this,!1),ye(Oa,this).length=0,xe(this.hot.rootElement,[zT,Ty]);return}const l=ye(xl,this).isBuilt()&&!ye(xl,this).isAppended(),u=ye(Ar,this).isBuilt()&&!ye(Ar,this).isAppended();l&&u&&(ye(xl,this).appendTo(i.hider),ye(Ar,this).appendTo(i.hider));const{from:c,to:h}=s,d=Math.min(c.col,h.col),f=Math.max(c.col,h.col);if(e.row<0&&e.col>=d&&e.col<=f){r.column=!0,ri(Nl,this,!0);const g=n.firstChild?Rte(t,n.firstChild).x:t.offsetX;ye(Ir,this).eventPageX=t.pageX,ri($i,this,e.col),ye(Ir,this).TD=n,ye(Ir,this).col=e.col,ri(Oa,this,this.prepareColumnsToMoving(d,f)),ri(My,this,!!this.hot.getSettings().rowHeaders),ri(Ob,this,this.hot.countCols()),ri(om,this,this.hot.getSettings().fixedColumnsStart),ri(Kh,this,wr(this.hot.rootElement).left);const m=ye(My,this)?-1:0,p=i.holder.scrollTop+i.getColumnHeaderHeight(0)+1,y=e.col<ye(om,this),b=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),T=Math.abs(g-(this.hot.isRtl()?n.offsetWidth:0)),E=this.getColumnsWidth(d,e.col-1)+T,P=this.getColumnsWidth(m,d-1)+(y?b:0)+E;ye(Ar,this).setPosition(p,P),ye(Ar,this).setSize(this.getColumnsWidth(d,f),i.hider.offsetHeight-p),ye(Ar,this).setOffset(null,-E),Q(this.hot.rootElement,zT)}else xe(this.hot.rootElement,YT),ri(Nl,this,!1),ye(Oa,this).length=0}function ube(t){ye(Nl,this)&&(ye(Ir,this).eventPageX=t.pageX,this.refreshPositions())}function cbe(t,e,n,r){!this.hot.getSelectedRangeLast()||!ye(Nl,this)||(ye(Oa,this).indexOf(e.col)>-1?xe(this.hot.rootElement,Ty):Q(this.hot.rootElement,Ty),r.row=!0,r.column=!0,r.cell=!0,ri($i,this,e.col),ye(Ir,this).TD=n)}function hbe(){const t=ye(Ir,this).col,e=ye(Oa,this).length;if(ri($i,this,void 0),ri(Nl,this,!1),xe(this.hot.rootElement,[zT,Ty,YT]),this.hot.selection.isSelectedByColumnHeader()&&Q(this.hot.rootElement,YT),e<1||t===void 0)return;const n=ye(Oa,this)[0],r=this.hot.toPhysicalColumn(n),i=this.dragColumns(ye(Oa,this),t);if(ye(Oa,this).length=0,i===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const o=this.hot.toVisualColumn(r),s=o+e-1;this.hot.selectColumns(o,s)}}function dbe(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,n=t.holder.scrollTop,r=e+n;ye(Ar,this).setPosition(r),ye(Ar,this).setSize(null,t.hider.offsetHeight-r)}function fbe(){this.moveBySettingsOrLoad()}function gbe(t,e){QG(t,e),e.add(t)}function ur(t,e,n){QG(t,e),e.set(t,n)}function QG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vn(t,e,n){return t.set(Eo(t,e),n),n}function fe(t,e){return t.get(Eo(t,e))}function Eo(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Py="manualColumnResize",mbe=130,nV="manualColumnWidths";var va=new WeakMap,aw=new WeakMap,Ci=new WeakMap,Oy=new WeakMap,Ts=new WeakMap,pbe=new WeakMap,bd=new WeakMap,lw=new WeakMap,qr=new WeakMap,ca=new WeakMap,Hc=new WeakMap,Iy=new WeakMap,sm=new WeakMap,am=new WeakMap,_i=new WeakMap,lm=new WeakMap,is=new WeakSet;class vbe extends ft{static get PLUGIN_KEY(){return Py}static get PLUGIN_PRIORITY(){return mbe}constructor(e){super(e),gbe(this,is),ur(this,va,null),ur(this,aw,null),ur(this,Ci,[]),ur(this,Oy,null),ur(this,Ts,null),ur(this,pbe,null),ur(this,bd,null),ur(this,lw,null),ur(this,qr,this.hot.rootDocument.createElement("DIV")),ur(this,ca,this.hot.rootDocument.createElement("DIV")),ur(this,Hc,null),ur(this,Iy,!1),ur(this,sm,0),ur(this,am,null),ur(this,_i,void 0),ur(this,lm,void 0),Q(fe(qr,this),"manualColumnResizer"),Q(fe(ca,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[Py]}enablePlugin(){var e=this;this.enabled||(vn(_i,this,new nu),fe(_i,this).addLocalHook("init",()=>Eo(is,this,wbe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,fe(_i,this)),this.addHook("modifyColWidth",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Eo(is,e,Rbe).call(e,...r)},1),this.addHook("beforeStretchingColumnWidth",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Eo(is,e,Ebe).call(e,...r)},1),this.addHook("beforeColumnResize",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Eo(is,e,xbe).call(e,...r)}),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){vn(lm,this,fe(_i,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",nV,fe(_i,this).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",nV,e),e.value}setManualSize(e,n){const r=Math.max(n,20),i=this.hot.toPhysicalColumn(e);return fe(_i,this).setValueAtIndex(i,r),r}clearManualSize(e){const n=this.hot.toPhysicalColumn(e);fe(_i,this).setValueAtIndex(n,null)}setupHandlePosition(e){if(!e.parentNode)return;vn(va,this,e);const{_wt:n}=this.hot.view,r=n.wtTable.getCoords(fe(va,this)),i=r.col;if(i<0)return;const o=Hn(fe(va,this)),s=fe(va,this).getBoundingClientRect(),a=i<n.getSetting("fixedColumnsStart");let l;a&&(l=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(fe(va,this),r.row,r.col)),l||(l=n.wtOverlays.topOverlay.getRelativeCellPosition(fe(va,this),r.row,r.col)),vn(aw,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)),vn(Ci,this,[]);const u=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&u){const c=this.hot.getSelectedRange();W(c,h=>{const d=h.getTopStartCorner().col,f=h.getBottomEndCorner().col;Ce(d,f,g=>{fe(Ci,this).includes(g)||fe(Ci,this).push(g)})})}fe(Ci,this).includes(fe(aw,this))||vn(Ci,this,[fe(aw,this)]),vn(lw,this,l.start-6),vn(bd,this,parseInt(s.width,10)),fe(qr,this).style.top=`${l.top}px`,fe(qr,this).style[this.inlineDir]=`${fe(lw,this)+fe(bd,this)}px`,fe(qr,this).style.height=`${o}px`,this.hot.rootElement.appendChild(fe(qr,this))}refreshHandlePosition(){fe(qr,this).style[this.inlineDir]=`${fe(lw,this)+fe(Oy,this)}px`}setupGuidePosition(){const e=parseInt(Hn(fe(qr,this)),10),n=parseInt(fe(qr,this).style.top,10)+e,r=this.hot.view.getTableHeight();Q(fe(qr,this),"active"),Q(fe(ca,this),"active"),fe(ca,this).style.top=`${n}px`,this.refreshGuidePosition(),fe(ca,this).style.height=`${r-e}px`,this.hot.rootElement.appendChild(fe(ca,this))}refreshGuidePosition(){fe(ca,this).style[this.inlineDir]=fe(qr,this).style[this.inlineDir]}hideHandleAndGuide(){xe(fe(qr,this),"active"),xe(fe(ca,this),"active")}checkIfColumnHeader(e){const n=xc(e,["THEAD"],this.hot.rootElement),{topOverlay:r,topInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.THEAD,i.clone.wtTable.THEAD].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.render(),this.hot.view.adjustElementsSize()},n=(r,i)=>{const o=this.hot.runHooks("beforeColumnResize",fe(Ts,this),r,!0);o!==void 0&&vn(Ts,this,o),this.setManualSize(r,fe(Ts,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",fe(Ts,this),r,!0),i&&e()};fe(sm,this)>=2&&(fe(Ci,this).length>1?(W(fe(Ci,this),i=>{n(i)}),e()):W(fe(Ci,this),i=>{n(i,!0)})),vn(sm,this,0),vn(am,this,null)}bindEvents(){const{rootWindow:e,rootElement:n}=this.hot;this.eventManager.addEventListener(n,"mouseover",r=>Eo(is,this,bbe).call(this,r)),this.eventManager.addEventListener(n,"mousedown",r=>Eo(is,this,ybe).call(this,r)),this.eventManager.addEventListener(e,"mousemove",r=>Eo(is,this,Cbe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>Eo(is,this,Sbe).call(this)),this.eventManager.addEventListener(fe(qr,this),"contextmenu",()=>Eo(is,this,_be).call(this))}destroy(){super.destroy()}}function wbe(){const t=this.hot.getSettings()[Py],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((n,r)=>{fe(_i,this).setValueAtIndex(r,n)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((n,r)=>{fe(_i,this).setValueAtIndex(r,n)})},!0),vn(lm,this,t)):t===!0&&Array.isArray(fe(lm,this))&&this.hot.batchExecution(()=>{fe(lm,this).forEach((n,r)=>{fe(_i,this).setValueAtIndex(r,n)})},!0)}function bbe(t){if(!rz(t.target)&&fe(Iy,this)!==!0&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const n=e.getAttribute("colspan");e&&(n===null||n==="1")&&(fe(Hc,this)||this.setupHandlePosition(e))}}function ybe(t){t.target.parentNode===this.hot.rootElement&&Me(t.target,"manualColumnResizer")&&(this.setupHandlePosition(fe(va,this)),this.setupGuidePosition(),vn(Hc,this,!0),fe(am,this)===null&&(vn(am,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(fe(am,this))),vn(sm,this,fe(sm,this)+1),this.startX=t.pageX,vn(Ts,this,fe(bd,this)))}function Cbe(t){if(fe(Hc,this)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();vn(Oy,this,fe(bd,this)+e),W(fe(Ci,this),n=>{vn(Ts,this,this.setManualSize(n,fe(Oy,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function Sbe(){const t=()=>{this.hot.render(),this.hot.view.adjustElementsSize()},e=(n,r)=>{this.hot.runHooks("beforeColumnResize",fe(Ts,this),n,!1),r&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",fe(Ts,this),n,!1)};fe(Hc,this)&&(this.hideHandleAndGuide(),vn(Hc,this,!1),fe(Ts,this)!==fe(bd,this)&&(fe(Ci,this).length>1?(W(fe(Ci,this),r=>{e(r)}),t()):W(fe(Ci,this),r=>{e(r,!0)})),this.setupHandlePosition(fe(va,this)))}function _be(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(fe(qr,this)),this.hot.rootElement.removeChild(fe(ca,this)),vn(Hc,this,!1),vn(Iy,this,!0),this.hot._registerImmediate(()=>{vn(Iy,this,!1)})}function Rbe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalColumn(e),i=fe(_i,this).getValueAtIndex(r);this.hot.getSettings()[Py]&&i&&(n=i)}return n}function Ebe(t,e){const n=fe(_i,this).getValueAtIndex(this.hot.toPhysicalColumn(e));return typeof n=="number"?n:t}function xbe(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function jE(t,e,n){return(e=Tbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tbe(t){var e=Mbe(t,"string");return typeof e=="symbol"?e:e+""}function Mbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const UE=0,rV=1,iV=2,Mh="px";let eK=class{constructor(e){jE(this,"hot",void 0),jE(this,"_element",null),jE(this,"state",UE),this.hot=e}appendTo(e){e.appendChild(this._element),this.state=iV}build(){this.state===UE&&(this._element=this.hot.rootDocument.createElement("div"),this.state=rV)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=UE}isAppended(){return this.state===iV}isBuilt(){return this.state>=rV}setPosition(e,n){e!==void 0&&(this._element.style.top=e+Mh),n!==void 0&&(this._element.style.left=n+Mh)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(e,n){e&&(this._element.style.width=e+Mh),n&&(this._element.style.height=n+Mh)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){e&&(this._element.style.marginTop=e+Mh),n&&(this._element.style.marginLeft=n+Mh)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}};const Pbe="ht__manualRowMove--backlight";class Obe extends eK{build(){super.build(),Q(this._element,Pbe)}}const Ibe="ht__manualRowMove--guideline";class Abe extends eK{build(){super.build(),Q(this._element,Ibe)}}function Hbe(t,e){tK(t,e),e.add(t)}function Ph(t,e,n){tK(t,e),e.set(t,n)}function tK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dc(t,e,n){return t.set(Sl(t,e),n),n}function ke(t,e){return t.get(Sl(t,e))}function Sl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("beforeRowMove");de.getSingleton().register("afterRowMove");const zE="manualRowMove",kbe=140,oV="ht__manualRowMove",Ay="show-ui",GT="on-moving--rows",KT="after-selection--rows";var Hr=new WeakMap,Tl=new WeakMap,Ia=new WeakMap,Dl=new WeakMap,ii=new WeakMap,uw=new WeakMap,$u=new WeakSet;class Nbe extends ft{constructor(){super(...arguments),Hbe(this,$u),Ph(this,Hr,new Obe(this.hot)),Ph(this,Tl,new Abe(this.hot)),Ph(this,Ia,[]),Ph(this,Dl,void 0),Ph(this,ii,{}),Ph(this,uw,void 0)}static get PLUGIN_KEY(){return zE}static get PLUGIN_PRIORITY(){return kbe}isEnabled(){return!!this.hot.getSettings()[zE]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sl($u,e,Dbe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sl($u,e,Lbe).call(e,...r)}),this.addHook("afterScrollHorizontally",()=>Sl($u,this,Vbe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sl($u,e,Wbe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),Q(this.hot.rootElement,oV),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){xe(this.hot.rootElement,oV),this.unregisterEvents(),ke(Hr,this).destroy(),ke(Tl,this).destroy(),super.disablePlugin()}moveRow(e,n){return this.moveRows([e],n)}moveRows(e,n){const r=ke(uw,this),i=this.isMovePossible(e,n),o=this.hot.runHooks("beforeRowMove",e,n,r,i);if(dc(uw,this,void 0),o===!1)return;i&&this.hot.rowIndexMapper.moveIndexes(e,n);const s=i&&this.isRowOrderChanged(e,n);return this.hot.runHooks("afterRowMove",e,n,r,i,s),s}dragRow(e,n){return this.dragRows([e],n)}dragRows(e,n){const r=this.countFinalIndex(e,n);return dc(uw,this,n),this.moveRows(e,r)}isMovePossible(e,n){const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),i=e.length+n>r,o=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(i||o||s||a)}isRowOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}countFinalIndex(e,n){const r=li(e,(i,o)=>(o<n&&(i+=1),i),0);return n-r}getRowsHeight(e,n){const r=this.hot.rowIndexMapper;let i=0;for(let o=e;o<=n;o++){const s=r.getRenderableFromVisualIndex(o);s!==null&&(i+=this.hot.view._wt.wtTable.getRowHeight(s)||this.hot.view.getDefaultRowHeight())}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[zE];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveRows(n,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeLast(),n=[];if(!e)return n;const{from:r,to:i}=e,o=Math.min(r.row,i.row),s=Math.max(r.row,i.row);return Ce(o,s,a=>{n.push(a)}),n}refreshPositions(){const e=ke(ii,this).coords,n=this.hot.getFirstFullyVisibleRow(),r=this.hot.getLastFullyVisibleRow(),i=this.hot.countRows();this.isFixedRowTop(e.row)&&n>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1)),this.isFixedRowBottom(e.row)&&r<i&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r+1,1),void 0,!0);const o=this.hot.view._wt.wtTable,s=ke(ii,this).TD,a=this.hot.rootElement,l=wr(a),u=qm(a),c=o.holder.scrollTop,h=this.hot.rootWindow!==u?u.scrollTop:0,d=l.top-h,f=ke(ii,this).eventPageY-d+c,g=o.hider.offsetHeight,m=o.TBODY.offsetTop,p=ke(Hr,this).getOffset().top,y=ke(Hr,this).getSize().height,b=s.offsetHeight/2,T=s.offsetHeight;let E=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const P=f>=E+b;this.isFixedRowTop(e.row)&&(E+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?ke(ii,this).row=n>0?n-1:n:P?(ke(ii,this).row=e.row+1,E+=e.row===0?T-1:T):ke(ii,this).row=e.row;let I=f,H=E;f+y+p>=g?I=g-y-p:f+p<m&&(I=m+Math.abs(p)),E>=g-1&&(H=g-1),ke(Hr,this).setPosition(I),ke(Tl,this).setPosition(H)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>Sl($u,this,$be).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Sl($u,this,Fbe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){ke(Hr,this).build(),ke(Tl,this).build()}destroy(){ke(Hr,this).destroy(),ke(Tl,this).destroy(),super.destroy()}}function Dbe(t,e,n,r){const{wtTable:i,wtViewport:o}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||ke(Dl,this)||t.button!==0){dc(Dl,this,!1),ke(Ia,this).length=0,xe(this.hot.rootElement,[GT,Ay]);return}const l=ke(Tl,this).isBuilt()&&!ke(Tl,this).isAppended(),u=ke(Hr,this).isBuilt()&&!ke(Hr,this).isAppended();l&&u&&(ke(Tl,this).appendTo(i.hider),ke(Hr,this).appendTo(i.hider));const{from:c,to:h}=a,d=Math.min(c.row,h.row),f=Math.max(c.row,h.row);if(e.col<0&&e.row>=d&&e.row<=f){r.row=!0,dc(Dl,this,!0),ke(ii,this).eventPageY=t.pageY,ke(ii,this).coords=e,ke(ii,this).TD=n,dc(Ia,this,this.prepareRowsToMoving());const g=i.holder.scrollLeft+o.getRowHeaderWidth(),m=this.getRowsHeight(d,e.row-1)+(t.clientY-n.getBoundingClientRect().top);ke(Hr,this).setPosition(null,g),ke(Hr,this).setSize(i.hider.offsetWidth-g,this.getRowsHeight(d,f)),ke(Hr,this).setOffset(-m,null),Q(this.hot.rootElement,GT),this.refreshPositions()}else xe(this.hot.rootElement,KT),dc(Dl,this,!1),ke(Ia,this).length=0}function $be(t){ke(Dl,this)&&(ke(ii,this).eventPageY=t.pageY,this.refreshPositions())}function Lbe(t,e,n,r){!this.hot.getSelectedRangeLast()||!ke(Dl,this)||(ke(Ia,this).indexOf(e.row)>-1?xe(this.hot.rootElement,Ay):Q(this.hot.rootElement,Ay),r.row=!0,r.column=!0,r.cell=!0,ke(ii,this).coords=e,ke(ii,this).TD=n)}function Fbe(){const t=ke(ii,this).row,e=ke(Ia,this).length;if(dc(Dl,this,!1),xe(this.hot.rootElement,[GT,Ay,KT]),this.hot.selection.isSelectedByRowHeader()&&Q(this.hot.rootElement,KT),e<1||t===void 0)return;const n=ke(Ia,this)[0],r=this.hot.toPhysicalRow(n),i=this.dragRows(ke(Ia,this),t);if(ke(Ia,this).length=0,i===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const o=this.hot.toVisualRow(r),s=o+e-1;this.hot.selectRows(o,s)}}function Vbe(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=t.holder.scrollLeft,r=e+n;ke(Hr,this).setPosition(null,r),ke(Hr,this).setSize(t.hider.offsetWidth-r)}function Wbe(){this.moveBySettingsOrLoad()}function Bbe(t,e){nK(t,e),e.add(t)}function cr(t,e,n){nK(t,e),e.set(t,n)}function nK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function un(t,e,n){return t.set(wa(t,e),n),n}function he(t,e){return t.get(wa(t,e))}function wa(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Hy="manualRowResize",jbe=30,sV="manualRowHeights";var ws=new WeakMap,cw=new WeakMap,Si=new WeakMap,um=new WeakMap,Ml=new WeakMap,sI=new WeakMap,yd=new WeakMap,hw=new WeakMap,Pr=new WeakMap,fs=new WeakMap,kc=new WeakMap,ky=new WeakMap,cm=new WeakMap,hm=new WeakMap,Mo=new WeakMap,dm=new WeakMap,al=new WeakSet;class Ube extends ft{static get PLUGIN_KEY(){return Hy}static get PLUGIN_PRIORITY(){return jbe}constructor(e){super(e),Bbe(this,al),cr(this,ws,null),cr(this,cw,null),cr(this,Si,[]),cr(this,um,null),cr(this,Ml,null),cr(this,sI,null),cr(this,yd,null),cr(this,hw,null),cr(this,Pr,this.hot.rootDocument.createElement("DIV")),cr(this,fs,this.hot.rootDocument.createElement("DIV")),cr(this,kc,!1),cr(this,ky,!1),cr(this,cm,0),cr(this,hm,null),cr(this,Mo,void 0),cr(this,dm,void 0),Q(he(Pr,this),"manualRowResizer"),Q(he(fs,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[Hy]}enablePlugin(){this.enabled||(un(Mo,this,new nu),he(Mo,this).addLocalHook("init",()=>wa(al,this,Zbe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,he(Mo,this)),this.addHook("modifyRowHeight",(e,n)=>wa(al,this,Xbe).call(this,e,n)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){un(dm,this,he(Mo,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",sV,he(Mo,this).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",sV,e),e.value}setManualSize(e,n){const r=this.hot.toPhysicalRow(e),i=Math.max(n,this.hot.view.getDefaultRowHeight());return he(Mo,this).setValueAtIndex(r,i),i}getLastDesiredRowHeight(){return he(um,this)}setupHandlePosition(e){un(ws,this,e);const{view:n}=this.hot,{_wt:r}=n,i=r.wtTable.getCoords(he(ws,this)),o=i.row;if(o<0)return;const s=_n(he(ws,this)),a=he(ws,this).getBoundingClientRect(),l=o<r.getSetting("fixedRowsTop"),u=o>=n.countNotHiddenRowIndexes(0,1)-r.getSetting("fixedRowsBottom");let c;l?c=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(he(ws,this),i.row,i.col):u&&(c=r.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(he(ws,this),i.row,i.col)),c||(c=r.wtOverlays.inlineStartOverlay.getRelativeCellPosition(he(ws,this),i.row,i.col)),un(cw,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(o)),un(Si,this,[]);const h=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&h){const d=this.hot.getSelectedRange();W(d,f=>{const g=f.getTopStartCorner().row,m=f.getBottomStartCorner().row;Ce(g,m,p=>{he(Si,this).includes(p)||he(Si,this).push(p)})})}he(Si,this).includes(he(cw,this))||un(Si,this,[he(cw,this)]),un(hw,this,c.top-6),un(yd,this,parseInt(a.height,10)),he(Pr,this).style.top=`${he(hw,this)+he(yd,this)}px`,he(Pr,this).style[this.inlineDir]=`${c.start}px`,he(Pr,this).style.width=`${s}px`,this.hot.rootElement.appendChild(he(Pr,this))}refreshHandlePosition(){he(Pr,this).style.top=`${he(hw,this)+he(um,this)}px`}setupGuidePosition(){const e=parseInt(_n(he(Pr,this)),10),n=parseInt(he(Pr,this).style[this.inlineDir],10)+e,r=this.hot.view.getTableWidth();Q(he(Pr,this),"active"),Q(he(fs,this),"active"),he(fs,this).style.top=he(Pr,this).style.top,he(fs,this).style[this.inlineDir]=`${n}px`,he(fs,this).style.width=`${r-e}px`,this.hot.rootElement.appendChild(he(fs,this))}refreshGuidePosition(){he(fs,this).style.top=he(Pr,this).style.top}hideHandleAndGuide(){xe(he(Pr,this),"active"),xe(he(fs,this),"active")}checkIfRowHeader(e){const n=xc(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:r,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.TBODY,i.clone.wtTable.TBODY,o.clone.wtTable.TBODY].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const n=this.hot.view._wt.wtTable.getRowHeight(e);return n!==void 0&&he(Ml,this)<n?n:he(Ml,this)}afterMouseDownTimeout(){const e=()=>{this.hot.render(),this.hot.view.adjustElementsSize()},n=(r,i)=>{const o=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!0);o!==void 0&&un(Ml,this,o),this.setManualSize(r,he(Ml,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!0),i&&e()};he(cm,this)>=2&&(he(Si,this).length>1?(W(he(Si,this),i=>{n(i)}),e()):W(he(Si,this),i=>{n(i,!0)})),un(cm,this,0),un(hm,this,null)}bindEvents(){const{rootElement:e,rootWindow:n}=this.hot;this.eventManager.addEventListener(e,"mouseover",r=>wa(al,this,zbe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>wa(al,this,Ybe).call(this,r)),this.eventManager.addEventListener(n,"mousemove",r=>wa(al,this,Gbe).call(this,r)),this.eventManager.addEventListener(n,"mouseup",()=>wa(al,this,Kbe).call(this)),this.eventManager.addEventListener(he(Pr,this),"contextmenu",()=>wa(al,this,qbe).call(this))}destroy(){super.destroy()}}function zbe(t){if(!rz(t.target)&&he(ky,this)!==!0&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(he(kc,this)||this.setupHandlePosition(e))}}function Ybe(t){Me(t.target,"manualRowResizer")&&(this.setupHandlePosition(he(ws,this)),this.setupGuidePosition(),un(kc,this,!0),he(hm,this)===null&&(un(hm,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(he(hm,this))),un(cm,this,he(cm,this)+1),un(sI,this,t.pageY),un(Ml,this,he(yd,this)))}function Gbe(t){he(kc,this)&&(un(um,this,he(yd,this)+(t.pageY-he(sI,this))),W(he(Si,this),e=>{un(Ml,this,this.setManualSize(e,he(um,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function Kbe(){const t=()=>{this.hot.render(),this.hot.view.adjustElementsSize()},e=(n,r)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!1),r&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!1)};he(kc,this)&&(this.hideHandleAndGuide(),un(kc,this,!1),he(Ml,this)!==he(yd,this)&&(he(Si,this).length>1?(W(he(Si,this),r=>{e(r)}),t()):W(he(Si,this),r=>{e(r,!0)})),this.setupHandlePosition(he(ws,this)))}function qbe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(he(Pr,this)),this.hot.rootElement.removeChild(he(fs,this)),un(kc,this,!1),un(ky,this,!0),this.hot._registerImmediate(()=>{un(ky,this,!1)})}function Xbe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalRow(e),i=he(Mo,this).getValueAtIndex(r);this.hot.getSettings()[Hy]&&i&&(n=i)}return n}function Zbe(){const t=this.hot.getSettings()[Hy],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((n,r)=>{he(Mo,this).setValueAtIndex(r,n)}):Array.isArray(t)?(t.forEach((n,r)=>{he(Mo,this).setValueAtIndex(r,n)}),un(dm,this,t)):t===!0&&Array.isArray(he(dm,this))&&he(dm,this).forEach((n,r)=>{he(Mo,this).setValueAtIndex(r,n)})},!0)}var aV={},lV;function Jbe(){if(lV)return aV;lV=1;var t=NC();return t("flatMap"),aV}Jbe();var uV={},cV={},YE,hV;function Qbe(){if(hV)return YE;hV=1;var t=Dn(),e=Ln(),n=Ls(),r=ZM();return YE=function(i,o){(!o||typeof i!="string")&&e(i);var s=r(i);return n(e(s!==void 0?t(s,i):i))},YE}var dV;function eye(){if(dV)return cV;dV=1;var t=$t(),e=Dn(),n=ai(),r=Ln(),i=Ls(),o=Qbe(),s=XM(),a=Ti(),l=Zl(),u=Ql(),c=!l&&u("flatMap",TypeError),h=s(function(){for(var d=this.iterator,f=this.mapper,g,m;;){if(m=this.inner)try{if(g=r(e(m.next,m.iterator)),!g.done)return g.value;this.inner=null}catch(p){a(d,"throw",p)}if(g=r(e(this.next,d)),this.done=!!g.done)return;try{this.inner=o(f(g.value,this.counter++),!1)}catch(p){a(d,"throw",p)}}});return t({target:"Iterator",proto:!0,real:!0,forced:l||c},{flatMap:function(f){r(this);try{n(f)}catch(g){a(this,"throw",g)}return c?e(c,this,f):new h(i(this),{mapper:f,inner:null})}}),cV}var fV;function tye(){return fV||(fV=1,eye()),uV}tye();function nye(t,e,n){rye(t,e),e.set(t,n)}function rye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lu(t,e,n){return(e=iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iye(t){var e=oye(t,"string");return typeof e=="symbol"?e:e+""}function oye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gV(t,e){return t.get(rK(t,e))}function dw(t,e,n){return t.set(rK(t,e),n),n}function rK(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Fu=new WeakMap;class bs{constructor(e,n,r,i,o,s){Lu(this,"row",void 0),Lu(this,"col",void 0),Lu(this,"rowspan",void 0),Lu(this,"colspan",void 0),Lu(this,"removed",!1),Lu(this,"cellCoordsFactory",void 0),Lu(this,"cellRangeFactory",void 0),nye(this,Fu,null),this.row=e,this.col=n,this.rowspan=r,this.colspan=i,this.cellCoordsFactory=o,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(e){let{row:n,col:r,rowspan:i,colspan:o}=e;return yt`The merged cell declared with {row: ${n}, col: ${r},\x20
      rowspan: ${i}, colspan: ${o}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){let{row:n,col:r}=e;return yt`The merged cell declared at [${n}, ${r}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){let{row:n,col:r}=e;return yt`The merged cell declared at [${n}, ${r}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){let{row:n,col:r}=e;return yt`The merged cell declared at [${n}, ${r}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){let{row:n,col:r,rowspan:i,colspan:o}=e;return n<0||r<0||i<0||o<0}static isSingleCell(e){let{rowspan:n,colspan:r}=e;return r===1&&n===1}static containsZeroSpan(e){let{rowspan:n,colspan:r}=e;return r===0||n===0}static isOutOfBounds(e,n,r){return e.row<0||e.col<0||e.row>=n||e.row+e.rowspan-1>=n||e.col>=r||e.col+e.colspan-1>=r}normalize(e){const n=e.countRows(),r=e.countCols();this.row<0?this.row=0:this.row>n-1&&(this.row=n-1),this.col<0?this.col=0:this.col>r-1&&(this.col=r-1),this.row+this.rowspan>n-1&&(this.rowspan=n-this.row),this.col+this.colspan>r-1&&(this.colspan=r-this.col),dw(Fu,this,null)}includes(e,n){return this.row<=e&&this.col<=n&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=n}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,n){const r=e[0]||e[1],i=n+Math.abs(e[0]||e[1])-1,o=e[0]?"colspan":"rowspan",s=e[0]?"col":"row",a=Math.min(n,i),l=Math.max(n,i),u=this[s],c=this[s]+this[o]-1;if(u>=n&&(this[s]+=r),r>0)n<=c&&n>u&&(this[o]+=r);else if(r<0){if(a<=u&&l>=c)return this.removed=!0,dw(Fu,this,null),!1;if(u>=a&&u<=l){const h=l-u+1,d=Math.abs(r)-h;this[s]-=d+r,this[o]-=h}else if(u<=a&&c>=l)this[o]+=r;else if(u<=a&&c>=a&&c<l){const h=c-a+1;this[o]-=h}}return dw(Fu,this,null),!0}isFarther(e,n){return e?n==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:n==="up"?e.row>this.row:n==="right"?e.col+e.colspan-1<this.col+this.colspan-1:n==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return gV(Fu,this)||dw(Fu,this,this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))),gV(Fu,this)}}function sye(t,e){aye(t,e),e.add(t)}function aye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fw(t,e,n){return(e=lye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return typeof e=="symbol"?e:e+""}function uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vu(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ll=new WeakSet;class Ny{constructor(e){sye(this,ll),fw(this,"plugin",void 0),fw(this,"mergedCells",[]),fw(this,"mergedCellsMatrix",new Map),fw(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){let{row:n,col:r}=e;return yt`The merged cell declared at [${n}, ${r}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,n){var r;return this.mergedCellsMatrix.has(e)&&(r=this.mergedCellsMatrix.get(e).get(n))!==null&&r!==void 0?r:!1}getByRange(e){const{row:n,col:r}=e.getTopStartCorner(),{row:i,col:o}=e.getBottomEndCorner(),s=this.mergedCells.length;let a=!1;for(let l=0;l<s;l++){const u=this.mergedCells[l],{row:c,col:h,rowspan:d,colspan:f}=u;if(c>=n&&c+d-1<=i&&h>=r&&h+f-1<=o){a=u;break}}return a}filterOverlappingMergeCells(e){const n=new Set;return this.mergedCells.forEach(i=>{const{row:o,col:s,colspan:a,rowspan:l}=i;for(let u=o;u<o+l;u++)for(let c=s;c<s+a;c++)n.add(`r${u},c${c}`)}),e.filter(i=>{const{row:o,col:s,colspan:a,rowspan:l}=i,u=new Set;let c=!1;for(let h=o;h<o+l;h++){for(let d=s;d<s+a;d++){const f=`r${h},c${d}`;if(n.has(f)){gt(Ny.IS_OVERLAPPING_WARNING(i)),c=!0;break}u.add(f)}if(c)break}return c||n.add(...u),!c})}getWithinRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{row:r,col:i}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),a=[];for(let l=r;l<=o;l++)for(let u=i;u<=s;u++){const c=this.get(l,u);c&&(n||!n&&c.row===l&&c.col===u)&&a.push(c)}return a}add(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=e.row,i=e.col,o=e.rowspan,s=e.colspan,a=new bs(r,i,o,s,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(r,i),u=n?!1:this.isOverlapping(a);return!l&&!u?(this.hot&&a.normalize(this.hot),this.mergedCells.push(a),Vu(ll,this,mV).call(this,a),a):(u&&gt(Ny.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,n){const r=this.get(e,n),i=r?this.mergedCells.indexOf(r):-1;return r&&i!==-1?(this.mergedCells.splice(i,1),Vu(ll,this,cye).call(this,r),r):!1}clear(){W(this.mergedCells,e=>{let{row:n,col:r,rowspan:i,colspan:o}=e;Ce(n,n+i,s=>{Ce(r,r+o,a=>{const l=this.hot.getCell(s,a);l&&(l.removeAttribute("rowspan"),l.removeAttribute("colspan"),l.style.display="")})})}),this.mergedCells.length=0,this.mergedCellsMatrix=new Map}isOverlapping(e){const n=e.getRange();for(let r=0;r<this.mergedCells.length;r++)if(this.mergedCells[r].getRange().overlaps(n))return!0;return!1}isFirstRenderableMergedCell(e,n){const r=this.get(e,n);if(!r)return!1;const{row:i,col:o,rowspan:s,colspan:a}=r,l=this.hot.view.getActiveOverlayName(),u=["top","top_inline_start_corner"].includes(l)?0:this.hot.getFirstRenderedVisibleRow(),c=["inline_start","top_inline_start_corner","bottom_inline_start_corner"].includes(l)?0:this.hot.getFirstRenderedVisibleColumn(),h=it(u,i,i+s-1),d=it(c,o,o+a-1);return this.hot.rowIndexMapper.getNearestNotHiddenIndex(h,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(d,1)===n}getFirstRenderableCoords(e,n){const r=this.get(e,n);if(!r||this.isFirstRenderableMergedCell(e,n))return this.hot._createCellCoords(e,n);const i=this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1),o=this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1);return this.hot._createCellCoords(i,o)}getStartMostColumnIndex(e,n){const r=Vu(ll,this,gw).call(this,e,"col",-1);let i=n;for(let o=0;o<r.length;o++)if(r[o]<=n){i=r[o];break}return i}getEndMostColumnIndex(e,n){const r=Vu(ll,this,gw).call(this,e,"col",1);let i=n;for(let o=0;o<r.length;o++)if(r[o]>=n){i=r[o];break}return i}getTopMostRowIndex(e,n){const r=Vu(ll,this,gw).call(this,e,"row",-1);let i=n;for(let o=0;o<r.length;o++)if(r[o]<=n){i=r[o];break}return i}getBottomMostRowIndex(e,n){const r=Vu(ll,this,gw).call(this,e,"row",1);let i=n;for(let o=0;o<r.length;o++)if(r[o]>=n){i=r[o];break}return i}shiftCollections(e,n,r){const i=[0,0];switch(e){case"right":i[0]+=r;break;case"left":i[0]-=r;break;case"down":i[1]+=r;break;case"up":i[1]-=r;break}const o=[];this.mergedCells.forEach(s=>{s.shift(i,n),s.removed&&o.push(s)}),o.forEach(s=>{this.mergedCells.splice(this.mergedCells.indexOf(s),1)}),this.mergedCellsMatrix.clear(),this.mergedCells.forEach(s=>{Vu(ll,this,mV).call(this,s)})}}function gw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=new Map,i=n===1?t.getTopStartCorner():t.getBottomEndCorner(),o=n===1?t.getBottomEndCorner():t.getTopStartCorner();for(let s=i.row;n===1?s<=o.row:s>=o.row;s+=n)for(let a=i.col;n===1?a<=o.col:a>=o.col;a+=n){const l=e==="row"?s:a,u=this.get(s,a);let c=l;u&&(c=n===1?u[e]+u[`${e}span`]-1:u[e]),r.has(l)||r.set(l,new Set),r.get(l).add(c)}return Array.from(new Set(Array.from(r.entries()).filter(s=>{let[,a]=s;return a.size===1}).flatMap(s=>{let[,a]=s;return Array.from(a)})))}function mV(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.has(e)||this.mergedCellsMatrix.set(e,new Map),this.mergedCellsMatrix.get(e).set(n,t)}function cye(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.get(e).delete(n)}function GE(t,e,n){return(e=hye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hye(t){var e=dye(t,"string");return typeof e=="symbol"?e:e+""}function dye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fye{constructor(e){GE(this,"plugin",void 0),GE(this,"mergedCellsCollection",void 0),GE(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}getDirection(e,n){let r=null;return n[0]===e[0]&&n[1]===e[1]&&n[3]===e[3]?r="down":n[2]===e[2]&&n[1]===e[1]&&n[3]===e[3]?r="up":n[1]===e[1]&&n[2]===e[2]?r="right":r="left",r}snapDragArea(e,n,r,i){const o=n.slice(0),s=this.getAutofillSize(e,n,r),[a,l,u,c]=e,d=["up","down"].indexOf(r)>-1?u-a+1:c-l+1,f=Math.floor(s/d)*d,g=s-f,m=this.getFarthestCollection(e,n,r,i);if(m){if(r==="down"){const p=m.row+m.rowspan-a-g;o[2]+p>=this.plugin.hot.countRows()?o[2]-=g:o[2]+=g?p:0}else if(r==="right"){const p=m.col+m.colspan-l-g;o[3]+p>=this.plugin.hot.countCols()?o[3]-=g:o[3]+=g?p:0}else if(r==="up"){const p=u-g-m.row+1;o[0]+p<0?o[0]+=g:o[0]-=g?p:0}else if(r==="left"){const p=c-g-m.col+1;o[1]+p<0?o[1]+=g:o[1]-=g?p:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:r,foundMergedCells:i,fillSize:s,dragArea:o,cycleLength:d}),o}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),kn(this.currentFillData,e)}getAutofillSize(e,n,r){const[i,o,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return i-l;case"down":return c-s;case"left":return o-u;case"right":return h-a;default:return null}}getDragArea(e,n,r){const[i,o,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return[l,u,i-1,a];case"down":{const d=this.mergedCellsCollection.get(c,a),f=d?d.rowspan-1:0;return[s+1,o,c+f,a]}case"left":return[l,u,s,o-1];case"right":{const d=this.mergedCellsCollection.get(c,a),f=d?d.colspan-1:0;return[i,a+f,c,h]}default:return null}}getFarthestCollection(e,n,r,i){const[o,s,a,l]=e,u=["up","down"].indexOf(r)>-1,c=u?a:l,h=u?o:s,d=this.getAutofillSize(e,n,r),f=u?a-o+1:l-s+1,g=Math.floor(d/f)*f,m=d-g;let p=null,y=null,b=null;switch(r){case"up":p="includesVertically",b=c-m+1;break;case"left":p="includesHorizontally",b=c-m+1;break;case"down":p="includesVertically",b=h+m-1;break;case"right":p="includesHorizontally",b=h+m-1;break}return W(i,T=>{T[p](b)&&T.isFarther(y,r)&&(y=T)}),y}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const n=this.getRangeFromChanges(e),r=this.currentFillData.foundMergedCells,i=this.currentFillData.dragDirection,o=(u,c)=>{switch(i){case"up":return u.row-c>=n.from.row;case"down":return u.row+u.rowspan-1+c<=n.to.row;case"left":return u.col-c>=n.from.column;case"right":return u.col+u.colspan-1+c<=n.to.column;default:return null}};let s=0,a=null,l=1;do for(let u=0;u<r.length;u+=1){if(a=r[u],s=l*this.currentFillData.cycleLength,o(a,s))switch(i){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan},!0);break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan},!0);break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan},!0);break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan},!0);break}u===r.length-1&&(l+=1)}while(o(a,s));this.currentFillData=null,this.plugin.hot.render(),r.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const n={min:null,max:null},r={min:null,max:null};return W(e,i=>{const o=i[0],s=this.plugin.hot.propToCol(i[1]);(n.min===null||o<n.min)&&(n.min=o),(n.max===null||o>n.max)&&(n.max=o),(r.min===null||s<r.min)&&(r.min=s),(r.max===null||s>r.max)&&(r.max=s)}),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}dragAreaOverlapsCollections(e,n,r){const i=this.getDragArea(e,n,r),[o,s,a,l]=i,u=this.plugin.hot._createCellCoords(o,s),c=this.plugin.hot._createCellCoords(a,l),h=this.plugin.hot._createCellRange(u,u,c);if(this.mergedCellsCollection.getWithinRange(h,!0).length===0)return!1;const f=this.mergedCellsCollection.getWithinRange(h,!1);return f.length===0?!0:r==="up"||r==="down"?!f.every(g=>{let{colspan:m}=g;return m===h.getWidth()}):!f.every(g=>{let{rowspan:m}=g;return m===h.getHeight()})}}function KE(t,e,n){return(e=gye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gye(t){var e=mye(t,"string");return typeof e=="symbol"?e:e+""}function mye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pye{constructor(e){KE(this,"plugin",void 0),KE(this,"hot",void 0),KE(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}getSelectedMergedCellClassName(e,n,r,i){const o=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]);if(i===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,n))return;const c=this.plugin.mergedCellsCollection.get(e,n);if(!c)return;const h=c.getLastRow(),d=c.getLastColumn();if(o<=c.row&&s<=c.col&&a>=h&&l>=d)return`${this.fullySelectedMergedCellClassName}-${i}`;if(this.isMergeCellFullySelected(c,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,n){const r=[];if(!n||!e)return!1;for(let i=0;i<e.rowspan;i+=1)for(let o=0;o<e.colspan;o+=1)r.push(this.hot._createCellCoords(e.row+i,e.col+o));for(let i=0;i<r.length;i+=1){const o=[];for(let s=0;s<n.length;s+=1)o[s]=n[s].includes(r[i]);if(!o.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let n=0;n<=7;n+=1)e.push(`${this.fullySelectedMergedCellClassName}-${n}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}function vye(t){return{key:"mergeCells",name(){const e=this.getSelectedLast();if(e){const n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(tP)}return this.getTranslatedPhrase(eP)},callback(){const e=this.getSelectedRangeLast();if(!e)return;e.setDirection(this.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;t.toggleMerge(e),this.selectCell(n.row,n.col,r.row,r.col,!1)},disabled(){const e=this.getSelectedLast();return e?bs.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}function fm(t,e,n){return(e=wye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wye(t){var e=bye(t,"string");return typeof e=="symbol"?e:e+""}function bye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pV{constructor(e){fm(this,"data",void 0),fm(this,"next",null),fm(this,"prev",null),this.data=e}}class mw{constructor(){fm(this,"first",null),fm(this,"last",null)}push(e){const n=new pV(e);if(this.first===null)this.first=n,this.last=n;else{const r=this.last;this.last=n,n.prev=r,r.next=n}return n}unshift(e){const n=new pV(e);if(this.first===null)this.first=n,this.last=n;else{const r=this.first;this.first=n,n.next=r,r.prev=n}}inorder(e){let n=this.first;for(;n;){const r=e(n);if(n===this.last||r===!0)break;n=n.next}}remove(e){if(this.first===null)return!1;let n=this.first,r,i;for(;n;){if(n.data===e)return r=n.next,i=n.prev,r&&(r.prev=i),i&&(i.next=r),n===this.first&&(this.first=r),n===this.last&&(this.last=i),!0;n=n.next}return!1}hasCycle(){let e=this.first,n=this.first;for(;;){if(e===null||(e=e.next,e===null))return!1;if(e=e.next,n=n.next,e===n)return!0}}pop(){if(this.last===null)return null;const e=this.last;return this.last=this.last.prev,e}shift(){if(this.first===null)return null;const e=this.first;return this.first=this.first.next,e}recursiveReverse(){function e(r,i){i&&(e(i,i.next),i.next=r)}if(!this.first)return;e(this.first,this.first.next),this.first.next=null;const n=this.first;this.first=this.last,this.last=n}reverse(){if(!this.first||!this.first.next)return;let e=this.first.next,n=this.first,r;for(;e;)r=e.next,e.next=n,n.prev=e,n=e,e=r;this.first.next=null,this.last.prev=null,r=this.first,this.first=n,this.last=r}}function yye(t,e){iK(t,e),e.add(t)}function Wu(t,e,n){iK(t,e),e.set(t,n)}function iK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wt(t,e){return t.get(Dy(t,e))}function di(t,e,n){return t.set(Dy(t,e),n),n}function Dy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var os=new WeakMap,ss=new WeakMap,as=new WeakMap,ls=new WeakMap,qT=new WeakMap,pw=new WeakMap,vw=new WeakMap,qE=new WeakSet;class Cye{constructor(e){let{mergedCellsGetter:n,rowIndexMapper:r,columnIndexMapper:i}=e;yye(this,qE),Wu(this,os,new mw),Wu(this,ss,new mw),Wu(this,as,null),Wu(this,ls,null),Wu(this,qT,null),Wu(this,pw,null),Wu(this,vw,null),di(qT,this,n),di(pw,this,r),di(vw,this,i)}getCurrentVerticalNode(){return wt(ls,this).data}getFirstVerticalNode(){return wt(ss,this).first.data}getNextVerticalNode(){return wt(ls,this).next.data}getPrevVerticalNode(){return wt(ls,this).prev.data}getCurrentHorizontalNode(){return wt(as,this).data}getFirstHorizontalNode(){return wt(os,this).first.data}getNextHorizontalNode(){return wt(as,this).next.data}getPrevHorizontalNode(){return wt(as,this).prev.data}setPrevNodeAsActive(){di(ls,this,wt(ls,this).prev),di(as,this,wt(as,this).prev)}setNextNodeAsActive(){di(ls,this,wt(ls,this).next),di(as,this,wt(as,this).next)}buildFocusOrder(e){const n=e.getTopStartCorner(),r=e.getBottomEndCorner(),i=new WeakSet;di(os,this,new mw);for(let s=n.row;s<=r.row;s++)if(!wt(pw,this).isHidden(s))for(let a=n.col;a<=r.col;a++){if(wt(vw,this).isHidden(a))continue;const l=Dy(qE,this,vV).call(this,e,wt(os,this),i,s,a);l&&di(as,this,l)}wt(os,this).first&&(wt(os,this).first.prev=wt(os,this).last,wt(os,this).last.next=wt(os,this).first);const o=new WeakSet;di(ss,this,new mw);for(let s=n.col;s<=r.col;s++)if(!wt(vw,this).isHidden(s))for(let a=n.row;a<=r.row;a++){if(wt(pw,this).isHidden(a))continue;const l=Dy(qE,this,vV).call(this,e,wt(ss,this),o,a,s);l&&di(ls,this,l)}wt(ss,this).first&&(wt(ss,this).first.prev=wt(ss,this).last,wt(ss,this).last.next=wt(ss,this).first)}setActiveNode(e,n){return wt(os,this).inorder(r=>{const{rowStart:i,rowEnd:o,colStart:s,colEnd:a}=r.data;if(e>=i&&e<=o&&n>=s&&n<=a)return di(as,this,r),!1}),wt(ss,this).inorder(r=>{const{rowStart:i,rowEnd:o,colStart:s,colEnd:a}=r.data;if(e>=i&&e<=o&&n>=s&&n<=a)return di(ls,this,r),!1}),this}}function vV(t,e,n,r,i){const o=t.getTopStartCorner(),s=t.getBottomEndCorner(),a=t.highlight.clone().normalize(),l=wt(qT,this).call(this,r,i);if(l&&n.has(l))return null;const u={colStart:i,colEnd:i,rowStart:r,rowEnd:r};if(l){if(n.add(l),l.row<o.row||l.row+l.rowspan-1>s.row||l.col<o.col||l.col+l.colspan-1>s.col)return null;u.colStart=l.col,u.colEnd=l.col+l.colspan-1,u.rowStart=l.row,u.rowEnd=l.row+l.rowspan-1}const c=e.push(u);return r===a.row&&i===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?c:null}function oK(t,e,n){const{view:r,rowIndexMapper:i}=t,o=r.getStylesHandler(),s=r.getDefaultRowHeight();let a=0;for(let u=e;u<e+n;u++)if(!i.isHidden(u)){var l;a+=(l=t.getRowHeight(u))!==null&&l!==void 0?l:s,u===0&&!o.isClassicTheme()&&(a+=1)}return a}function Sye(t){const{hot:e}=t,{rowIndexMapper:n,columnIndexMapper:r}=e,i=new Map;function o(){}function s(a,l,u){const c=t.mergedCellsCollection.get(l,u);if(!qe(c)){a.removeAttribute("rowspan"),a.removeAttribute("colspan"),ay()&&i.has(l)&&!e.getSettings().rowHeaders&&(a.style.height=`${i.get(l)}px`,i.delete(l)),a.style.display="";return}const{row:h,col:d,colspan:f,rowspan:g}=c,[m,p]=t.translateMergedCellToRenderable(h,g,d,f),y=t.getSetting("virtualized");if(ay()&&d===0&&!e.getSettings().rowHeaders){const j=oK(e,h,g);i.set(l,j/g)}const b=n.getRenderableFromVisualIndex(l),T=r.getRenderableFromVisualIndex(u),E=m-b+1,P=p-T+1;let I=n.getNearestNotHiddenIndex(h,1),H=r.getNearestNotHiddenIndex(d,1);if(y){const j=e.view.getActiveOverlayName();["top","top_inline_start_corner"].includes(j)||(I=Math.max(I,e.getFirstRenderedVisibleRow())),["inline_start","top_inline_start_corner","bottom_inline_start_corner"].includes(j)||(H=Math.max(H,e.getFirstRenderedVisibleColumn()))}const U=Math.min(g,E),K=Math.min(f,P);I===l&&H===u?(a.setAttribute("rowspan",U),a.setAttribute("colspan",K)):(a.removeAttribute("rowspan"),a.removeAttribute("colspan"),a.style.display="none")}return{before:o,after:s}}function _ye(t,e){sK(t,e),e.add(t)}function ww(t,e,n){sK(t,e),e.set(t,n)}function sK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XE(t,e,n){return(e=Rye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rye(t){var e=Eye(t,"string");return typeof e=="symbol"?e:e+""}function Eye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lp(t,e,n){return t.set(Ct(t,e),n),n}function Nt(t,e){return t.get(Ct(t,e))}function Ct(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}de.getSingleton().register("beforeMergeCells");de.getSingleton().register("afterMergeCells");de.getSingleton().register("beforeUnmergeCells");de.getSingleton().register("afterUnmergeCells");const XT="mergeCells",xye=150,wV=XT;var Ui=new WeakMap,Yi=new WeakMap,Ms=new WeakMap,bV=new WeakMap,Mt=new WeakSet;class Tye extends ft{constructor(){super(...arguments),_ye(this,Mt),XE(this,"mergedCellsCollection",null),XE(this,"autofillCalculations",null),XE(this,"selectionCalculations",null),ww(this,Ui,null),ww(this,Yi,{row:0,col:0}),ww(this,Ms,new Cye({mergedCellsGetter:(e,n)=>this.mergedCellsCollection.get(e,n),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper})),ww(this,bV,Sye(this))}static get PLUGIN_KEY(){return XT}static get PLUGIN_PRIORITY(){return xye}static get DEFAULT_SETTINGS(){return{[qz]:"cells",virtualized:!1,cells:[]}}isEnabled(){return!!this.hot.getSettings()[XT]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new Ny(this),this.autofillCalculations=new fye(this),this.selectionCalculations=new pye(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Mye).call(e,...r)}),this.addHook("modifyTransformFocus",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Oye).call(e,...r)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Iye).call(e,...r)}),this.addHook("modifyTransformEnd",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Aye).call(e,...r)}),this.addHook("beforeSelectionHighlightSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Hye).call(e,...r)}),this.addHook("beforeSetRangeStart",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,CV).call(e,...r)}),this.addHook("beforeSetRangeStartOnly",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,CV).call(e,...r)}),this.addHook("beforeSelectionFocusSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Nye).call(e,...r)}),this.addHook("afterSelectionFocusSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Dye).call(e,...r)}),this.addHook("afterSelectionEnd",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,$ye).call(e,...r)}),this.addHook("modifyGetCellCoords",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,yV).call(e,...r)}),this.addHook("modifyGetCoordsElement",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,yV).call(e,...r)}),this.addHook("afterIsMultipleSelection",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Pye).call(e,...r)}),this.addHook("afterRenderer",function(){return Nt(bV,e).after(...arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,kye).call(e,...r)}),this.addHook("afterGetCellMeta",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Lye).call(e,...r)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Fye).call(e,...r)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Vye).call(e,...r)}),this.addHook("modifyAutofillRange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Wye).call(e,...r)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Bye).call(e,...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,jye).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Uye).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,zye).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Yye).call(e,...r)}),this.addHook("beforeDrawBorders",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Gye).call(e,...r)}),this.addHook("afterDrawSelection",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Kye).call(e,...r)}),this.addHook("beforeRemoveCellClassNames",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,qye).call(e,...r)}),this.addHook("beforeBeginEditing",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Xye).call(e,...r)}),this.addHook("modifyRowHeightByOverlayName",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Mt,e,Zye).call(e,...r)}),this.addHook("beforeUndoStackChange",(n,r)=>{if(r==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(),super.updatePlugin()}ifChromeForceRepaint(){if(!az())return;const e=[];let n=[];this.mergedCellsCollection.mergedCells.forEach(r=>{const{row:i,rowspan:o}=r;for(let s=i+1;s<i+o;s++)n.push(s)}),n=[...new Set(n)],n.forEach(r=>{const i=this.hot.rowIndexMapper.getRenderableFromVisualIndex(r);this.hot.view._wt.wtOverlays.getOverlays(!0).map(o=>(o==null?void 0:o.name)==="master"?o:o.clone.wtTable).forEach(o=>{const s=o.getRow(i);s&&(s.style.background=iy(s,"backgroundColor").replace(")",", 0.99)"),e.push(s))})}),this.hot._registerTimeout(()=>{e.forEach(r=>{var i;r.style.background=(i=iy(r,"backgroundColor"))===null||i===void 0?void 0:i.replace(", 0.99)",")")})},1)}validateSetting(e){return e?bs.containsNegativeValues(e)?(gt(bs.NEGATIVE_VALUES_WARNING(e)),!1):bs.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(gt(bs.IS_OUT_OF_BOUNDS_WARNING(e)),!1):bs.isSingleCell(e)?(gt(bs.IS_SINGLE_CELL(e)),!1):bs.containsZeroSpan(e)?(gt(bs.ZERO_SPAN_WARNING(e)),!1):!0:!1}generateFromSettings(){const e=this.getSetting("cells").filter(i=>this.validateSetting(i)),n=this.mergedCellsCollection.filterOverlappingMergeCells(e),r=[];n.forEach(i=>{const{row:o,col:s,rowspan:a,colspan:l}=i,u=this.hot._createCellCoords(o,s),c=this.hot._createCellCoords(o+a-1,s+l-1),h=this.hot._createCellRange(u,u,c);this.mergeRange(h,!0,!0);for(let d=o;d<o+a;d++)for(let f=s;f<s+l;f++)(d!==o||f!==s)&&r.push([d,f,null])}),r.length!==0&&this.hot.setDataAtCell(r,void 0,void 0,this.pluginName)}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(e)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;const{from:n,to:r}=e;this.unmergeRange(e,!0),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}mergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=e.getTopStartCorner(),o=e.getBottomEndCorner(),s={row:i.row,col:i.col,rowspan:o.row-i.row+1,colspan:o.col-i.col+1},a=[];let l=null;return this.canMergeRange(s,n)?(this.hot.runHooks("beforeMergeCells",e,n),Ce(0,s.rowspan-1,c=>{Ce(0,s.colspan-1,h=>{let d=null;a[c]||(a[c]=[]),c===0&&h===0?d=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+c,s.col+h,"hidden",!0),a[c][h]=d})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s,n)?(r?l=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),n||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,s,n),l):!0):!1}unmergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.mergedCellsCollection.getWithinRange(e);r.length!==0&&(this.hot.runHooks("beforeUnmergeCells",e,n),W(r,i=>{this.mergedCellsCollection.remove(i.row,i.col),Ce(0,i.rowspan-1,o=>{Ce(0,i.colspan-1,s=>{this.hot.removeCellMeta(i.row+o,i.col+s,"hidden"),this.hot.removeCellMeta(i.row+o,i.col+s,"copyable")})}),this.hot.removeCellMeta(i.row,i.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,n),this.hot.render())}toggleMerge(e){const{from:n,to:r}=e.clone().normalize(),i=this.mergedCellsCollection.get(n.row,n.col);i.row===n.row&&i.col===n.col&&i.row+i.rowspan-1===r.row&&i.col+i.colspan-1===r.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,n,r,i){const o=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,i);this.mergeRange(this.hot._createCellRange(o,o,s))}unmerge(e,n,r,i){const o=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,i);this.unmergeRange(this.hot._createCellRange(o,o,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{const r=this.hot.getSelectedRangeLast();r&&!r.isSingleHeader()&&(this.toggleMerge(r),this.hot.render())},runOnlyIf:r=>!r.altKey,group:wV})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(wV)}modifyViewportRowStart(e,n){const r=this.hot.rowIndexMapper,i=r.getVisualFromRenderableIndex(e.startRow);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(i,o);if(qe(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,n);return}}}}modifyViewportRowEnd(e,n){const r=this.hot.rowIndexMapper,i=r.getVisualFromRenderableIndex(e.endRow);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(i,o);if(qe(s)){const a=s.row+s.rowspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endRow){e.endRow=l,this.modifyViewportRowEnd(e,n);return}}}}modifyViewportColumnStart(e,n){const r=this.hot.columnIndexMapper,i=r.getVisualFromRenderableIndex(e.startColumn);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(o,i);if(qe(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,n);return}}}}modifyViewportColumnEnd(e,n){const r=this.hot.columnIndexMapper,i=r.getVisualFromRenderableIndex(e.endColumn);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(o,i);if(qe(s)){const a=s.col+s.colspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endColumn){e.endColumn=l,this.modifyViewportColumnEnd(e,n);return}}}}translateMergedCellToRenderable(e,n,r,i){const{rowIndexMapper:o,columnIndexMapper:s}=this.hot;let a,l;n===0?a=o.getNearestNotHiddenIndex(e,1):a=o.getNearestNotHiddenIndex(e+n-1,-1),i===0?l=s.getNearestNotHiddenIndex(r,1):l=s.getNearestNotHiddenIndex(r+i-1,-1);const u=e>=0?o.getRenderableFromVisualIndex(a):e,c=r>=0?s.getRenderableFromVisualIndex(l):r;return[u,c]}}function Mye(){this.generateFromSettings(),this.hot.render()}function Pye(t){if(t){const e=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast(),r=n.getTopStartCorner(),i=n.getBottomEndCorner();for(let o=0;o<e.length;o+=1)if(r.row===e[o].row&&r.col===e[o].col&&i.row===e[o].row+e[o].rowspan-1&&i.col===e[o].col+e[o].colspan-1)return!1}return t}function Oye(t){Nt(Yi,this).row=t.row,Nt(Yi,this).col=t.col}function Iye(t){const e=this.hot.getSelectedRangeLast(),{highlight:n}=e,{columnIndexMapper:r,rowIndexMapper:i}=this.hot;Nt(Ui,this)&&(i.getRenderableFromVisualIndex(Nt(Ui,this).row)!==null&&(n.row=Nt(Ui,this).row),r.getRenderableFromVisualIndex(Nt(Ui,this).col)!==null&&(n.col=Nt(Ui,this).col),lp(Ui,this,null));const o=this.mergedCellsCollection.get(n.row,n.col);if(!o)return;const s=o.col,a=o.col+o.colspan-1;if(t.col<0){const c=n.col>=s&&n.col<=a?s-1:a,h=r.getNearestNotHiddenIndex(c,-1);h===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,n.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(h,n.col)-1,1)}else if(t.col>0){const c=n.col>=s&&n.col<=a?a+1:s,h=r.getNearestNotHiddenIndex(c,1);h===null?t.col=this.hot.view.countRenderableColumnsInRange(n.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(n.col,h)-1,1)}const l=o.row,u=o.row+o.rowspan-1;if(t.row<0){const c=n.row>=l&&n.row<=u?l-1:u,h=i.getNearestNotHiddenIndex(c,-1);h===null?t.row=-this.hot.view.countRenderableRowsInRange(0,n.row):t.row=-Math.max(this.hot.view.countRenderableRowsInRange(h,n.row)-1,1)}else if(t.row>0){const c=n.row>=l&&n.row<=u?u+1:l,h=i.getNearestNotHiddenIndex(c,1);h===null?t.row=this.hot.view.countRenderableRowsInRange(n.row,this.hot.countRows()):t.row=Math.max(this.hot.view.countRenderableRowsInRange(n.row,h)-1,1)}}function Aye(t){const e=this.hot.getSelectedRangeLast(),n=e.clone(),{to:r}=e,{columnIndexMapper:i,rowIndexMapper:o}=this.hot,s=(a,l)=>{n.expand(this.hot._createCellCoords(a,l));for(let u=0;u<this.mergedCellsCollection.mergedCells.length;u+=1)n.expandByRange(this.mergedCellsCollection.mergedCells[u].getRange())};if(t.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(e,r.col)+t.col;s(r.row,a),e.getHorizontalDirection()==="E-W"&&n.getHorizontalDirection()==="E-W"&&(a=n.getTopStartCorner().col);const l=i.getNearestNotHiddenIndex(a,1);l!==null&&(t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(l,r.col)-1,1))}else if(t.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(e,r.col)+t.col;s(r.row,a),e.getHorizontalDirection()==="W-E"&&n.getHorizontalDirection()==="W-E"&&(a=n.getBottomEndCorner().col);const l=i.getNearestNotHiddenIndex(a,-1);l!==null&&(t.col=Math.max(this.hot.view.countRenderableColumnsInRange(r.col,l)-1,1))}if(t.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(e,r.row)+t.row;s(a,r.col),e.getVerticalDirection()==="S-N"&&n.getVerticalDirection()==="S-N"&&(a=n.getTopStartCorner().row);const l=o.getNearestNotHiddenIndex(a,1);l!==null&&(t.row=-Math.max(this.hot.view.countRenderableRowsInRange(l,r.row)-1,1))}else if(t.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(e,r.row)+t.row;s(a,r.col),e.getVerticalDirection()==="N-S"&&n.getVerticalDirection()==="N-S"&&(a=n.getBottomStartCorner().row);const l=o.getNearestNotHiddenIndex(a,-1);l!==null&&(t.row=Math.max(this.hot.view.countRenderableRowsInRange(r.row,l)-1,1))}}function Hye(){const t=this.hot.getSelectedRangeLast(),{highlight:e}=t;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){lp(Ui,this,e.clone());return}for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);const n=this.mergedCellsCollection.get(e.row,e.col);lp(Ui,this,e.clone()),n&&e.assign(n)}function yV(t,e,n,r){if(t<0||e<0)return;const i=this.mergedCellsCollection.get(t,e);if(!i)return;const{row:o,col:s,colspan:a,rowspan:l}=i,u=o,c=s,h=o+l-1,d=s+a-1;if(r==="render"&&this.getSetting("virtualized")){const f=this.hot.view.getActiveOverlayName(),g=["top","top_inline_start_corner"].includes(f)?0:this.hot.getFirstRenderedVisibleRow(),m=["inline_start","top_inline_start_corner","bottom_inline_start_corner"].includes(f)?0:this.hot.getFirstRenderedVisibleColumn();return[it(g,u,h),it(m,c,d),it(this.hot.getLastRenderedVisibleRow(),u,h),it(this.hot.getLastRenderedVisibleColumn(),c,d)]}return[u,c,h,d]}function kye(t){t.items.push({name:"---------"},vye(this))}function CV(){lp(Ui,this,null)}function Nye(){if(Nt(Ui,this).isCell())return;const t=this.hot.getSelectedRangeLast(),e=t.getVerticalDirection(),n=t.getHorizontalDirection(),r=Nt(Ui,this).clone().normalize();Nt(Ms,this).setActiveNode(r.row,r.col),Nt(Yi,this).row>0||Nt(Yi,this).col>0?Nt(Ms,this).setPrevNodeAsActive():(n==="E-W"&&Nt(Yi,this).col<0||e==="S-N"&&Nt(Yi,this).row<0)&&Nt(Ms,this).setNextNodeAsActive()}function Dye(t,e){const n=this.hot.getSelectedRangeLast(),{columnIndexMapper:r,rowIndexMapper:i}=this.hot;let o=null,s=null;if(Nt(Yi,this).col<0){const{rowEnd:a,colEnd:l}=Nt(Ms,this).getPrevHorizontalNode();s=r.getNearestNotHiddenIndex(l,-1),o=i.getNearestNotHiddenIndex(a,-1)}else if(Nt(Yi,this).col>0){const{rowStart:a,colStart:l}=Nt(Ms,this).getNextHorizontalNode();s=r.getNearestNotHiddenIndex(l,1),o=i.getNearestNotHiddenIndex(a,1)}else if(Nt(Yi,this).row<0){const{rowEnd:a,colEnd:l}=Nt(Ms,this).getPrevVerticalNode();s=r.getNearestNotHiddenIndex(l,-1),o=i.getNearestNotHiddenIndex(a,-1)}else if(Nt(Yi,this).row>0){const{rowStart:a,colStart:l}=Nt(Ms,this).getNextVerticalNode();s=r.getNearestNotHiddenIndex(l,1),o=i.getNearestNotHiddenIndex(a,1)}if(o!==null||s!==null){const a=this.hot._createCellCoords(o,s),l=this.mergedCellsCollection.get(a.row,a.col),u=this.hot.selection.highlight.getFocus();t=a.row,e=a.col,l?n.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(l.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(l.col,1)}):n.highlight.assign(a),u.clear(),u.add(a).commit()}Nt(Ms,this).setActiveNode(t,e),lp(Yi,this,{row:0,col:0})}function $ye(){this.hot.getSelectedRangeLast().isHeader()||Nt(Ms,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function Lye(t,e,n){const r=this.mergedCellsCollection.get(t,e);r&&(r.row!==t||r.col!==e?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}function Fye(t){if(this.getSetting("virtualized"))return;const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function Vye(t){if(this.getSetting("virtualized"))return;const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function Wye(t,e){const n=this.autofillCalculations.getDirection(e,t);if(this.autofillCalculations.dragAreaOverlapsCollections(e,t,n))return e;const r=this.hot._createCellCoords(e[0],e[1]),i=this.hot._createCellCoords(e[2],e[3]),o=this.hot._createCellRange(r,r,i),s=this.mergedCellsCollection.getWithinRange(o);return s.length===0?t:this.autofillCalculations.snapDragArea(e,t,n,s)}function Bye(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function jye(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function Uye(t,e,n){n!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function zye(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function Yye(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function Gye(t,e){if(e&&e==="area"){const n=this.hot.getSelectedRangeLast(),r=this.mergedCellsCollection.getWithinRange(n);W(r,i=>{n.getBottomEndCorner().row===i.getLastRow()&&n.getBottomEndCorner().col===i.getLastColumn()&&(t[2]=i.row,t[3]=i.col)})}}function Kye(t,e,n,r){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,r)}function qye(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function Xye(t,e,n,r){if(!(r instanceof MouseEvent))return;const i=this.hot.getSelectedRangeLast(),o=this.mergedCellsCollection.getByRange(i);if(!o)return;const s=this.hot._createCellCoords(o.row,o.col),a=this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1);return this.hot.selection.getLayerLevel()===0&&i.isEqual(this.hot._createCellRange(s,s,a))}function Zye(t,e,n){if(this.hot.getSettings().rowHeaders||n==="bottom"||n==="bottom_inline_start_corner")return t;let r,i;if(n==="master")r=this.hot.getFirstRenderedVisibleColumn(),i=this.hot.getLastRenderedVisibleColumn();else{const d=this.hot.view.getOverlayByName(n);r=this.hot.columnIndexMapper.getVisualFromRenderableIndex(d.clone.wtTable.getFirstRenderedColumn()),i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(d.clone.wtTable.getLastRenderedColumn())}if(!this.mergedCellsCollection.get(e,r))return t;const s=this.hot._createCellCoords(e,r),a=this.hot._createCellCoords(e,i),l=this.hot._createCellRange(s,s,a),u=this.mergedCellsCollection.getWithinRange(l,!0),c=u.reduce((d,f)=>{let{rowspan:g}=f;return Math.max(d,g)},1);let h=0;return u.length>1&&u[0].rowspan<c&&(h=c-u[0].rowspan),u.forEach(d=>{let{rowspan:f}=d,g=0;n==="top"||n==="top_inline_start_corner"?g=Math.min(c,this.hot.view.countNotHiddenFixedRowsTop()-e):g=f-h,t=Math.max(t??0,oK(this.hot,e,g))}),t}function Jye(t,e){return function(n,r){const[,...i]=n,[,...o]=r;return function s(a){const l=t[a],u=e[a],c=i[a],h=o[a],d=u.multiColumnSorting,g=(d.compareFunctionFactory?d.compareFunctionFactory:MY(u.type))(l,u,d)(c,h);if(g===As){const m=a+1;if(typeof e[m]<"u")return s(m)}return g}(0)}}const aK="sort";function Qye(t,e,n){const r=[];return n===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&r.push(`${aK}-${t.getIndexOfColumnInSortQueue(e)+1}`),r}function eCe(t){const e=t.className.split(" "),n=new RegExp(`^${aK}-[0-9]{1,2}$`);return e.filter(r=>n.test(r))}function tCe(t,e,n){return(e=nCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nCe(t){var e=rCe(t,"string");return typeof e=="symbol"?e:e+""}function rCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const $y="multiColumnSorting",iCe=170,SV=$y;TY($y,Jye);class oCe extends $Y{constructor(){super(...arguments),tCe(this,"pluginKey",$y)}static get PLUGIN_KEY(){return $y}static get PLUGIN_PRIORITY(){return iCe}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,wy)),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.isHeader()},relativeToGroup:tu,position:"before",group:SV})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(SV)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];super.updateHeaderClasses(e,...r),xe(e,eCe(e)),this.enabled!==!1&&Q(e,Qye(...r))}onAfterOnCellMouseDown(e,n){zO(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(n.col),this.sort(this.getNextSortConfig(n.col,wy))):this.sort(this.getColumnNextConfig(n.col)))}}function _V(t,e,n){return(e=sCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sCe(t){var e=aCe(t,"string");return typeof e=="symbol"?e:e+""}function aCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const lCe="multipleSelectionHandles",uCe=160;class cCe extends ft{constructor(){super(...arguments),_V(this,"dragged",[]),_V(this,"lastSetCell",null)}static get PLUGIN_KEY(){return lCe}static get PLUGIN_PRIORITY(){return uCe}isEnabled(){return Ma()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:n}=this.hot;function r(i){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;const o=e.dragged.indexOf(i);if(o===-1)return!1;o===0?e.dragged=e.dragged.slice(0,1):o===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",i=>{let o;if(Me(i.target,"topSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},i.preventDefault(),!1;if(Me(i.target,"bottomSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},i.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchend",i=>{if(Me(i.target,"topSelectionHandle-HitArea"))return r.call(e,"top"),e.touchStartRange=void 0,i.preventDefault(),!1;if(Me(i.target,"bottomSelectionHandle-HitArea"))return r.call(e,"bottom"),e.touchStartRange=void 0,i.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchmove",i=>{const{rootDocument:o}=this.hot;let s,a,l,u,c,h;if(e.dragged.length===0)return;const d=o.elementFromPoint(i.touches[0].clientX,i.touches[0].clientY);!d||d===e.lastSetCell||((d.nodeName==="TD"||d.nodeName==="TH")&&(s=e.hot.getCoords(d),s.col===-1&&(s.col=0),a=e.hot.getSelectedRangeLast(),l=a.getWidth(),u=a.getHeight(),c=a.getDirection(),l===1&&u===1&&e.hot.selection.setRangeEnd(s),h=e.getCurrentRangeCoords(a,s,e.touchStartRange.direction,c,e.dragged[0]),h.start!==null&&e.hot.selection.setRangeStart(h.start),e.hot.selection.setRangeEnd(h.end),e.lastSetCell=d),i.preventDefault())})}getCurrentRangeCoords(e,n,r,i,o){const s=e.getTopStartCorner(),a=e.getBottomEndCorner(),l=e.getBottomStartCorner(),u=e.getTopEndCorner();let c={start:null,end:null};switch(r){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":o==="top"?c={start:this.hot._createCellCoords(n.row,e.highlight.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,s.col)};break;case"SE-NW":o==="bottom"&&(c={start:this.hot._createCellCoords(a.row,n.col),end:this.hot._createCellCoords(n.row,s.col)});break}break;case"NW-SE":switch(i){case"NE-SW":o==="top"?c={start:n,end:l}:c.end=n;break;case"NW-SE":o==="top"?c={start:n,end:a}:c.end=n;break;case"SE-NW":o==="top"?c={start:n,end:s}:c.end=n;break;case"SW-NE":o==="top"?c={start:n,end:u}:c.end=n;break}break;case"SW-NE":switch(i){case"NW-SE":o==="bottom"?c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(s.row,n.col),end:this.hot._createCellCoords(n.row,a.col)};break;case"SW-NE":o==="top"?c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,a.col)}:c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(s.row,n.col)};break;case"SE-NW":o==="bottom"?c={start:this.hot._createCellCoords(n.row,u.col),end:this.hot._createCellCoords(s.row,n.col)}:o==="top"&&(c={start:l,end:n});break}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":o==="top"&&(c.end=n);break;case"SE-NW":o==="top"?c.end=n:c={start:n,end:s};break}break}return c}isDragged(){return this.dragged.length>0}}function ZT(){let{label:t="",colspan:e=1,origColspan:n=1,collapsible:r=!1,crossHiddenColumns:i=[],isCollapsed:o=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1,headerClassNames:u=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:n,collapsible:r,isCollapsed:o,crossHiddenColumns:i,isHidden:s,isRoot:a,isPlaceholder:l,headerClassNames:u}}function lK(){return{label:"",isPlaceholder:!0}}function hCe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;const n=[];if(e===0)return n;W(t,i=>{const o=[];let s=0;n.push(o),W(i,a=>{const l=ZT();if(qe(a)){const{label:c,colspan:h,headerClassName:d}=a;l.label=tn(c),typeof h=="number"&&h>1&&(l.colspan=h,l.origColspan=h),typeof d=="string"&&(l.headerClassNames=[...d.split(" ")])}else l.label=tn(a);s+=l.origColspan;let u=!1;if(s>=e&&(l.colspan=l.origColspan-(s-e),l.origColspan=l.colspan,u=!0),o.push(l),l.colspan>1)for(let c=0;c<l.colspan-1;c++)o.push(lK());return!u})});const r=Math.max(...nt(n,i=>i.length));return W(n,i=>{if(i.length<r){const o=nt(new Array(r-i.length),()=>ZT());i.splice(i.length,0,...o)}}),n}function ZE(t,e,n){dCe(t,e),e.set(t,n)}function dCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mo(t,e){return t.get(uK(t,e))}function ng(t,e,n){return t.set(uK(t,e),n),n}function uK(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const RV=["label","collapsible"];var ia=new WeakMap,Bu=new WeakMap,JE=new WeakMap;class fCe{constructor(){ZE(this,ia,[]),ZE(this,Bu,0),ZE(this,JE,1/0)}setColumnsLimit(e){ng(JE,this,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];ng(ia,this,hCe(e,mo(JE,this))),ng(Bu,this,mo(ia,this).length)}getData(){return mo(ia,this)}mergeWith(e){W(e,n=>{let{row:r,col:i,...o}=n;const s=this.getHeaderSettings(r,i);s!==null&&kn(s,o,RV)})}map(e){W(mo(ia,this),n=>{W(n,r=>{const i=e({...r});qe(i)&&kn(r,i,RV)})})}getHeaderSettings(e,n){var r;if(e>=mo(Bu,this)||e<0)return null;const i=mo(ia,this)[e];return Array.isArray(i)===!1||n>=i.length?null:(r=i[n])!==null&&r!==void 0?r:null}getHeadersSettings(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const i=[];if(e>=mo(Bu,this)||e<0)return i;const o=mo(ia,this)[e];let s=0;for(let a=n;a<o.length;a++){const l=o[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=l.colspan,i.push(l),l.colspan>1&&(a+=l.colspan-1),s===r)break;if(s>r)throw new Error("The last column settings cannot overlap the other header layers")}return i}getLayersCount(){return mo(Bu,this)}getColumnsCount(){return mo(Bu,this)>0?mo(ia,this)[0].length:0}clear(){ng(ia,this,[]),ng(Bu,this,0)}}function QE(t,e,n){return(e=gCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gCe(t){var e=mCe(t,"string");return typeof e=="symbol"?e:e+""}function mCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const cK="DF-pre-order";function hK(t,e){let n=t.call(e,this);for(let r=0;r<this.childs.length;r++){if(n===!1)return!1;n=hK.call(this.childs[r],t,e)}return n}const pCe="DF-post-order";function dK(t,e){for(let n=0;n<this.childs.length;n++)if(dK.call(this.childs[n],t,e)===!1)return!1;return t.call(e,this)}const fK="BF";function vCe(t,e){const n=[this];function r(){if(n.length===0)return;const i=n.shift();n.push(...i.childs),t.call(e,i)!==!1&&r()}r()}const wCe=fK,EV=new Map([[cK,hK],[pCe,dK],[fK,vCe]]);class Ly{constructor(e){QE(this,"data",{}),QE(this,"parent",null),QE(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this;const n=new Ly({...e.data});for(let r=0;r<e.childs.length;r++)n.addChild(this.cloneTree(e.childs[r]));return n}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let n=0;n<e.childs.length;n++)this.addChild(e.childs[n])}walkDown(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wCe;if(!EV.has(n))throw new Error(`Traversal strategy "${n}" does not exist`);EV.get(n).call(this,e,this)}walkUp(e){const n=this,r=i=>{e.call(n,i)!==!1&&i.parent!==null&&r(i.parent)};r(this)}}function ex(t,e,n){bCe(t,e),e.set(t,n)}function bCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tr(t,e){return t.get(gK(t,e))}function yCe(t,e,n){return t.set(gK(t,e),n),n}function gK(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Oh=new WeakMap,ju=new WeakMap,Ih=new WeakMap;class CCe{constructor(e){ex(this,Oh,new Map),ex(this,ju,new Map),ex(this,Ih,null),yCe(Ih,this,e)}getRoots(){return Array.from(Tr(Oh,this).values())}getRootByColumn(e){let n;return Tr(ju,this).has(e)&&(n=Tr(Oh,this).get(Tr(ju,this).get(e))),n}getNode(e,n){const r=this.getRootByColumn(n);if(!r)return;const i=n-Tr(ju,this).get(n);let o=0,s;return r.walkDown(a=>{const{data:{origColspan:l,headerLevel:u}}=a;if(e===u){if(i>=o&&i<=o+l-1)return s=a,s.data.isRoot=n===s.data.columnIndex,!1;o+=l}}),s}rebuildTreeIndex(){let e=0;Tr(ju,this).clear(),W(Tr(Oh,this),n=>{let[,{data:{colspan:r}}]=n;for(let i=e;i<e+r;i++)Tr(ju,this).set(i,e);e+=r})}buildTree(){this.clear();const e=Tr(Ih,this).getColumnsCount();let n=0;for(;n<e;){const r=Tr(Ih,this).getHeaderSettings(0,n),i=new Ly;Tr(Oh,this).set(n,i),this.buildLeaves(i,n,0,r.origColspan),n+=r.origColspan}this.rebuildTreeIndex()}buildLeaves(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const o=Tr(Ih,this).getHeadersSettings(r,n,i);r+=1,W(o,s=>{const a={...s,headerLevel:r-1,columnIndex:n};let l;r===1?(e.data=a,l=e):(l=new Ly(a),e.addChild(l)),r<Tr(Ih,this).getLayersCount()&&this.buildLeaves(l,n,r,s.origColspan),n+=s.origColspan})}clear(){Tr(Oh,this).clear(),Tr(ju,this).clear()}}function mK(t,e){t.walkDown(n=>{let{data:r,childs:i}=n;if(!r.isHidden&&(e(r.columnIndex),i.length===0))for(let o=1;o<r.colspan;o++)e(r.columnIndex+o)})}function Fy(t,e){let{childs:n}=t;if(n.length!==0)return n[0].data[e]}function Vy(t){return Fy(t,"origColspan")===t.data.origColspan}function aI(t){const{data:e,childs:n}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Vy(t))return aI(n[0]);e.isCollapsed=!1;const i=n.slice(1),o=new Set;let s=0;if(i.length>0)W(i,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;const l=a.data;s+=l.colspan,mK(a,u=>{o.add(u)})});else{const{colspan:a,origColspan:l,columnIndex:u}=e;s=l-a;for(let c=1;c<l;c++)o.add(u+c)}return t.walkUp(a=>{const{data:l}=a;l.colspan+=s,l.colspan>=l.origColspan?(l.colspan=l.origColspan,l.isCollapsed=!1):Vy(a)&&(l.isCollapsed=Fy(a,"isCollapsed"))}),{rollbackModification:()=>lI(t),affectedColumns:Array.from(o),colspanCompensation:s}}function lI(t){var e;const{data:n,childs:r}=t;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Vy(t))return lI(r[0]);n.isCollapsed=!0;const o=r.slice(1),s=new Set;if(o.length>0)W(o,l=>{mK(l,u=>{s.add(u)}),l.data.clonedTree=l.cloneTree(),l.walkDown(u=>{let{data:c}=u;c.isHidden=!0})});else{const{origColspan:l,columnIndex:u}=n;for(let c=1;c<l;c++){const h=u+c;s.add(h)}}const a=n.colspan-((e=Fy(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(l=>{const{data:u}=l;u.colspan-=a,u.colspan<=1?(u.colspan=1,u.isCollapsed=!0):Vy(l)&&(u.isCollapsed=Fy(l,"isCollapsed"))}),{rollbackModification:()=>aI(t),affectedColumns:Array.from(s),colspanCompensation:a}}function SCe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(yt`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(n.includes(e))return;let r=!1;t.walkUp(i=>{const{data:{collapsible:o}}=i;if(o)return r=!0,!1}),!r&&t.walkUp(i=>{const{data:o}=i;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}function _Ce(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(yt`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(!n.includes(e))return;let r=!1;t.walkUp(i=>{const{data:{collapsible:o}}=i;if(o)return r=!0,!1}),!r&&t.walkUp(i=>{const{data:o}=i;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}const xV=new Map([["collapse",lI],["expand",aI],["hide-column",SCe],["show-column",_Ce]]);function RCe(t,e,n){if(!xV.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return xV.get(t)(e,n)}function bw(t){const e=[];return W(t,n=>{n.walkDown(r=>{const i=r.data,{origColspan:o,columnIndex:s,headerLevel:a,crossHiddenColumns:l}=i,u=xCe(e,a);let c=!1;for(let h=s;h<s+o;h++)if(l.includes(h)||c)u.push(lK());else{const f=ECe(i);f.isRoot=!0,u.push(f),c=!0}})}),e}function ECe(t){const{crossHiddenColumns:e,...n}=ZT(t);return n}function xCe(t,e){let n;return Array.isArray(t[e])?n=t[e]:(n=[],t[e]=n),n}function tx(t,e,n){TCe(t,e),e.set(t,n)}function TCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rg(t,e,n){return t.set(pK(t,e),n),n}function sn(t,e){return t.get(pK(t,e))}function pK(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var us=new WeakMap,Yr=new WeakMap,Uu=new WeakMap;class MCe{constructor(){tx(this,us,new fCe),tx(this,Yr,new CCe(sn(us,this))),tx(this,Uu,[[]])}setState(e){sn(us,this).setData(e);let n=!1;try{sn(Yr,this).buildTree()}catch{sn(Yr,this).clear(),sn(us,this).clear(),n=!0}return rg(Uu,this,bw(sn(Yr,this).getRoots())),n}setColumnsLimit(e){sn(us,this).setColumnsLimit(e)}mergeStateWith(e){const n=nt(e,r=>{let{row:i,...o}=r;return{row:i<0?this.rowCoordsToLevel(i):i,...o}});sn(us,this).mergeWith(n),sn(Yr,this).buildTree(),rg(Uu,this,bw(sn(Yr,this).getRoots()))}mapState(e){sn(us,this).map(e),sn(Yr,this).buildTree(),rg(Uu,this,bw(sn(Yr,this).getRoots()))}mapNodes(e){return li(sn(Yr,this).getRoots(),(n,r)=>(r.walkDown(i=>{const o=e(i.data);o!==void 0&&n.push(o)}),n),[])}triggerNodeModification(e,n,r){n<0&&(n=this.rowCoordsToLevel(n));const i=sn(Yr,this).getNode(n,r);let o;return i&&(o=RCe(e,i,r),rg(Uu,this,bw(sn(Yr,this).getRoots()))),o}triggerColumnModification(e,n){return this.triggerNodeModification(e,-1,n)}rowCoordsToLevel(e){if(e>=0)return null;const n=e+Math.max(this.getLayersCount(),1);return n<0?null:n}levelToRowCoords(e){if(e<0)return null;const n=e-Math.max(this.getLayersCount(),1);return n>=0?null:n}getHeaderSettings(e,n){var r,i;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(r=(i=sn(Uu,this)[e])===null||i===void 0?void 0:i[n])!==null&&r!==void 0?r:null}getHeaderTreeNodeData(e,n){const r=this.getHeaderTreeNode(e,n);return r?{...r.data}:null}getHeaderTreeNode(e,n){if(e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount())return null;const r=sn(Yr,this).getNode(e,n);return r||null}findTopMostEntireHeaderLevel(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;const r=n-e+1;let i=!1,o=null;for(let s=e;s<=n;s++){const a=sn(Yr,this).getRootByColumn(s);if(!a)break;i=!0,a.walkDown(l=>{const{columnIndex:u,headerLevel:c,origColspan:h,isHidden:d}=l.data;d||h<=r&&u>=e&&u+h-1<=n&&(o===null||c<o)&&(o=c)},cK)}return i&&o===null?-1:this.levelToRowCoords(o??0)}findLeftMostColumnIndex(e,n){var r;const{isRoot:i}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0};if(i)return n;let o=n-1;for(;o>=0;){var s;const{isRoot:a}=(s=this.getHeaderSettings(e,o))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;o-=1}return o}findRightMostColumnIndex(e,n){var r;const{isRoot:i,origColspan:o}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0,origColspan:1};if(i)return n+o-1;let s=n+1;for(;s<this.getColumnsCount();){var a;const{isRoot:l}=(a=this.getHeaderSettings(e,s))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;s+=1}return s-1}getLayersCount(){return sn(us,this).getLayersCount()}getColumnsCount(){return sn(us,this).getColumnsCount()}clear(){rg(Uu,this,[]),sn(us,this).clear(),sn(Yr,this).clear()}}function ig(t,e,n){return(e=PCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PCe(t){var e=OCe(t,"string");return typeof e=="symbol"?e:e+""}function OCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ICe{constructor(e,n){ig(this,"hot",void 0),ig(this,"nestedHeaderSettingsGetter",void 0),ig(this,"layersCount",0),ig(this,"container",void 0),ig(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=n,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){const e=this.hot.getCurrentThemeName();this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),e&&this.container.classList.add(e),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const n=this.container.querySelectorAll("tr:last-of-type th"),r=n.length;this.widthsMap.clear();for(let i=0;i<r;i++){const o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),s=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(s,n[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:n,columnIndexMapper:r}=this.hot,i=n.createDocumentFragment(),o=n.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=r.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){const u=n.createElement("tr");for(let c=0;c<a;c++){let h=r.getVisualFromRenderableIndex(c);h===null&&(h=c);const d=n.createElement("th"),f=this.nestedHeaderSettingsGetter(l,h);if(f&&(!f.isPlaceholder||f.isHidden)){let g=f.label;s&&(g+='<button class="changeType"></button>'),Xd(d,g),d.colSpan=f.colspan,u.appendChild(d)}}o.appendChild(u)}i.appendChild(o),e.appendChild(i)}clear(){this.widthsMap.clear(),this.container=null}}function ACe(t,e){vK(t,e),e.add(t)}function TV(t,e,n){return(e=HCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HCe(t){var e=kCe(t,"string");return typeof e=="symbol"?e:e+""}function kCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function og(t,e,n){vK(t,e),e.set(t,n)}function vK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Aa(t,e,n){return t.set(an(t,e),n),n}function Qe(t,e){return t.get(an(t,e))}function an(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const MV="nestedHeaders",NCe=280;var xt=new WeakMap,ul=new WeakMap,gm=new WeakMap,lS=new WeakMap,Wy=new WeakMap,fn=new WeakSet;class DCe extends ft{constructor(){super(...arguments),ACe(this,fn),og(this,xt,new MCe),og(this,ul,null),og(this,gm,null),og(this,lS,!1),og(this,Wy,null),TV(this,"ghostTable",new ICe(this.hot,(e,n)=>this.getHeaderSettings(e,n))),TV(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return MV}static get PLUGIN_PRIORITY(){return NCe}isEnabled(){return!!this.hot.getSettings()[MV]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();(!Array.isArray(n)||!Array.isArray(n[0]))&&gt(yt`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>an(fn,this,JCe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,QCe).call(e,...i)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,VCe).call(e,...i)}),this.addHook("afterOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,WCe).call(e,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,BCe).call(e,...i)}),this.addHook("beforeOnCellMouseUp",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,jCe).call(e,...i)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,UCe).call(e,...i)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,zCe).call(e,...i)}),this.addHook("afterSelection",()=>an(fn,this,yw).call(this)),this.addHook("afterSelectionFocusSet",()=>an(fn,this,yw).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,$Ce).call(e,...i)}),this.addHook("afterGetColumnHeaderRenderers",r=>an(fn,this,GCe).call(this,r)),this.addHook("modifyColWidth",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,qCe).call(e,...i)}),this.addHook("modifyColumnHeaderValue",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,XCe).call(e,...i)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,LCe).call(e,...i)}),this.addHook("beforeCopy",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,FCe).call(e,...i)}),this.addHook("beforeSelectColumns",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,YCe).call(e,...i)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,KCe).call(e,...i)}),this.addHook("modifyFocusedElement",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return an(fn,e,ZCe).call(e,...i)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>an(fn,this,yw).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>an(fn,this,yw).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();Qe(xt,this).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=Qe(xt,this).setState(e)),this.detectedOverlappedHeaders&&gt(yt`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((n,r)=>{const i=n===!0?"hide-column":"show-column";Qe(xt,this).triggerColumnModification(i,r)}),!Qe(ul,this)&&this.enabled&&Aa(ul,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(n=>{n.forEach(r=>{let{op:i,index:o,newValue:s}=r;if(i==="replace"){const a=s===!0?"hide-column":"show-column";Qe(xt,this).triggerColumnModification(a,o)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),Qe(xt,this).clear(),Qe(ul,this).unsubscribe(),Aa(ul,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return Qe(xt,this)}getLayersCount(){return Qe(xt,this).getLayersCount()}getHeaderSettings(e,n){return Qe(xt,this).getHeaderSettings(e,n)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,n=e.getSetting("columnHeaders").length,r=e.wtTable.THEAD,i=e.wtOverlays.topOverlay.clone.wtTable.THEAD,o=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<n;s++){const a=r.childNodes[s];if(!a)break;const l=i.childNodes[s],u=o?o.childNodes[s]:null;for(let c=0,h=a.childNodes.length;c<h;c++)a.childNodes[c].removeAttribute("colspan"),xe(a.childNodes[c],"hiddenHeader"),l&&l.childNodes[c]&&(l.childNodes[c].removeAttribute("colspan"),xe(l.childNodes[c],"hiddenHeader")),o&&u&&u.childNodes[c]&&(u.childNodes[c].removeAttribute("colspan"),xe(u.childNodes[c],"hiddenHeader"))}}headerRendererFactory(e){var n=this;const r=this.hot.view._wt.getSetting("fixedColumnsStart");return(i,o)=>{var s;const{columnIndexMapper:a,view:l}=this.hot;let u=a.getVisualFromRenderableIndex(i);u===null&&(u=i),o.removeAttribute("colspan"),xe(o,"hiddenHeader"),xe(o,"hiddenHeaderText");const{colspan:c,isHidden:h,isPlaceholder:d,headerClassNames:f}=(s=Qe(xt,this).getHeaderSettings(e,u))!==null&&s!==void 0?s:{};if(d||h)Q(o,"hiddenHeader");else if(c>1){var g,m,p;const{wtOverlays:y}=l._wt,b=(g=y.topInlineStartCornerOverlay)===null||g===void 0?void 0:g.clone.wtTable.THEAD.contains(o),T=(m=y.inlineStartOverlay)===null||m===void 0?void 0:m.clone.wtTable.THEAD.contains(o);((p=y.topOverlay)===null||p===void 0?void 0:p.clone.wtTable.THEAD.contains(o))&&u<r&&Q(o,"hiddenHeaderText");const P=b||T?Math.min(c,r-i):c;P>1&&o.setAttribute("colspan",P)}if(this.hot.view.appendColHeader(u,o,function(){return n.getColumnHeaderValue(...arguments)},e),!d&&!h){const y=o.querySelector("div.relative");y&&f&&f.length>0&&(xe(y,this.hot.getColumnMeta(u).headerClassName),Q(y,f))}}}getColumnHeaderValue(e,n){var r;const{isHidden:i,isPlaceholder:o}=(r=Qe(xt,this).getHeaderSettings(n,e))!==null&&r!==void 0?r:{};return o||i?"":this.hot.getColHeader(e,n)}destroy(){Aa(xt,this,null),Qe(ul,this)!==null&&(Qe(ul,this).unsubscribe(),Aa(ul,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return Qe(xt,this).getHeaderTreeNodeData(e.row,e.col)}}function yw(){var t;const e=(t=this.hot)===null||t===void 0?void 0:t.getSelectedRangeLast();if(!e)return;const{highlight:n}=e;if(n.isHeader()&&n.col>=0){const i=Qe(xt,this).findLeftMostColumnIndex(n.row,n.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=i,o.visualCellRange.from.col=i,o.visualCellRange.to.col=i,o.commit()}}function $Ce(t,e){var n;const r=this.hot.getSelectedRangeLast();if(!r)return t;const{highlight:i}=r,{navigableHeaders:o}=this.hot.getSettings(),s=this.hot.selection.isSelectedByColumnHeader(),a=o?i.row:(n=Qe(Wy,this))===null||n===void 0?void 0:n.row,l=s?t:i.col,u=a<0&&l>=0;if(Aa(Wy,this,null),!u)return t;const c=this.hot.getFirstFullyVisibleColumn(),h=this.hot.getLastFullyVisibleColumn(),d=h-c+1,f=Qe(xt,this).findLeftMostColumnIndex(a,l),g=Qe(xt,this).findRightMostColumnIndex(a,l),m=g-f+1;if(f<c&&g>h)return f;if(s){let p=null;return f>=c&&g>h?m>d?(e.value="start",p=f):(e.value="end",p=g):f<c&&g<=h&&(m>d?(e.value="end",p=g):(e.value="start",p=f)),p}return f<=c?f:g}function LCe(t,e,n){const r=Qe(xt,this).getHeaderTreeNodeData(e,t);if(!r)return t;const{columnCursor:i,selectionType:o,selectionWidth:s}=n,{isRoot:a,colspan:l}=Qe(xt,this).getHeaderSettings(e,t);if(o===TO){if(!a)return r.columnIndex}else if(o===lY&&(l>s-i||!a))return null;return t}function FCe(t,e,n){let{columnHeadersCount:r}=n;if(r!==0)for(let o=0;o<e.length;o++){const{startRow:s,startCol:a,endRow:l,endCol:u}=e[o],c=l-s+1,h=a-u+1;if(s>=0||h===1)break;for(let d=a;d<=u;d++)for(let f=s;f<=l;f++){var i;const g=c+f,m=d-a;if(m===0)continue;((i=Qe(xt,this).getHeaderTreeNodeData(f,d))===null||i===void 0?void 0:i.isRoot)===!1&&(t[g][m]="")}}}function VCe(t,e,n,r){this._getHeaderTreeNodeDataByCoords(e)&&(r.column=!0)}function WCe(t,e){const n=this._getHeaderTreeNodeDataByCoords(e);if(!n)return;Aa(gm,this,e.clone()),Aa(lS,this,!0);const{selection:r}=this.hot,i=r.isSelected()?r.getSelectedRange().current():null,o=[],{columnIndex:s,origColspan:a}=n,l=!r.inInSelection(e);t.shiftKey&&i?e.col<i.from.col?o.push(i.getTopEndCorner().col,s,e.row):e.col>i.from.col?o.push(i.getTopStartCorner().col,s+a-1,e.row):o.push(s,s+a-1,e.row):(O1(t)||Mc(t)&&l||_te(t))&&o.push(s,s+a-1,e.row),r.selectColumns(...o)}function BCe(t,e,n,r){if(!this.hot.view.isMouseDown()||r.column)return;const i=this._getHeaderTreeNodeDataByCoords(e);if(!i)return;const{columnIndex:o,origColspan:s}=i,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),u=a.getBottomEndCorner(),{from:c}=a;r.column=!0,r.cell=!0;const h=[],d=it(e.row,-1/0,-1);e.col<c.col?h.push(u.col,o,d):e.col>c.col?h.push(l.col,o+s-1,d):h.push(o,o+s-1,d),this.hot.selection.selectColumns(...h)}function jCe(){Aa(lS,this,!1)}function UCe(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!Qe(lS,this)||!t)return;const e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner().col,r=e.getBottomEndCorner().col,{columnIndex:i,origColspan:o}=Qe(xt,this).getHeaderTreeNodeData(Qe(gm,this).row,Qe(gm,this).col);if(e.setHighlight(Qe(gm,this)),o>e.getWidth()||i<n||i+o-1>r){const s=Qe(xt,this).findTopMostEntireHeaderLevel(it(n,i,i+o-1),it(r,i,i+o-1));e.highlight.row=s,e.highlight.col=e.from.col}}function zCe(t){const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(n.isHeader()&&n.col>=0))return;const i=Qe(xt,this).findLeftMostColumnIndex(n.row,n.col),o=Qe(xt,this).findRightMostColumnIndex(n.row,n.col);if(t.col<0){const s=e.col>=i&&e.col<=o?i-1:o,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,-1);a===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,e.col)-1,1)}else if(t.col>0){const s=e.col>=i&&e.col<=o?o+1:i,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,1);a===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,a)-1,1)}}function YCe(t,e,n){const r=t.row,i=this._getHeaderTreeNodeDataByCoords({row:r,col:t.col}),o=this._getHeaderTreeNodeDataByCoords({row:r,col:e.col});Aa(Wy,this,n.clone()),e.col<t.col?(i&&(t.col=i.columnIndex+i.origColspan-1),o&&(e.col=o.columnIndex)):e.col>=t.col&&(i&&(t.col=i.columnIndex),o&&(e.col=o.columnIndex+o.origColspan-1))}function GCe(t){if(Qe(xt,this).getLayersCount()>0){t.length=0;for(let e=0;e<Qe(xt,this).getLayersCount();e++)t.push(this.headerRendererFactory(e))}}function KCe(t){const e=Qe(xt,this).getLayersCount();let n=t.startColumn,r=!!e;for(let i=0;i<e;i++){const o=Qe(xt,this).findLeftMostColumnIndex(i,t.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(o);if(o>=0&&(r=!1),Nr(s)&&s<t.startColumn){n=s;break}}t.startColumn=r?Qe(xt,this).getHeaderTreeNodeData(0,n).columnIndex:n}function qCe(t,e){const n=this.ghostTable.getWidth(e);return t>n?t:n}function XCe(t,e,n){var r;const{label:i}=(r=Qe(xt,this).getHeaderTreeNodeData(n,e))!==null&&r!==void 0?r:{label:""};return i}function ZCe(t,e){if(t<0)return this.hot.getCell(t,Qe(xt,this).findLeftMostColumnIndex(t,e),!0)}function JCe(){this.updatePlugin()}function QCe(t,e){e||this.updatePlugin()}function sg(t,e,n){return(e=eSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eSe(t){var e=tSe(t,"string");return typeof e=="symbol"?e:e+""}function tSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nSe{constructor(e,n){sg(this,"hot",void 0),sg(this,"data",null),sg(this,"plugin",void 0),sg(this,"parentReference",new WeakMap),sg(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=n,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Ce(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,n,r){this.cache.levels[n]||(this.cache.levels[n]=[],this.cache.levelCount+=1),this.cache.levels[n].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:r,row:this.cache.rows.length-1,level:n}),this.hasChildren(e)&&W(e.__children,i=>{this.cacheNode(i,n+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,n,r,i){let o=!1,s=n;if(isNaN(s)&&s.end)return s;let a=e;return a||(a={__children:this.data},o=!0,s-=1),r!=null&&s===r?{result:a,end:!0}:i!=null&&a===i?{result:s,end:!0}:(s+=1,a.__children&&W(a.__children,l=>{if(this.parentReference.set(l,o?null:a),s=this.readTreeNodes(l,s,r,i),isNaN(s)&&s.end)return!1}),s)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return Xe(this.data[0],(n,r)=>{e[r]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let n=null;isNaN(e)?n=e:n=this.getDataObject(e);const r=this.getRowParent(e);return r==null?this.data.indexOf(n):r.__children.indexOf(n)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let n=0,r=e;return isNaN(r)||(r=this.getDataObject(r)),!r||!r.__children?0:(W(r.__children,i=>{n+=1,i.__children&&(n+=this.countChildren(i))}),n)}getRowParent(e){let n;return isNaN(e)?n=e:n=this.getDataObject(e),this.getRowObjectParent(n)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let n=null;return isNaN(e)?n=e:n=this.getDataObject(e),n?this.getRowObjectLevel(n):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let n=e;return isNaN(n)||(n=this.getDataObject(n)),!!(n.__children&&n.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,n){var r;return((r=e.__children)===null||r===void 0?void 0:r[n])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var n;let r=e;return isNaN(r)||(r=this.getDataObject(r)),r&&!!r.__children&&((n=r.__children)===null||n===void 0?void 0:n.length)!==0}addChild(e,n){let r=n;this.hot.runHooks("beforeAddChild",e,r);let i=null;e&&(i=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",i+this.countChildren(e)+1,1);let o=e;e||(o=this.mockParent()),o.__children||(o.__children=[]),r||(r=this.mockNode()),o.__children.push(r),this.rewriteCache();const s=this.getRowIndex(r);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",e,r)}addChildAtIndex(e,n,r){let i=r,o;if(i||(i=this.mockNode()),this.hot.runHooks("beforeAddChild",e,i,n),e){const a=this.getRowIndex(e)+n+1;this.hot.runHooks("beforeCreateRow",a,1),e.__children.splice(n,null,i),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),o=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",n,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),o=this.getRowIndex(this.data[n]);i=this.getDataObject(o),this.hot.runHooks("afterAddChild",e,i,n)}addSibling(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below";const r=this.translateTrimmedRow(e),i=this.getRowParent(r),o=this.getRowIndexWithinParent(r);switch(n){case"below":this.addChildAtIndex(i,o+1,null);break;case"above":this.addChildAtIndex(i,o,null);break}}detachFromParent(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=null;const i=[];Array.isArray(e)?(Ce(e[0],e[2],d=>{const f=this.translateTrimmedRow(d);i.push(this.getDataObject(f))}),Ce(0,i.length-2,d=>{this.detachFromParent(i[d],!1)}),r=i[i.length-1]):r=e;const o=this.getRowIndex(r),s=this.countChildren(r),a=this.getRowIndexWithinParent(r),l=this.getRowParent(r),u=this.getRowParent(l),c=this.getRowIndex(u);let h=null;if(this.hot.runHooks("beforeDetachChild",l,r),a!=null){const d=Array.from(new Array(o+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",o,s+1,d,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",o,s+1,d,this.plugin.pluginName),u){h=c+this.countChildren(u);const f=this.getChild(u,this.countChildren(u)-1),g=this.getRowIndex(f);this.hot.runHooks("beforeCreateRow",g+1,s+1,this.plugin.pluginName),u.__children.push(r)}else h=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",h-2,s+1,this.plugin.pluginName),this.data.push(r)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",h-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,r,this.getRowIndex(r)),n&&this.hot.render()}filterData(e,n,r){const i=[];W(r,o=>{i.push(this.getDataObject(o))}),W(i,o=>{const s=this.getRowIndexWithinParent(o),a=this.getRowParent(o);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(e,n,r){const i=this.getDataObject(e-1);let o=null,s=e;i&&i.__children&&i.__children.length===0?(o=i,s=0):e<this.countAllRows()&&(o=this.getRowParent(e),s=this.getRowIndexWithinParent(e)),o?r?o.__children.splice(s,n,...r):o.__children.splice(s,n):r?this.data.splice(s,n,...r):this.data.splice(s,n),this.rewriteCache()}syncRowWithRawSource(e){let n=e,r=n;do r=this.getRowParent(r),r!==null&&(n=r);while(r!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(n),"__children",n.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,n,r,i){const o=n===this.hot.countRows(),s=this.getRowParent(e),a=this.getRowIndexWithinParent(e),l=s.__children.slice(a,a+1),u=e>n;let c=o?this.getRowParent(n-1):this.getRowParent(n);c==null&&(c=this.getRowParent(n-1)),c==null&&(c=this.getDataObject(n-1)),c?c.__children||(c.__children=[]):(c=this.getDataObject(n),c.__children=[]);const h=o||r||i?c.__children.length:this.getRowIndexWithinParent(n),d=s===c;c.__children.splice(h,0,l[0]),s.__children.splice(a+(u&&d?1:0),1),this.syncRowWithRawSource(s),d||this.syncRowWithRawSource(c)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}function PV(t,e,n){return(e=rSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rSe(t){var e=iSe(t,"string");return typeof e=="symbol"?e:e+""}function iSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uI{constructor(e,n){PV(this,"hot",void 0),PV(this,"plugin",void 0),this.hot=n,this.plugin=e}}class Ss extends uI{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,n){super(e,n),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,n){const r=this.hot.toPhysicalRow(e),i=this.dataManager.getRowLevel(r),o=this.dataManager.getDataObject(r),s=n.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),l=s.querySelectorAll('[class^="ht_nesting"]'),u=this.hot.getSettings().ariaTags;if(W(l,c=>{c&&s.removeChild(c)}),Q(n,Ss.CSS_CLASSES.indicatorContainer),i){const{rootDocument:c}=this.hot,h=a.cloneNode(!0);s.innerHTML="",Ce(0,i-1,()=>{const d=c.createElement("SPAN");Q(d,Ss.CSS_CLASSES.emptyIndicator),s.appendChild(d)}),s.appendChild(h)}if(this.dataManager.hasChildren(o)){const c=this.hot.rootDocument.createElement("DIV");u&&Oe(c,[zc()]),Q(n,Ss.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(r)?(Q(c,`${Ss.CSS_CLASSES.button} ${Ss.CSS_CLASSES.expandButton}`),u&&Oe(n,[Zi(!1)])):(Q(c,`${Ss.CSS_CLASSES.button} ${Ss.CSS_CLASSES.collapseButton}`),u&&Oe(n,[Zi(!0)])),s.appendChild(c)}}updateRowHeaderWidth(e){let n=e;n||(n=this.dataManager.cache.levelCount);const r=this.hot.view.getStylesHandler();let i=11;r.isClassicTheme()||(i=r.getCSSVariableValue("cell-horizontal-padding")*2),this.rowHeaderWidthCache=Math.max(50,i+10*n+25),this.hot.render()}}class oSe extends uI{constructor(e,n){var r;super(e,n),r=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;r.lastCollapsedRows=r.collapsedRows.slice(0),r.expandMultipleChildren(r.lastCollapsedRows,i)},shiftStash:function(i,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o==null&&(o=1/0),W(r.lastCollapsedRows,(a,l)=>{a>=i&&a<o&&(r.lastCollapsedRows[l]=a+s)})},applyStash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;r.collapseMultipleChildren(r.lastCollapsedRows,i),r.lastCollapsedRows=void 0},trimStash:(i,o)=>{Ce(i,i+o-1,s=>{const a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(o)):(o=this.dataManager.getDataObject(e),s=e),this.dataManager.hasChildren(o)&&W(o.__children,l=>{i.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(i,!0,!1),r&&this.trimRows(a),n&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];W(e,o=>{i.push(...this.collapseChildren(o,!1,!1))}),r&&this.trimRows(i),n&&this.renderAndAdjust()}collapseRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],n)}collapseRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return W(e,o=>{i.push(o),n&&this.collapseChildRows(o,i)}),r&&this.trimRows(i),i}collapseChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);W(i.__children,o=>{const s=this.dataManager.getRowIndex(o);n.push(s),this.collapseChildRows(s,n)})}r&&this.trimRows(n)}expandRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],n)}expandRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return W(e,o=>{i.push(o),n&&this.expandChildRows(o,i)}),r&&this.untrimRows(i),i}expandChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);W(i.__children,o=>{if(!this.isAnyParentCollapsed(o)){const s=this.dataManager.getRowIndex(o);n.push(s),this.expandChildRows(s,n)}})}r&&this.untrimRows(n)}expandChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(e)):(o=this.dataManager.getDataObject(e),s=e),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(o)&&W(o.__children,l=>{const u=this.dataManager.getRowIndex(l);i.push(u)}),a=this.expandRows(i,!0,!1),r&&this.untrimRows(a),n&&this.renderAndAdjust(),a}expandMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];W(e,o=>{i.push(...this.expandChildren(o,!1,!1))}),r&&this.untrimRows(i),n&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),n=[];W(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.collapseMultipleChildren(n),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),n=[];W(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.expandMultipleChildren(n),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{W(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{W(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!1)})},!0)}areChildrenCollapsed(e){let n=isNaN(e)?e:this.dataManager.getDataObject(e),r=!0;return n===null&&(n={__children:this.dataManager.data}),this.dataManager.hasChildren(n)&&W(n.__children,i=>{const o=this.dataManager.getRowIndex(i);if(!this.plugin.collapsedRowsMap.getValueAtIndex(o))return r=!1,!1}),r}isAnyParentCollapsed(e){let n=e;for(;n!==null;){n=this.dataManager.getRowParent(n);const r=this.dataManager.getRowIndex(n);if(this.collapsedRows.indexOf(r)>-1)return!0}return!1}toggleState(e,n){if(n.col>=0)return;const r=this.translateTrimmedRow(n.row);Me(e.target,Ss.CSS_CLASSES.button)&&(this.areChildrenCollapsed(r)?this.expandChildren(r):this.collapseChildren(r),jo(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}function sSe(t,e,n){aSe(t,e),e.set(t,n)}function aSe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lSe(t,e,n){return(e=uSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uSe(t){var e=cSe(t,"string");return typeof e=="symbol"?e:e+""}function cSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hSe(t,e){return t.get(dSe(t,e))}function dSe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var OV=new WeakMap;class fSe extends uI{constructor(){super(...arguments),lSe(this,"dataManager",this.plugin.dataManager),sSe(this,OV,{row_above:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"above")},row_below:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"below")}})}appendOptions(e){const n=[{key:"add_child",name(){return this.getTranslatedPhrase(yP)},callback:()=>{const r=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),i=this.dataManager.getDataObject(r);this.dataManager.addChild(i)},disabled:()=>{const r=this.hot.getSelectedLast();return!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(CP)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const r=this.hot.getSelectedLast(),i=this.dataManager.translateTrimmedRow(r[0]);return!this.dataManager.getRowParent(i)||!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Ce(0,e.items.length-1,r=>{if(r===0)return W(n,(i,o)=>{e.items.splice(r+o,0,i)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Ce(0,e.items.length-1,n=>{const r=hSe(OV,this)[e.items[n].key];r!=null&&(e.items[n].callback=r)}),e}}function Cw(t,e,n){return(e=gSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gSe(t){var e=mSe(t,"string");return typeof e=="symbol"?e:e+""}function mSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pSe{constructor(e){Cw(this,"plugin",void 0),Cw(this,"hot",void 0),Cw(this,"dataManager",void 0),Cw(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,n,r,i){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:n,dropIndex:r,movePossible:i}))return!1;this.movedToCollapsed=!1;const s=r===this.hot.countRows(),a=s?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(r);let l=!0;const u=e.map(g=>{if(!l)return!1;const m=this.dataManager.translateTrimmedRow(g);return l=this.shouldAllowMoving(m,a),m}),c=u.indexOf(a)===-1;if(!l||!c)return!1;const h=this.getBaseParent(u),d=this.getTargetParent(s,a),f=h===d;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(d),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(u,a,f),this.moveRows(u,a,d),this.dataManager.rewriteCache(),this.moveCellsMeta(u,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,n,r,i,i&&this.isRowOrderChanged(e,n)),this.hot.render(),this.selectCells(e,r),!1}displayAPICompatibilityWarning(e){const{rows:n,finalIndex:r,dropIndex:i,movePossible:o}=e;let s=!1;return en(i)&&(gt(yt`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",n,r,i,o,!1),s=!0),s}shouldAllowMoving(e,n){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===n||n===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,n){let r=this.dataManager.getRowParent(e?n-1:n);return r==null&&(r=this.dataManager.getRowParent(n-1)),r}shiftCollapsibleParentsLocations(e,n,r){r||(Math.max(...e)<=n?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],n,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(n,e[0],e.length))}moveRows(e,n,r){const i=n===this.dataManager.getRowIndex(r)+this.dataManager.countChildren(r)+1;this.hot.batchRender(()=>{e.forEach(o=>{this.dataManager.moveRow(o,n,this.movedToCollapsed,i)})})}moveCellsMeta(e,n){const r=[],i=Math.max(...e)<n;e.forEach(o=>{r.push(this.hot.getCellMetaAtRow(o))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(n-(i?r.length:0),0,...r)}selectCells(e,n){const r=e.length;let i=0,o=0;if(this.movedToCollapsed){let s=null;e[r-1]<n?s=this.dataManager.translateTrimmedRow(n-r):s=this.dataManager.translateTrimmedRow(n);const a=this.dataManager.getRowParent(s===null?this.hot.countSourceRows()-1:s-1),l=this.dataManager.getRowIndex(a);i=this.dataManager.untranslateTrimmedRow(l),o=i}else e[r-1]<n?(o=n-1,i=o-r+1):(i=n,o=i+r-1);this.hot.selectCells([[i,0,o,this.hot.countCols()-1]],!1)}isRowOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}}function vSe(t,e){wK(t,e),e.add(t)}function IV(t,e,n){wK(t,e),e.set(t,n)}function wK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nx(t,e,n){return(e=wSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wSe(t){var e=bSe(t,"string");return typeof e=="symbol"?e:e+""}function bSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ib(t,e){return t.get(Wn(t,e))}function By(t,e,n){return t.set(Wn(t,e),n),n}function Wn(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const jy="nestedRows",ySe=300,AV=jy,CSe="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var uS=new WeakMap,Ah=new WeakMap,zn=new WeakSet;class SSe extends ft{constructor(){super(...arguments),vSe(this,zn),nx(this,"dataManager",null),nx(this,"headersUI",null),nx(this,"collapsedRowsMap",null),IV(this,uS,!1),IV(this,Ah,!1)}static get PLUGIN_KEY(){return jy}static get PLUGIN_PRIORITY(){return ySe}isEnabled(){return!!this.hot.getSettings()[jy]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new zp),this.dataManager=new nSe(this,this.hot),this.collapsingUI=new oSe(this,this.hot),this.headersUI=new Ss(this,this.hot),this.contextMenuUI=new fSe(this,this.hot),this.rowMoveController=new pSe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,DSe).call(e,...r)}),this.addHook("beforeViewRender",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,$Se).call(e,...r)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,ESe).call(e,...r)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,xSe).call(e,...r)}),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,TSe).call(e,...r)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,RSe).call(e,...r)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,OSe).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,PSe).call(e,...r)}),this.addHook("beforeAddChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,ISe).call(e,...r)}),this.addHook("afterAddChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,ASe).call(e,...r)}),this.addHook("beforeDetachChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,HSe).call(e,...r)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,kSe).call(e,...r)}),this.addHook("modifyRowHeaderWidth",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,MSe).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,NSe).call(e,...r)}),this.addHook("beforeRowMove",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wn(zn,e,_Se).call(e,...r)}),this.addHook("beforeLoadData",n=>Wn(zn,this,HV).call(this,n)),this.addHook("beforeUpdateData",n=>Wn(zn,this,HV).call(this,n)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.collapsingUI.translateTrimmedRow(e.row);return this.collapsingUI.areChildrenCollapsed(n)?this.collapsingUI.expandChildren(n):this.collapsingUI.collapseChildren(n),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.col===-1&&r.row>=0},group:AV,relativeToGroup:tu,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(AV)}disableCoreAPIModifiers(){By(Ah,this,!0)}enableCoreAPIModifiers(){By(Ah,this,!1)}onModifyRowData(e){if(!Ib(Ah,this))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!Ib(Ah,this))return this.dataManager.countAllRows()}onBeforeDataSplice(e,n,r){return Ib(Ah,this)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,n,r),!1)}destroy(){super.destroy()}}function _Se(t,e,n,r){return this.rowMoveController.onBeforeRowMove(t,e,n,r)}function RSe(t,e,n){this.collapsingUI.toggleState(t,e,n)}function ESe(t,e,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*e),this.dataManager.filterData(t,e,n),By(uS,this,!0),this.dataManager.getData().slice()}function xSe(t){return this.contextMenuUI.appendOptions(t)}function TSe(t,e){this.headersUI.appendLevelIndicators(t,e)}function MSe(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function PSe(t,e,n,r){r!==this.pluginName&&this.hot._registerTimeout(()=>{By(uS,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function OSe(t,e,n){const r=Array.from(n.reduce((i,o)=>{if(this.dataManager.isParent(o)){const s=this.dataManager.getDataObject(o).__children;return i.add(o),Array.isArray(s)&&s.forEach(a=>i.add(this.dataManager.getRowIndex(a))),i}return i.add(o)},new Set));n.length=0,n.push(...r)}function ISe(){this.collapsingUI.collapsedRowsStash.stash()}function ASe(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function HSe(){this.collapsingUI.collapsedRowsStash.stash()}function kSe(t,e,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function NSe(){this.dataManager.rewriteCache()}function DSe(){this.headersUI.updateRowHeaderWidth()}function $Se(t,e){Ib(uS,this)&&(e.skipRender=!0)}function HV(t){if(!Ipe(t)){k1(CSe),this.hot.getSettings()[jy]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}function rx(t,e,n){return(e=LSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LSe(t){var e=FSe(t,"string");return typeof e=="symbol"?e:e+""}function FSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class VSe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;rx(this,"rootWindow",void 0),rx(this,"prefix",void 0),rx(this,"savedKeys",[]),this.rootWindow=n,this.prefix=e,this.loadSavedKeys()}saveValue(e,n){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(n)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,n){const r=typeof e>"u"?n:e,i=this.rootWindow.localStorage.getItem(`${this.prefix}_${r}`);return i===null?void 0:JSON.parse(i)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){W(this.savedKeys,(e,n)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[n]}`)}),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),n=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=n||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}function WSe(t,e,n){return(e=BSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BSe(t){var e=jSe(t,"string");return typeof e=="symbol"?e:e+""}function jSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}de.getSingleton().register("persistentStateSave");de.getSingleton().register("persistentStateLoad");de.getSingleton().register("persistentStateReset");const kV="persistentState",USe=0;class zSe extends ft{constructor(){super(...arguments),WSe(this,"storage",void 0)}static get PLUGIN_KEY(){return kV}static get PLUGIN_PRIORITY(){return USe}isEnabled(){return!!this.hot.getSettings()[kV]}enablePlugin(){this.enabled||(this.storage||(this.storage=new VSe(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,n)=>this.saveValue(e,n)),this.addHook("persistentStateLoad",(e,n)=>this.loadValue(e,n)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,n){n.value=this.storage.loadValue(e)}saveValue(e,n){this.storage.saveValue(e,n)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function YSe(t,e){GSe(t,e),e.add(t)}function GSe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ix(t,e,n){return(e=KSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KSe(t){var e=qSe(t,"string");return typeof e=="symbol"?e:e+""}function qSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NV(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ox="search",XSe=190,ZSe="htSearchResult",JSe=function(t,e,n,r,i){t.getCellMeta(e,n).isSearchResult=i},QSe=function(t,e,n){return en(t)||t===null||!t.toLocaleLowerCase||t.length===0||en(e)||e===null?!1:e.toString().toLocaleLowerCase(n.locale).indexOf(t.toLocaleLowerCase(n.locale))!==-1};var sx=new WeakSet;class e0e extends ft{constructor(){super(...arguments),YSe(this,sx),ix(this,"callback",JSe),ix(this,"queryMethod",QSe),ix(this,"searchResultClass",ZSe)}static get PLUGIN_KEY(){return ox}static get PLUGIN_PRIORITY(){return XSe}isEnabled(){return this.hot.getSettings()[ox]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[ox];this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return NV(sx,e,DV).call(e,...i)}),super.enablePlugin()}disablePlugin(){var e=this;const n=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return NV(sx,e,DV).call(e,...i)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",n)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod();const i=this.hot.countRows(),o=this.hot.countCols(),s=[],a=this.hot;return Ce(0,i-1,l=>{Ce(0,o-1,u=>{const c=this.hot.getDataAtCell(l,u),h=this.hot.getCellMeta(l,u),d=h.search.callback||n,g=(h.search.queryMethod||r)(e,c,h);if(g){const m={row:l,col:u,data:c};s.push(m)}d&&d(a,l,u,c,g)})}),s}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){qe(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function DV(t,e,n,r,i,o){const s=o.className||[];let a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}function Sw(t,e,n){return(e=t0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return typeof e=="symbol"?e:e+""}function n0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bK{constructor(e){Sw(this,"viewportWidth",void 0),Sw(this,"overwriteColumnWidthFn",void 0),Sw(this,"baseWidths",new Map),Sw(this,"stretchedWidths",new Map),this.overwriteColumnWidthFn=e}prepare(e){let{viewportWidth:n}=e;this.viewportWidth=n,this.baseWidths.clear(),this.stretchedWidths.clear()}setColumnBaseWidth(e,n){this.baseWidths.set(e,n)}calculate(){}getWidths(){return Array.from(this.stretchedWidths)}}class r0e extends bK{calculate(){const e=Array.from(this.baseWidths).reduce((h,d)=>{let[,f]=d;return h+f},0);if(this.viewportWidth-e<0){this.stretchedWidths.clear();return}const r=this.viewportWidth/e,i=[],o=[];let s=this.viewportWidth,a=0;if(this.baseWidths.forEach((h,d)=>{const f=Math.round(h*r),g=this.overwriteColumnWidthFn(f,d);f===g&&f>=Hd?(i.push([d,g]),a+=g):f!==g&&(i.push([d,g]),o.push(d),s-=g)}),s<=Hd){this.stretchedWidths.clear();return}const l=s/a;let u=-1,c=0;i.forEach((h,d)=>{let[f,g]=h,m=g;o.includes(f)||(m=Math.round(g*l)),this.stretchedWidths.set(f,m),u=f,d<i.length-1&&(c+=m)}),this.stretchedWidths.size>1&&this.stretchedWidths.set(u,Math.round(this.viewportWidth-c))}}function $V(t,e,n){i0e(t,e),e.set(t,n)}function i0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ax(t,e){return t.get(yK(t,e))}function _w(t,e,n){return t.set(yK(t,e),n),n}function yK(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Rw=new WeakMap,ag=new WeakMap;class o0e extends bK{constructor(){super(...arguments),$V(this,Rw,0),$V(this,ag,-1)}prepare(e){super.prepare(e),_w(Rw,this,0),_w(ag,this,-1)}setColumnBaseWidth(e,n){super.setColumnBaseWidth(e,n),_w(ag,this,e),_w(Rw,this,n)}calculate(){if(ax(ag,this)===-1)return;const e=Array.from(this.baseWidths).reduce((r,i)=>{let[,o]=i;return r+o},0),n=Math.max(this.viewportWidth-e+ax(Rw,this),0);this.stretchedWidths.set(ax(ag,this),n)}}function s0e(t,e){CK(t,e),e.add(t)}function Ew(t,e,n){CK(t,e),e.set(t,n)}function CK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gn(t,e){return t.get(id(t,e))}function lx(t,e,n){return t.set(id(t,e),n),n}function id(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const a0e="stretchColumns";var fr=new WeakMap,Hh=new WeakMap,ux=new WeakMap,xw=new WeakMap,lg=new WeakSet;class l0e{constructor(e){s0e(this,lg),Ew(this,fr,void 0),Ew(this,Hh,void 0),Ew(this,ux,new Map([["all",new r0e(id(lg,this,LV).bind(this))],["last",new o0e(id(lg,this,LV).bind(this))]])),Ew(this,xw,"none"),lx(fr,this,e),lx(Hh,this,gn(fr,this).columnIndexMapper.createAndRegisterIndexMap(a0e,"physicalIndexToValue"))}useStrategy(e){lx(xw,this,gn(ux,this).has(e)?e:"none")}refreshStretching(){if(gn(xw,this)==="none"){gn(Hh,this).clear();return}gn(fr,this).batchExecution(()=>{gn(Hh,this).clear();const e=gn(ux,this).get(gn(xw,this));let r=gn(fr,this).view.getViewportWidth();id(lg,this,u0e).call(this)&&(r-=Xn(gn(fr,this).rootDocument)),e.prepare({viewportWidth:r});for(let i=0;i<gn(fr,this).countCols();i++)gn(fr,this).columnIndexMapper.isHidden(gn(fr,this).toPhysicalColumn(i))||e.setColumnBaseWidth(i,id(lg,this,c0e).call(this,i));e.calculate(),e.getWidths().forEach(i=>{let[o,s]=i;gn(Hh,this).setValueAtIndex(gn(fr,this).toPhysicalColumn(o),s)})},!0)}getStretchedWidth(e){return gn(Hh,this).getValueAtIndex(gn(fr,this).toPhysicalColumn(e))}}function u0e(){const{view:t}=gn(fr,this);if(t.isVerticallyScrollableByWindow())return!1;const e=t.getViewportHeight(),n=gn(fr,this).countRows(),r=t.getStylesHandler().getDefaultRowHeight();let i=0,o=!1;for(let a=0;a<n;a++){var s;if(i+=((s=gn(fr,this).getRowHeight(a))!==null&&s!==void 0?s:r)+(a===0?1:0),i>e){o=!0;break}}return o}function c0e(t){var e;return(e=gn(fr,this).getColWidth(t,"StretchColumns"))!==null&&e!==void 0?e:Hd}function LV(t,e){return gn(fr,this).runHooks("beforeStretchingColumnWidth",t,e)}function h0e(t,e){SK(t,e),e.add(t)}function cx(t,e,n){SK(t,e),e.set(t,n)}function SK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hx(t,e,n){return t.set(Uy(t,e),n),n}function ha(t,e){return t.get(Uy(t,e))}function Uy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const d0e="stretchColumns",f0e=155;var qh=new WeakMap,Tw=new WeakMap,ug=new WeakMap,dx=new WeakSet;class g0e extends ft{constructor(){super(...arguments),h0e(this,dx),cx(this,qh,new l0e(this.hot)),cx(this,Tw,null),cx(this,ug,new ResizeObserver(e=>{requestAnimationFrame(()=>{var n;(n=this.hot)!==null&&n!==void 0&&n.view.isHorizontallyScrollableByWindow()&&e.forEach(r=>{let{contentRect:i}=r;ha(Tw,this)!==null&&ha(Tw,this)!==i.width&&(this.hot.refreshDimensions(),this.hot.view.adjustElementsSize()),hx(Tw,this,i.width)})})}))}static get PLUGIN_KEY(){return d0e}static get PLUGIN_PRIORITY(){return f0e}static get SETTING_KEYS(){return!0}isEnabled(){return["all","last"].includes(this.hot.getSettings().stretchH)}enablePlugin(){var e=this;this.enabled||(ha(qh,this).useStrategy(this.hot.getSettings().stretchH),ha(ug,this).observe(this.hot.rootElement),this.addHook("beforeRender",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Uy(dx,e,p0e).call(e,...r)}),this.addHook("modifyColWidth",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Uy(dx,e,m0e).call(e,...r)},10),super.enablePlugin())}updatePlugin(){ha(qh,this).useStrategy(this.hot.getSettings().stretchH),super.updatePlugin()}disablePlugin(){super.disablePlugin(),ha(ug,this).unobserve(this.hot.rootElement)}getColumnWidth(e){return ha(qh,this).getStretchedWidth(e)}destroy(){ha(ug,this).disconnect(),hx(ug,this,null),hx(qh,this,null),super.destroy()}}function m0e(t,e,n){if(n===this.pluginName)return;const r=this.getColumnWidth(e);return typeof r=="number"?r:t}function p0e(t){t&&ha(qh,this).refreshStretching()}function v0e(t,e){w0e(t,e),e.add(t)}function w0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mw(t,e,n){return(e=b0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0e(t){var e=y0e(t,"string");return typeof e=="symbol"?e:e+""}function y0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fx(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const C0e="touchScroll",S0e=200;var Pw=new WeakSet;class _0e extends ft{constructor(){super(...arguments),v0e(this,Pw),Mw(this,"scrollbars",[]),Mw(this,"clones",[]),Mw(this,"lockedCollection",!1),Mw(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return C0e}static get PLUGIN_PRIORITY(){return S0e}static get SETTING_KEYS(){return!0}isEnabled(){return sz()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>fx(Pw,this,R0e).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>fx(Pw,this,E0e).call(this)),this.addHook("afterMomentumScroll",()=>fx(Pw,this,x0e).call(this))}}function R0e(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(n),r&&this.scrollbars.push(r),i&&i.clone&&this.scrollbars.push(i),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&i.clone&&this.clones.push(i.clone.wtTable.holder.parentNode)}function E0e(){this.freezeOverlays=!0,W(this.clones,t=>{Q(t,"hide-tween")})}function x0e(){this.freezeOverlays=!1,W(this.clones,t=>{xe(t,"hide-tween"),Q(t,"show-tween")}),this.hot._registerTimeout(()=>{W(this.clones,t=>{xe(t,"show-tween")})},400),W(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function T0e(t,e){M0e(t,e),e.add(t)}function M0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P0e(t,e,n){return(e=O0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O0e(t){var e=I0e(t,"string");return typeof e=="symbol"?e:e+""}function I0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A0e(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ab="trimRows",H0e=330;var FV=new WeakSet;class k0e extends ft{constructor(){super(...arguments),T0e(this,FV),P0e(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return Ab}static get PLUGIN_PRIORITY(){return H0e}isEnabled(){return!!this.hot.getSettings()[Ab]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new zp),this.trimmedRowsMap.addLocalHook("init",()=>A0e(FV,this,N0e).call(this)),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[Ab];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),W(e,n=>{this.trimmedRowsMap.setValueAtIndex(n,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeTrimRow",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{W(e,s=>{this.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),this.hot.runHooks("afterTrimRow",n,i,r,r&&i.length>n.length))}trimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.trimRows(n)}untrimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let i=n;const o=this.trimmedRowsMap.getValues().slice(),s=e.length>0;r&&s&&(W(e,l=>{o[l]=!1}),i=li(o,(l,u,c)=>(u&&l.push(c),l),[])),this.hot.runHooks("beforeUntrimRow",n,i,r&&s)!==!1&&(r&&s&&this.trimmedRowsMap.setValues(o),this.hot.runHooks("afterUntrimRow",n,i,r&&s,r&&i.length<n.length))}untrimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.untrimRows(n)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const n=this.hot.countSourceRows();return e.every(r=>Number.isInteger(r)&&r>=0&&r<n)}destroy(){super.destroy()}}function N0e(){const t=this.hot.getSettings()[Ab];Array.isArray(t)&&this.hot.batchExecution(()=>{W(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}function D0e(t,e,n){return(e=$0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $0e(t){var e=L0e(t,"string");return typeof e=="symbol"?e:e+""}function L0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ao{constructor(e){D0e(this,"actionType",""),this.actionType=e}undo(){throw new Error("Not implemented")}redo(){throw new Error("Not implemented")}}function Ow(t,e,n){return(e=F0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=V0e(t,"string");return typeof e=="symbol"?e:e+""}function V0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cI extends ao{constructor(e){let{stateBefore:n,range:r,type:i,alignment:o}=e;super("cell_alignment"),Ow(this,"stateBefore",void 0),Ow(this,"range",void 0),Ow(this,"type",void 0),Ow(this,"alignment",void 0),this.stateBefore=n,this.range=r,this.type=i,this.alignment=o}static startRegisteringEvents(e,n){e.addHook("beforeCellAlignment",(r,i,o,s)=>{n.done(()=>new cI({stateBefore:r,range:i,type:o,alignment:s}))})}undo(e,n){W(this.range,r=>{r.forAll((i,o)=>{i>=0&&o>=0&&e.setCellMeta(i,o,"className",this.stateBefore[i][o]||" htLeft")})}),e.addHookOnce("afterViewRender",n),e.render()}redo(e,n){gl(this.range,this.type,this.alignment,(r,i)=>e.getCellMeta(r,i),(r,i,o,s)=>e.setCellMeta(r,i,o,s)),e.addHookOnce("afterViewRender",n),e.render()}}function VV(t,e,n){return(e=W0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=B0e(t,"string");return typeof e=="symbol"?e:e+""}function B0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hI extends ao{constructor(e){let{columns:n,finalIndex:r}=e;super("col_move"),VV(this,"columns",void 0),VV(this,"finalColumnIndex",void 0),this.columns=n.slice(),this.finalColumnIndex=r}static startRegisteringEvents(e,n){e.addHook("beforeColumnMove",(r,i)=>{r!==!1&&n.done(()=>new hI({columns:r,finalIndex:i}))})}undo(e,n){const r=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",n),oI(this.columns,this.finalColumnIndex,e.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(o=>{let{from:s,to:a}=o;s<a&&(a-=1),r.moveColumn(a,s)}),e.render(),e.deselectCell(),e.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)}redo(e,n){const r=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",n),r.moveColumns(this.columns.slice(),this.finalColumnIndex),e.render(),e.deselectCell(),e.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)}}function WV(t,e,n){return(e=j0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j0e(t){var e=U0e(t,"string");return typeof e=="symbol"?e:e+""}function U0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dI extends ao{constructor(e){let{currentSortState:n,newSortState:r}=e;super("col_sort"),WV(this,"previousSortState",void 0),WV(this,"nextSortState",void 0),this.previousSortState=n,this.nextSortState=r}static startRegisteringEvents(e,n){e.addHook("beforeColumnSort",(r,i,o)=>{o&&n.done(()=>new dI({currentSortState:r,newSortState:i}))})}undo(e,n){const r=e.getPlugin("columnSorting"),i=e.getPlugin("multiColumnSorting"),o=i.isEnabled()?i:r;this.previousSortState.length?o.sort(this.previousSortState):o.clearSort(),n()}redo(e,n){const r=e.getPlugin("columnSorting"),i=e.getPlugin("multiColumnSorting");(i.isEnabled()?i:r).sort(this.nextSortState),n()}}function BV(t,e,n){return(e=z0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z0e(t){var e=Y0e(t,"string");return typeof e=="symbol"?e:e+""}function Y0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fI extends ao{constructor(e){let{index:n,amount:r}=e;super("insert_col"),BV(this,"index",void 0),BV(this,"amount",void 0),this.index=n,this.amount=r}static startRegisteringEvents(e,n){e.addHook("afterCreateCol",(r,i,o)=>{n.done(()=>new fI({index:r,amount:i}),o)})}undo(e,n){e.addHookOnce("afterRemoveCol",n),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")}redo(e,n){e.addHookOnce("afterCreateCol",n),e.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")}}function jV(t,e,n){return(e=G0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=K0e(t,"string");return typeof e=="symbol"?e:e+""}function K0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gI extends ao{constructor(e){let{index:n,amount:r}=e;super("insert_row"),jV(this,"index",void 0),jV(this,"amount",void 0),this.index=n,this.amount=r}static startRegisteringEvents(e,n){e.addHook("afterCreateRow",(r,i,o)=>{n.done(()=>new gI({index:r,amount:i}),o)})}undo(e,n){const r=e.countRows(),i=e.getSettings().minSpareRows;this.index>=r&&this.index-i<r&&(this.index-=i),e.addHookOnce("afterRemoveRow",n),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")}redo(e,n){e.addHookOnce("afterCreateRow",n),e.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")}}function Iw(t,e,n){return(e=q0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q0e(t){var e=X0e(t,"string");return typeof e=="symbol"?e:e+""}function X0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mI extends ao{constructor(e){let{changes:n,selected:r,countCols:i,countRows:o}=e;super("change"),Iw(this,"changes",void 0),Iw(this,"selected",void 0),Iw(this,"countCols",void 0),Iw(this,"countRows",void 0),this.changes=n,this.selected=r,this.countCols=i,this.countRows=o}static startRegisteringEvents(e,n){e.addHook("beforeChange",function(r,i){const o=r&&r.length;if(!o||!r.find(l=>{const[,,u,c]=l;return u!==c}))return;const a=()=>{const l=r.reduce((c,h)=>(c.push([...h]),c),[]);l.forEach(c=>{c[1]=e.propToCol(c[1])});const u=o>1?this.getSelected():[[l[0][0],l[0][1]]];return new mI({changes:l,selected:u,countCols:e.countCols(),countRows:e.countRows()})};n.done(a,i)})}undo(e,n){const r=Dr(this.changes);for(let s=0,a=r.length;s<a;s++)r[s].splice(3,1);e.addHookOnce("afterChange",n),e.setDataAtCell(r,null,null,"UndoRedo.undo");const i=e.countRows()-this.countRows;i>0&&e.alter("remove_row",null,i,"UndoRedo.undo");const o=e.countCols()-this.countCols;o>0&&e.isColumnModificationAllowed()&&e.alter("remove_col",null,o,"UndoRedo.undo"),e.scrollToFocusedCell(),e.selectCells(this.selected,!1,!1)}redo(e,n){const r=Dr(this.changes);for(let i=0,o=r.length;i<o;i++)r[i].splice(2,1);e.addHookOnce("afterChange",n),e.setDataAtCell(r,null,null,"UndoRedo.redo"),this.selected&&e.selectCells(this.selected,!1,!1)}}function UV(t,e,n){return(e=Z0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z0e(t){var e=J0e(t,"string");return typeof e=="symbol"?e:e+""}function J0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pI extends ao{constructor(e){let{conditionsStack:n,previousConditionsStack:r}=e;super("filter"),UV(this,"conditionsStack",void 0),UV(this,"previousConditionsStack",void 0),this.conditionsStack=n,this.previousConditionsStack=r}static startRegisteringEvents(e,n){e.addHook("beforeFilter",(r,i)=>{n.done(()=>new pI({conditionsStack:r,previousConditionsStack:i}))})}undo(e,n){const r=e.getPlugin("filters");e.addHookOnce("afterViewRender",n),r.importConditions(this.previousConditionsStack),r.filter()}redo(e,n){const r=e.getPlugin("filters");e.addHookOnce("afterViewRender",n),r.importConditions(this.conditionsStack),r.filter()}}function Q0e(t,e,n){return(e=e_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e_e(t){var e=t_e(t,"string");return typeof e=="symbol"?e:e+""}function t_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vI extends ao{constructor(e){let{data:n,cellRange:r}=e;super("merge_cells"),Q0e(this,"cellRange",void 0),this.cellRange=r,this.data=n}static startRegisteringEvents(e,n){e.addHook("beforeMergeCells",(r,i)=>{if(i)return;const o=r.getTopStartCorner(),s=r.getBottomEndCorner(),a=e.getData(o.row,o.col,s.row,s.col);n.done(()=>new vI({data:a,cellRange:r}))})}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0);const i=this.cellRange.getTopStartCorner();e.populateFromArray(i.row,i.col,this.data,void 0,void 0,"MergeCells")}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange)}}var zV={},YV;function n_e(){if(YV)return zV;YV=1;var t=$t(),e=zd(),n=N2();return t({target:"Object",stat:!0},{fromEntries:function(i){var o={};return e(i,function(s,a){n(o,s,a)},{AS_ENTRIES:!0}),o}}),zV}n_e();function _K(t,e,n,r,i){const o=["visualRow","visualCol","row","col","prop"],s=o.length,a=[];return Ce(r,i,l=>{Ce(e,n,u=>{const c=t.getCellMeta(u,l);if(Object.keys(c).length!==s){const h=Object.fromEntries(Object.entries(c).filter(d=>{let[f]=d;return o.includes(f)===!1}));a.push([c.visualRow,c.visualCol,h])}})}),a}function oa(t,e,n){return(e=r_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_e(t){var e=i_e(t,"string");return typeof e=="symbol"?e:e+""}function i_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wI extends ao{constructor(e){let{index:n,indexes:r,data:i,amount:o,headers:s,columnPositions:a,rowPositions:l,fixedColumnsStart:u,removedCellMetas:c}=e;super("remove_col"),oa(this,"index",void 0),oa(this,"indexes",void 0),oa(this,"data",void 0),oa(this,"amount",void 0),oa(this,"headers",void 0),oa(this,"columnPositions",void 0),oa(this,"rowPositions",void 0),oa(this,"fixedColumnsStart",void 0),oa(this,"removedCellMetas",void 0),this.index=n,this.indexes=r,this.data=i,this.amount=o,this.headers=s,this.columnPositions=a.slice(0),this.rowPositions=l.slice(0),this.fixedColumnsStart=u,this.removedCellMetas=c}static startRegisteringEvents(e,n){e.addHook("beforeRemoveCol",(r,i,o,s)=>{const a=()=>{const l=e.getSourceDataArray(),u=(e.countCols()+r)%e.countCols(),c=u+i-1,h=[],d=[],f=[];return Ce(l.length-1,g=>{const m=[],p=l[g];Ce(u,c,y=>{m.push(p[e.toPhysicalColumn(y)])}),h.push(m)}),Ce(i-1,g=>{f.push(e.toPhysicalColumn(u+g))}),Array.isArray(e.getSettings().colHeaders)&&Ce(i-1,g=>{d.push(e.getSettings().colHeaders[e.toPhysicalColumn(u+g)]||null)}),new wI({index:u,indexes:f,data:h,amount:i,headers:d,columnPositions:e.columnIndexMapper.getIndexesSequence(),rowPositions:e.rowIndexMapper.getIndexesSequence(),fixedColumnsStart:e.getSettings().fixedColumnsStart,removedCellMetas:_K(e,0,e.countRows(),u,c)})};n.done(a,s)})}undo(e,n){const r=e.getSettings();r.fixedColumnsStart=this.fixedColumnsStart;const i=this.indexes.slice(0).sort(),o=(c,h,d)=>d[this.indexes.indexOf(i[h])],s=this.data.length,a=[];for(let c=0;c<s;c++)a.push(nt(this.data[c],o));const l=nt(this.headers,o),u=[];e.columnIndexMapper.setIndexesSequence(this.columnPositions),e.alter("insert_col_start",e.toVisualColumn(this.indexes[0]),this.indexes.length,"UndoRedo.undo"),e.batchExecution(()=>{e.rowIndexMapper.setIndexesSequence(this.rowPositions),e.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),W(e.getSourceDataArray(),(c,h)=>{W(i,(d,f)=>{c[d]=a[h][f],u.push([h,d,c[d]])})}),typeof this.headers<"u"&&W(l,(c,h)=>{e.getSettings().colHeaders[i[h]]=c}),this.removedCellMetas.forEach(c=>{let[h,d,f]=c;e.setCellMetaObject(h,d,f)}),e.addHookOnce("afterViewRender",n),e.setSourceDataAtCell(u,null,null,"UndoRedo.undo")}redo(e,n){e.addHookOnce("afterRemoveCol",n),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")}}function kh(t,e,n){return(e=o_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o_e(t){var e=s_e(t,"string");return typeof e=="symbol"?e:e+""}function s_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bI extends ao{constructor(e){let{index:n,data:r,fixedRowsBottom:i,fixedRowsTop:o,rowIndexesSequence:s,removedCellMetas:a}=e;super("remove_row"),kh(this,"index",void 0),kh(this,"data",void 0),kh(this,"fixedRowsBottom",void 0),kh(this,"fixedRowsTop",void 0),kh(this,"rowIndexesSequence",void 0),kh(this,"removedCellMetas",void 0),this.index=n,this.data=r,this.fixedRowsBottom=i,this.fixedRowsTop=o,this.rowIndexesSequence=s,this.removedCellMetas=a}static startRegisteringEvents(e,n){e.addHook("beforeRemoveRow",(r,i,o,s)=>{const a=()=>{const l=e.toPhysicalRow(r),u=l+i-1,c=Dr(e.getSourceData(l,0,l+i-1,e.countSourceCols()-1));return new bI({index:l,data:c,fixedRowsBottom:e.getSettings().fixedRowsBottom,fixedRowsTop:e.getSettings().fixedRowsTop,rowIndexesSequence:e.rowIndexMapper.getIndexesSequence(),removedCellMetas:_K(e,l,u,0,e.countCols()-1)})};n.done(a,s)})}undo(e,n){const r=e.getSettings(),i=[];r.fixedRowsBottom=this.fixedRowsBottom,r.fixedRowsTop=this.fixedRowsTop,this.data.forEach((o,s)=>{Object.keys(o).forEach(a=>{const l=parseInt(a,10);i.push([this.index+s,isNaN(l)?a:l,o[a]])})}),e.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence),e.alter("insert_row_above",e.toVisualRow(this.index),this.data.length,"UndoRedo.undo"),e.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence),this.removedCellMetas.forEach(o=>{let[s,a,l]=o;e.setCellMetaObject(s,a,l)}),e.addHookOnce("afterViewRender",n),e.setSourceDataAtCell(i,null,null,"UndoRedo.undo")}redo(e,n){e.addHookOnce("afterRemoveRow",n),e.alter("remove_row",e.toVisualRow(this.index),this.data.length,"UndoRedo.redo")}}function GV(t,e,n){return(e=a_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a_e(t){var e=l_e(t,"string");return typeof e=="symbol"?e:e+""}function l_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yI extends ao{constructor(e){let{rows:n,finalIndex:r}=e;super("row_move"),GV(this,"rows",void 0),GV(this,"finalRowIndex",void 0),this.rows=n.slice(),this.finalRowIndex=r}static startRegisteringEvents(e,n){e.addHook("beforeRowMove",(r,i)=>{r!==!1&&n.done(()=>new yI({rows:r,finalIndex:i}))})}undo(e,n){const r=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",n),oI(this.rows,this.finalRowIndex,e.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(o=>{let{from:s,to:a}=o;s<a&&(a-=1),r.moveRow(a,s)}),e.render(),e.deselectCell(),e.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)}redo(e,n){const r=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",n),r.moveRows(this.rows.slice(),this.finalRowIndex),e.render(),e.deselectCell(),e.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)}}function u_e(t,e,n){return(e=c_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c_e(t){var e=h_e(t,"string");return typeof e=="symbol"?e:e+""}function h_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class CI extends ao{constructor(e){let{cellRange:n}=e;super("unmerge_cells"),u_e(this,"cellRange",void 0),this.cellRange=n}static startRegisteringEvents(e,n){e.addHook("afterUnmergeCells",(r,i)=>{i||n.done(()=>new CI({cellRange:r}))})}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange,!0)}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0),e.render()}}function d_e(t,e){[cI,hI,dI,fI,gI,mI,pI,vI,wI,bI,yI,CI].forEach(n=>n.startRegisteringEvents(t,e))}function f_e(t,e){g_e(t,e),e.add(t)}function g_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gx(t,e,n){return(e=m_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m_e(t){var e=p_e(t,"string");return typeof e=="symbol"?e:e+""}function p_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mx(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const KV="undoRedo",v_e="undoRedo",w_e=1e3;de.getSingleton().register("beforeUndo");de.getSingleton().register("afterUndo");de.getSingleton().register("beforeRedo");de.getSingleton().register("afterRedo");const qV=new Set;var Aw=new WeakSet;class b_e extends ft{static get PLUGIN_KEY(){return v_e}static get PLUGIN_PRIORITY(){return w_e}static get SETTING_KEYS(){return!0}constructor(e){super(e),f_e(this,Aw),gx(this,"doneActions",[]),gx(this,"undoneActions",[]),gx(this,"ignoreNewActions",!1),d_e(e,this)}isEnabled(){return!!this.hot.getSettings().undo}enablePlugin(){var e=this;this.enabled||(this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mx(Aw,e,y_e).call(e,...r)}),this.registerShortcuts(),mx(Aw,this,C_e).call(this),super.enablePlugin())}disablePlugin(){super.disablePlugin(),this.clear(),this.unregisterShortcuts(),mx(Aw,this,S_e).call(this)}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("grid"),i={runOnlyIf:o=>!o.altKey,group:KV};n.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(KV)}done(e,n){if(this.ignoreNewActions||n==="UndoRedo.undo"||n==="UndoRedo.redo"||n==="auto")return;const i=this.doneActions.slice();if(this.hot.runHooks("beforeUndoStackChange",i,n)===!1)return;const s=e(),a=this.undoneActions.slice();this.doneActions.push(s),this.hot.runHooks("afterUndoStackChange",i,this.doneActions.slice()),this.hot.runHooks("beforeRedoStackChange",a),this.undoneActions.length=0,this.hot.runHooks("afterRedoStackChange",a,this.undoneActions.slice())}undo(){if(!this.isUndoAvailable())return;const e=this.doneActions.slice();this.hot.runHooks("beforeUndoStackChange",e);const n=this.doneActions.pop();this.hot.runHooks("afterUndoStackChange",e,this.doneActions.slice());const r=Dr(n);if(this.hot.runHooks("beforeUndo",r)===!1)return;this.ignoreNewActions=!0;const o=this.undoneActions.slice();this.hot.runHooks("beforeRedoStackChange",o),n.undo(this.hot,()=>{this.ignoreNewActions=!1,this.undoneActions.push(n)}),this.hot.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.hot.runHooks("afterUndo",r)}redo(){if(!this.isRedoAvailable())return;const e=this.undoneActions.slice();this.hot.runHooks("beforeRedoStackChange",e);const n=this.undoneActions.pop();this.hot.runHooks("afterRedoStackChange",e,this.undoneActions.slice());const r=Dr(n);if(this.hot.runHooks("beforeRedo",r)===!1)return;this.ignoreNewActions=!0;const o=this.doneActions.slice();this.hot.runHooks("beforeUndoStackChange",o),n.redo(this.hot,()=>{this.ignoreNewActions=!1,this.doneActions.push(n)}),this.hot.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.hot.runHooks("afterRedo",r)}isUndoAvailable(){return this.doneActions.length>0}isRedoAvailable(){return this.undoneActions.length>0}clear(){this.doneActions.length=0,this.undoneActions.length=0}destroy(){this.clear(),this.doneActions=null,this.undoneActions=null,super.destroy()}}function y_e(t,e){e==="loadData"&&this.clear()}function C_e(){const t=e=>{qV.has(e)||(gt(yt`The "${e}" method is deprecated and it will be removed\x20
          from the Core API in the future. Please use the method from the UndoRedo plugin\x20
          (e.g. \`hotInstance.getPlugin("undoRedo").${e}()\`).`),qV.add(e))};this.hot.undo=()=>{t("undo"),this.undo()},this.hot.redo=()=>{t("redo"),this.redo()},this.hot.isUndoAvailable=()=>(t("isUndoAvailable"),this.isUndoAvailable()),this.hot.isRedoAvailable=()=>(t("isRedoAvailable"),this.isRedoAvailable()),this.hot.clearUndo=()=>{t("clear"),this.clear()},this.hot.undoRedo=this}function S_e(){delete this.hot.undo,delete this.hot.redo,delete this.hot.isUndoAvailable,delete this.hot.isRedoAvailable,delete this.hot.clearUndo,delete this.hot.undoRedo}function __e(){ot(Jg),ot(Kue),ot(Qg),ot(Ece),ot(Hce),ot($Y),ot(Mhe),ot(pde),ot(nS),ot(Nfe),ot(Ige),ot(Fge),ot(oS),ot(Cme),ot(yve),ot(Qve),ot(xwe),ot(Lwe),ot(Xwe),ot(abe),ot(vbe),ot(Nbe),ot(Ube),ot(Tye),ot(oCe),ot(cCe),ot(DCe),ot(SSe),ot(zSe),ot(e0e),ot(g0e),ot(_0e),ot(k0e),ot(b_e)}function R_e(){Are(),aoe(),boe(),joe(),__e()}let Ot;function RK(t){const e=Ot.__externref_table_alloc();return Ot.__wbindgen_export_2.set(e,t),e}function px(t,e){try{return t.apply(this,e)}catch(n){const r=RK(n);Ot.__wbindgen_exn_store(r)}}const EK=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&EK.decode();let Pg=null;function Hb(){return(Pg===null||Pg.byteLength===0)&&(Pg=new Uint8Array(Ot.memory.buffer)),Pg}function Hw(t,e){return t=t>>>0,EK.decode(Hb().subarray(t,t+e))}let yc=0;const kb=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},E_e=typeof kb.encodeInto=="function"?function(t,e){return kb.encodeInto(t,e)}:function(t,e){const n=kb.encode(t);return e.set(n),{read:t.length,written:n.length}};function vx(t,e,n){if(n===void 0){const a=kb.encode(t),l=e(a.length,1)>>>0;return Hb().subarray(l,l+a.length).set(a),yc=a.length,l}let r=t.length,i=e(r,1)>>>0;const o=Hb();let s=0;for(;s<r;s++){const a=t.charCodeAt(s);if(a>127)break;o[i+s]=a}if(s!==r){s!==0&&(t=t.slice(s)),i=n(i,r,r=s+t.length*3,1)>>>0;const a=Hb().subarray(i+s,i+r),l=E_e(t,a);s+=l.written,i=n(i,r,s,1)>>>0}return yc=s,i}let tc=null;function yo(){return(tc===null||tc.buffer.detached===!0||tc.buffer.detached===void 0&&tc.buffer!==Ot.memory.buffer)&&(tc=new DataView(Ot.memory.buffer)),tc}function cg(t){return t==null}function JT(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let o="[";i>0&&(o+=JT(t[0]));for(let s=1;s<i;s++)o+=", "+JT(t[s]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n&&n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}function x_e(t,e){const n=e(t.length*4,4)>>>0;for(let r=0;r<t.length;r++){const i=RK(t[r]);yo().setUint32(n+4*r,i,!0)}return yc=t.length,n}function kw(t){const e=Ot.__wbindgen_export_2.get(t);return Ot.__externref_table_dealloc(t),e}const XV=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>Ot.__wbg_wasmlogcontexttransformer_free(t>>>0,1));class xK{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,XV.unregister(this),e}free(){const e=this.__destroy_into_raw();Ot.__wbg_wasmlogcontexttransformer_free(e,0)}constructor(e){const n=x_e(e,Ot.__wbindgen_malloc),r=yc,i=Ot.wasmlogcontexttransformer_new(n,r);return this.__wbg_ptr=i>>>0,XV.register(this,this.__wbg_ptr,this),this}from_rpc_response(e){const n=Ot.wasmlogcontexttransformer_from_rpc_response(this.__wbg_ptr,e);if(n[2])throw kw(n[1]);return kw(n[0])}from_rpc_logs_response(e,n){const r=Ot.wasmlogcontexttransformer_from_rpc_logs_response(this.__wbg_ptr,e,n);if(r[2])throw kw(r[1]);return kw(r[0])}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(t=>Ot.__wbg_wasmlogparser_free(t>>>0,1));async function T_e(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function M_e(){const t={};return t.wbg={},t.wbg.__wbg_buffer_609cc3eee51ed158=function(e){return e.buffer},t.wbg.__wbg_call_672a4d21634d4a24=function(){return px(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_done_769e5ede4b31c67b=function(e){return e.done},t.wbg.__wbg_entries_3265d4158b33e5dc=function(e){return Object.entries(e)},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let r,i;try{r=e,i=n,console.error(Hw(e,n))}finally{Ot.__wbindgen_free(r,i,1)}},t.wbg.__wbg_get_67b2ba62fc30de12=function(){return px(function(e,n){return Reflect.get(e,n)},arguments)},t.wbg.__wbg_get_b9b93047fe3cf45b=function(e,n){return e[n>>>0]},t.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(e,n){return e[n]},t.wbg.__wbg_instanceof_ArrayBuffer_e14585432e3737fc=function(e){let n;try{n=e instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_instanceof_Uint8Array_17156bcf118086a9=function(e){let n;try{n=e instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_isArray_a1eab7e0d067391b=function(e){return Array.isArray(e)},t.wbg.__wbg_isSafeInteger_343e2beeeece1bb0=function(e){return Number.isSafeInteger(e)},t.wbg.__wbg_iterator_9a24c88df860dc65=function(){return Symbol.iterator},t.wbg.__wbg_length_a446193dc22c12f8=function(e){return e.length},t.wbg.__wbg_length_e2d2a49132c1b256=function(e){return e.length},t.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},t.wbg.__wbg_new_78feb108b6472713=function(){return new Array},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_new_a12002a7f91c75be=function(e){return new Uint8Array(e)},t.wbg.__wbg_next_25feadfc0913fea9=function(e){return e.next},t.wbg.__wbg_next_6574e1a8a62d1055=function(){return px(function(e){return e.next()},arguments)},t.wbg.__wbg_set_37837023f3d740e8=function(e,n,r){e[n>>>0]=r},t.wbg.__wbg_set_3f1d0b984ed272ed=function(e,n,r){e[n]=r},t.wbg.__wbg_set_65595bdd868b3009=function(e,n,r){e.set(n,r>>>0)},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const r=n.stack,i=vx(r,Ot.__wbindgen_malloc,Ot.__wbindgen_realloc),o=yc;yo().setInt32(e+4*1,o,!0),yo().setInt32(e+4*0,i,!0)},t.wbg.__wbg_value_cd1ffa7b1ab794f1=function(e){return e.value},t.wbg.__wbindgen_as_number=function(e){return+e},t.wbg.__wbindgen_bigint_from_u64=function(e){return BigInt.asUintN(64,e)},t.wbg.__wbindgen_bigint_get_as_i64=function(e,n){const r=n,i=typeof r=="bigint"?r:void 0;yo().setBigInt64(e+8*1,cg(i)?BigInt(0):i,!0),yo().setInt32(e+4*0,!cg(i),!0)},t.wbg.__wbindgen_boolean_get=function(e){const n=e;return typeof n=="boolean"?n?1:0:2},t.wbg.__wbindgen_debug_string=function(e,n){const r=JT(n),i=vx(r,Ot.__wbindgen_malloc,Ot.__wbindgen_realloc),o=yc;yo().setInt32(e+4*1,o,!0),yo().setInt32(e+4*0,i,!0)},t.wbg.__wbindgen_error_new=function(e,n){return new Error(Hw(e,n))},t.wbg.__wbindgen_in=function(e,n){return e in n},t.wbg.__wbindgen_init_externref_table=function(){const e=Ot.__wbindgen_export_2,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t.wbg.__wbindgen_is_bigint=function(e){return typeof e=="bigint"},t.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},t.wbg.__wbindgen_is_object=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},t.wbg.__wbindgen_is_undefined=function(e){return e===void 0},t.wbg.__wbindgen_jsval_eq=function(e,n){return e===n},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return e==n},t.wbg.__wbindgen_memory=function(){return Ot.memory},t.wbg.__wbindgen_number_get=function(e,n){const r=n,i=typeof r=="number"?r:void 0;yo().setFloat64(e+8*1,cg(i)?0:i,!0),yo().setInt32(e+4*0,!cg(i),!0)},t.wbg.__wbindgen_number_new=function(e){return e},t.wbg.__wbindgen_string_get=function(e,n){const r=n,i=typeof r=="string"?r:void 0;var o=cg(i)?0:vx(i,Ot.__wbindgen_malloc,Ot.__wbindgen_realloc),s=yc;yo().setInt32(e+4*1,s,!0),yo().setInt32(e+4*0,o,!0)},t.wbg.__wbindgen_string_new=function(e,n){return Hw(e,n)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(Hw(e,n))},t}function P_e(t,e){return Ot=t.exports,TK.__wbindgen_wasm_module=e,tc=null,Pg=null,Ot.__wbindgen_start(),Ot}async function TK(t){if(Ot!==void 0)return Ot;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/sologger/sologger-log-transformer-wasm/pkg/sologger_log_transformer_wasm_bg.wasm",import.meta.url));const e=M_e();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await T_e(await t,e);return P_e(n,r)}const O_e={props:{modelValue:{type:String,required:!0}},emits:["addProgramId","update:modelValue"],methods:{emitAddProgramId(){this.$emit("addProgramId")}}},I_e={class:"flex gap-4"},A_e=["value"];function H_e(t,e,n,r,i,o){return Ae(),Ve("form",{onSubmit:e[1]||(e[1]=Zj((...s)=>o.emitAddProgramId&&o.emitAddProgramId(...s),["prevent"])),class:"mb-6"},[te("div",I_e,[te("input",{value:n.modelValue,onInput:e[0]||(e[0]=s=>t.$emit("update:modelValue",s.target.value)),type:"text",placeholder:"Enter Program ID",class:"flex-grow p-2 border rounded"},null,40,A_e),e[2]||(e[2]=te("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," Add Program ",-1))])],32)}const k_e=Xl(O_e,[["render",H_e]]),N_e={props:["programIds"],emits:["removeProgramId"],methods:{removeProgramId(t){this.$emit("removeProgramId",t)}}},D_e={class:"mb-6"},$_e={class:"flex flex-wrap gap-2"},L_e={class:"text-sm"},F_e=["onClick"];function V_e(t,e,n,r,i,o){return Ae(),Ve("div",D_e,[e[0]||(e[0]=te("h3",{class:"text-lg font-bold mb-2"},"Monitored Programs:",-1)),te("div",$_e,[(Ae(!0),Ve(Yn,null,fd(n.programIds,(s,a)=>(Ae(),Ve("div",{key:a,class:"flex items-center gap-2 bg-gray-100 px-3 py-1 rounded"},[te("span",L_e,wn(s),1),te("button",{onClick:l=>o.removeProgramId(a),class:"text-red-500 hover:text-red-700"},"  ",8,F_e)]))),128))])])}const W_e=Xl(N_e,[["render",V_e]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qp(t){return t+.5|0}const $l=(t,e,n)=>Math.max(Math.min(t,n),e);function Og(t){return $l(Qp(t*2.55),0,255)}function jl(t){return $l(Qp(t*255),0,255)}function ba(t){return $l(Qp(t/2.55)/100,0,1)}function ZV(t){return $l(Qp(t*100),0,100)}const Ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},QT=[..."0123456789ABCDEF"],B_e=t=>QT[t&15],j_e=t=>QT[(t&240)>>4]+QT[t&15],Nw=t=>(t&240)>>4===(t&15),U_e=t=>Nw(t.r)&&Nw(t.g)&&Nw(t.b)&&Nw(t.a);function z_e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ni[t[1]]*17,g:255&Ni[t[2]]*17,b:255&Ni[t[3]]*17,a:e===5?Ni[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ni[t[1]]<<4|Ni[t[2]],g:Ni[t[3]]<<4|Ni[t[4]],b:Ni[t[5]]<<4|Ni[t[6]],a:e===9?Ni[t[7]]<<4|Ni[t[8]]:255})),n}const Y_e=(t,e)=>t<255?e(t):"";function G_e(t){var e=U_e(t)?B_e:j_e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Y_e(t.a,e):void 0}const K_e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MK(t,e,n){const r=e*Math.min(n,1-n),i=(o,s=(o+t/30)%12)=>n-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function q_e(t,e,n){const r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function X_e(t,e,n){const r=MK(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Z_e(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function SI(t){const n=t.r/255,r=t.g/255,i=t.b/255,o=Math.max(n,r,i),s=Math.min(n,r,i),a=(o+s)/2;let l,u,c;return o!==s&&(c=o-s,u=a>.5?c/(2-o-s):c/(o+s),l=Z_e(n,r,i,c,o),l=l*60+.5),[l|0,u||0,a]}function _I(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(jl)}function RI(t,e,n){return _I(MK,t,e,n)}function J_e(t,e,n){return _I(X_e,t,e,n)}function Q_e(t,e,n){return _I(q_e,t,e,n)}function PK(t){return(t%360+360)%360}function eRe(t){const e=K_e.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Og(+e[5]):jl(+e[5]));const i=PK(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=J_e(i,o,s):e[1]==="hsv"?r=Q_e(i,o,s):r=RI(i,o,s),{r:r[0],g:r[1],b:r[2],a:n}}function tRe(t,e){var n=SI(t);n[0]=PK(n[0]+e),n=RI(n),t.r=n[0],t.g=n[1],t.b=n[2]}function nRe(t){if(!t)return;const e=SI(t),n=e[0],r=ZV(e[1]),i=ZV(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ba(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const JV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},QV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rRe(){const t={},e=Object.keys(QV),n=Object.keys(JV);let r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,JV[o]);o=parseInt(QV[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let Dw;function iRe(t){Dw||(Dw=rRe(),Dw.transparent=[0,0,0,0]);const e=Dw[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const oRe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sRe(t){const e=oRe.exec(t);let n=255,r,i,o;if(e){if(e[7]!==r){const s=+e[7];n=e[8]?Og(s):$l(s*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?Og(r):$l(r,0,255)),i=255&(e[4]?Og(i):$l(i,0,255)),o=255&(e[6]?Og(o):$l(o,0,255)),{r,g:i,b:o,a:n}}}function aRe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ba(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const wx=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Nh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function lRe(t,e,n){const r=Nh(ba(t.r)),i=Nh(ba(t.g)),o=Nh(ba(t.b));return{r:jl(wx(r+n*(Nh(ba(e.r))-r))),g:jl(wx(i+n*(Nh(ba(e.g))-i))),b:jl(wx(o+n*(Nh(ba(e.b))-o))),a:t.a+n*(e.a-t.a)}}function $w(t,e,n){if(t){let r=SI(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=RI(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function OK(t,e){return t&&Object.assign(e||{},t)}function eW(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jl(t[3]))):(e=OK(t,{r:0,g:0,b:0,a:1}),e.a=jl(e.a)),e}function uRe(t){return t.charAt(0)==="r"?sRe(t):eRe(t)}class up{constructor(e){if(e instanceof up)return e;const n=typeof e;let r;n==="object"?r=eW(e):n==="string"&&(r=z_e(e)||iRe(e)||uRe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=OK(this._rgb);return e&&(e.a=ba(e.a)),e}set rgb(e){this._rgb=eW(e)}rgbString(){return this._valid?aRe(this._rgb):void 0}hexString(){return this._valid?G_e(this._rgb):void 0}hslString(){return this._valid?nRe(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let o;const s=n===o?.5:n,a=2*s-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-u,r.r=255&u*r.r+o*i.r+.5,r.g=255&u*r.g+o*i.g+.5,r.b=255&u*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=lRe(this._rgb,e._rgb,n)),this}clone(){return new up(this.rgb)}alpha(e){return this._rgb.a=jl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Qp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $w(this._rgb,2,e),this}darken(e){return $w(this._rgb,2,-e),this}saturate(e){return $w(this._rgb,1,e),this}desaturate(e){return $w(this._rgb,1,-e),this}rotate(e){return tRe(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function sa(){}const cRe=(()=>{let t=0;return()=>t++})();function Bt(t){return t==null}function Kn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function eo(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function cs(t,e){return eo(t)?t:e}function lt(t,e){return typeof t>"u"?e:t}const hRe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Gt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Pt(t,e,n,r){let i,o,s;if(Kn(t))for(o=t.length,i=0;i<o;i++)e.call(n,t[i],i);else if(bt(t))for(s=Object.keys(t),o=s.length,i=0;i<o;i++)e.call(n,t[s[i]],s[i])}function zy(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Yy(t){if(Kn(t))return t.map(Yy);if(bt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Yy(t[n[i]]);return e}return t}function IK(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dRe(t,e,n,r){if(!IK(t))return;const i=e[t],o=n[t];bt(i)&&bt(o)?cp(i,o,r):e[t]=Yy(o)}function cp(t,e,n){const r=Kn(e)?e:[e],i=r.length;if(!bt(t))return t;n=n||{};const o=n.merger||dRe;let s;for(let a=0;a<i;++a){if(s=r[a],!bt(s))continue;const l=Object.keys(s);for(let u=0,c=l.length;u<c;++u)o(l[u],t,s,n)}return t}function mm(t,e){return cp(t,e,{merger:fRe})}function fRe(t,e,n){if(!IK(t))return;const r=e[t],i=n[t];bt(r)&&bt(i)?mm(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Yy(i))}const tW={"":t=>t,x:t=>t.x,y:t=>t.y};function gRe(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function mRe(t){const e=gRe(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Gy(t,e){return(tW[e]||(tW[e]=mRe(e)))(t)}function EI(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ky=t=>typeof t<"u",Gl=t=>typeof t=="function",nW=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function pRe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Zn=Math.PI,Hs=2*Zn,vRe=Hs+Zn,qy=Number.POSITIVE_INFINITY,wRe=Zn/180,Io=Zn/2,zu=Zn/4,rW=Zn*2/3,AK=Math.log10,Dd=Math.sign;function pm(t,e,n){return Math.abs(t-e)<n}function iW(t){const e=Math.round(t);t=pm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(AK(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function bRe(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function yRe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function hp(t){return!yRe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function CRe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function SRe(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function fc(t){return t*(Zn/180)}function _Re(t){return t*(180/Zn)}function oW(t){if(!eo(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function RRe(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*Zn&&(o+=Hs),{angle:o,distance:i}}function eM(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ERe(t,e){return(t-e+vRe)%Hs-Zn}function ml(t){return(t%Hs+Hs)%Hs}function HK(t,e,n,r){const i=ml(t),o=ml(e),s=ml(n),a=ml(o-i),l=ml(s-i),u=ml(i-o),c=ml(i-s);return i===o||i===s||r&&o===s||a>l&&u<c}function Ki(t,e,n){return Math.max(e,Math.min(n,t))}function xRe(t){return Ki(t,-32768,32767)}function Ig(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function xI(t,e,n){n=n||(s=>t[s]<e);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const gc=(t,e,n,r)=>xI(t,n,r?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),TRe=(t,e,n)=>xI(t,n,r=>t[r][e]>=n);function MRe(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const kK=["push","pop","shift","splice","unshift"];function PRe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kK.forEach(n=>{const r="_onData"+EI(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const s=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function sW(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(kK.forEach(o=>{delete t[o]}),delete t._chartjs)}function ORe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const NK=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function DK(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,NK.call(window,()=>{r=!1,t.apply(e,n)}))}}function IRe(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const TI=t=>t==="start"?"left":t==="end"?"right":"center",gr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,ARe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function HRe(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:s,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=s.axis,{min:h,max:d,minDefined:f,maxDefined:g}=s.getUserBounds();if(f){if(i=Math.min(gc(l,c,h).lo,n?r:gc(e,c,s.getPixelForValue(h)).lo),u){const m=l.slice(0,i+1).reverse().findIndex(p=>!Bt(p[a.axis]));i-=Math.max(0,m)}i=Ki(i,0,r-1)}if(g){let m=Math.max(gc(l,s.axis,d,!0).hi+1,n?0:gc(e,c,s.getPixelForValue(d),!0).hi+1);if(u){const p=l.slice(m-1).findIndex(y=>!Bt(y[a.axis]));m+=Math.max(0,p)}o=Ki(m,i,r)-i}else o=r-i}return{start:i,count:o}}function kRe(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const Lw=t=>t===0||t===1,aW=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Hs/n)),lW=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Hs/n)+1,vm={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Io)+1,easeOutSine:t=>Math.sin(t*Io),easeInOutSine:t=>-.5*(Math.cos(Zn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Lw(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Lw(t)?t:aW(t,.075,.3),easeOutElastic:t=>Lw(t)?t:lW(t,.075,.3),easeInOutElastic(t){return Lw(t)?t:t<.5?.5*aW(t*2,.1125,.45):.5+.5*lW(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-vm.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?vm.easeInBounce(t*2)*.5:vm.easeOutBounce(t*2-1)*.5+.5};function MI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function uW(t){return MI(t)?t:new up(t)}function bx(t){return MI(t)?t:new up(t).saturate(.5).darken(.1).hexString()}const NRe=["x","y","borderWidth","radius","tension"],DRe=["color","borderColor","backgroundColor"];function $Re(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:DRe},numbers:{type:"number",properties:NRe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function LRe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cW=new Map;function FRe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=cW.get(n);return r||(r=new Intl.NumberFormat(t,e),cW.set(n,r)),r}function $K(t,e,n){return FRe(e,n).format(t)}const VRe={values(t){return Kn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),o=WRe(t,n)}const s=AK(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$K(t,r,l)}};function WRe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var LK={formatters:VRe};function BRe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:LK.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Nc=Object.create(null),tM=Object.create(null);function wm(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function yx(t,e,n){return typeof e=="string"?cp(wm(t,e),n):cp(wm(t,""),e)}class jRe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>bx(i.backgroundColor),this.hoverBorderColor=(r,i)=>bx(i.borderColor),this.hoverColor=(r,i)=>bx(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return yx(this,e,n)}get(e){return wm(this,e)}describe(e,n){return yx(tM,e,n)}override(e,n){return yx(Nc,e,n)}route(e,n,r,i){const o=wm(this,e),s=wm(this,r),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=s[i];return bt(l)?Object.assign({},u,l):lt(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Rn=new jRe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$Re,LRe,BRe]);function URe(t){return!t||Bt(t.size)||Bt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function hW(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Yu(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function dW(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function nM(t,e,n,r){FK(t,e,n,r,null)}function FK(t,e,n,r,i){let o,s,a,l,u,c,h,d;const f=e.pointStyle,g=e.rotation,m=e.radius;let p=(g||0)*wRe;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(p),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,m,0,0,Hs):t.arc(n,r,m,0,Hs),t.closePath();break;case"triangle":c=i?i/2:m,t.moveTo(n+Math.sin(p)*c,r-Math.cos(p)*m),p+=rW,t.lineTo(n+Math.sin(p)*c,r-Math.cos(p)*m),p+=rW,t.lineTo(n+Math.sin(p)*c,r-Math.cos(p)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,s=Math.cos(p+zu)*l,h=Math.cos(p+zu)*(i?i/2-u:l),a=Math.sin(p+zu)*l,d=Math.sin(p+zu)*(i?i/2-u:l),t.arc(n-h,r-a,u,p-Zn,p-Io),t.arc(n+d,r-s,u,p-Io,p),t.arc(n+h,r+a,u,p,p+Io),t.arc(n-d,r+s,u,p+Io,p+Zn),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}p+=zu;case"rectRot":h=Math.cos(p)*(i?i/2:m),s=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+d,r-s),t.lineTo(n+h,r+a),t.lineTo(n-d,r+s),t.closePath();break;case"crossRot":p+=zu;case"cross":h=Math.cos(p)*(i?i/2:m),s=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s);break;case"star":h=Math.cos(p)*(i?i/2:m),s=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s),p+=zu,h=Math.cos(p)*(i?i/2:m),s=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s);break;case"line":s=i?i/2:Math.cos(p)*m,a=Math.sin(p)*m,t.moveTo(n-s,r-a),t.lineTo(n+s,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(p)*(i?i/2:m),r+Math.sin(p)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function dp(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function PI(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function OI(t){t.restore()}function zRe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function YRe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function GRe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Bt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KRe(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,c),t.lineTo(a,c),t.stroke()}}function qRe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function fp(t,e,n,r,i,o={}){const s=Kn(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,GRe(t,o),l=0;l<s.length;++l)u=s[l],o.backdrop&&qRe(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Bt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(u,n,r,o.maxWidth)),t.fillText(u,n,r,o.maxWidth),KRe(t,n,r,u,o),r+=Number(i.lineHeight);t.restore()}function rM(t,e){const{x:n,y:r,w:i,h:o,radius:s}=e;t.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*Zn,Zn,!0),t.lineTo(n,r+o-s.bottomLeft),t.arc(n+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,Zn,Io,!0),t.lineTo(n+i-s.bottomRight,r+o),t.arc(n+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,Io,0,!0),t.lineTo(n+i,r+s.topRight),t.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-Io,!0),t.lineTo(n+s.topLeft,r)}const XRe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ZRe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function JRe(t,e){const n=(""+t).match(XRe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const QRe=t=>+t||0;function VK(t,e){const n={},r=bt(e),i=r?Object.keys(e):e,o=bt(t)?r?s=>lt(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of i)n[s]=QRe(o(s));return n}function eEe(t){return VK(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bm(t){return VK(t,["topLeft","topRight","bottomLeft","bottomRight"])}function to(t){const e=eEe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function br(t,e){t=t||{},e=e||Rn.font;let n=lt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=lt(t.style,e.style);r&&!(""+r).match(ZRe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:lt(t.family,e.family),lineHeight:JRe(lt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:lt(t.weight,e.weight),string:""};return i.string=URe(i),i}function Fw(t,e,n,r){let i,o,s;for(i=0,o=t.length;i<o;++i)if(s=t[i],s!==void 0&&s!==void 0)return s}function tEe(t,e,n){const{min:r,max:i}=t,o=hRe(e,(i-r)/2),s=(a,l)=>n&&a===0?0:a+l;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function Kc(t,e){return Object.assign(Object.create(t),e)}function II(t,e=[""],n,r,i=()=>t[0]){const o=n||t;typeof r>"u"&&(r=UK("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>II([a,...t],e,o,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return BK(a,l,()=>uEe(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return gW(a).includes(l)},ownKeys(a){return gW(a)},set(a,l,u){const c=a._storage||(a._storage=i());return a[l]=c[l]=u,delete a._keys,!0}})}function $d(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:WK(t,r),setContext:o=>$d(t,o,n,r),override:o=>$d(t.override(o),e,n,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return BK(o,s,()=>rEe(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function WK(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Gl(n)?n:()=>n,isIndexable:Gl(r)?r:()=>r}}const nEe=(t,e)=>t?t+EI(e):e,AI=(t,e)=>bt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function BK(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function rEe(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=t;let a=r[e];return Gl(a)&&s.isScriptable(e)&&(a=iEe(e,a,t,n)),Kn(a)&&a.length&&(a=oEe(e,a,t,s.isIndexable)),AI(e,a)&&(a=$d(a,i,o&&o[e],s)),a}function iEe(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||r);return a.delete(t),AI(t,l)&&(l=HI(i._scopes,i,t,l)),l}function oEe(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(bt(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const h=HI(u,i,t,c);e.push($d(h,o,s&&s[t],a))}}return e}function jK(t,e,n){return Gl(t)?t(e,n):t}const sEe=(t,e)=>t===!0?e:typeof t=="string"?Gy(e,t):void 0;function aEe(t,e,n,r,i){for(const o of e){const s=sEe(n,o);if(s){t.add(s);const a=jK(s._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(s===!1&&typeof r<"u"&&n!==r)return null}return!1}function HI(t,e,n,r){const i=e._rootScopes,o=jK(e._fallback,n,r),s=[...t,...i],a=new Set;a.add(r);let l=fW(a,s,n,o||n,r);return l===null||typeof o<"u"&&o!==n&&(l=fW(a,s,o,l,r),l===null)?!1:II(Array.from(a),[""],i,o,()=>lEe(e,n,r))}function fW(t,e,n,r,i){for(;n;)n=aEe(t,e,n,r,i);return n}function lEe(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Kn(i)&&bt(n)?n:i||{}}function uEe(t,e,n,r){let i;for(const o of e)if(i=UK(nEe(o,t),n),typeof i<"u")return AI(t,i)?HI(n,r,t,i):i}function UK(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function gW(t){let e=t._keys;return e||(e=t._keys=cEe(t._scopes)),e}function cEe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const hEe=Number.EPSILON||1e-14,Ld=(t,e)=>e<t.length&&!t[e].skip&&t[e],zK=t=>t==="x"?"y":"x";function dEe(t,e,n,r){const i=t.skip?e:t,o=e,s=n.skip?e:n,a=eM(o,i),l=eM(s,o);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=r*u,d=r*c;return{previous:{x:o.x-h*(s.x-i.x),y:o.y-h*(s.y-i.y)},next:{x:o.x+d*(s.x-i.x),y:o.y+d*(s.y-i.y)}}}function fEe(t,e,n){const r=t.length;let i,o,s,a,l,u=Ld(t,0);for(let c=0;c<r-1;++c)if(l=u,u=Ld(t,c+1),!(!l||!u)){if(pm(e[c],0,hEe)){n[c]=n[c+1]=0;continue}i=n[c]/e[c],o=n[c+1]/e[c],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),n[c]=i*s*e[c],n[c+1]=o*s*e[c])}}function gEe(t,e,n="x"){const r=zK(n),i=t.length;let o,s,a,l=Ld(t,0);for(let u=0;u<i;++u){if(s=a,a=l,l=Ld(t,u+1),!a)continue;const c=a[n],h=a[r];s&&(o=(c-s[n])/3,a[`cp1${n}`]=c-o,a[`cp1${r}`]=h-o*e[u]),l&&(o=(l[n]-c)/3,a[`cp2${n}`]=c+o,a[`cp2${r}`]=h+o*e[u])}}function mEe(t,e="x"){const n=zK(e),r=t.length,i=Array(r).fill(0),o=Array(r);let s,a,l,u=Ld(t,0);for(s=0;s<r;++s)if(a=l,l=u,u=Ld(t,s+1),!!l){if(u){const c=u[e]-l[e];i[s]=c!==0?(u[n]-l[n])/c:0}o[s]=a?u?Dd(i[s-1])!==Dd(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}fEe(t,i,o),gEe(t,o,e)}function Vw(t,e,n){return Math.max(Math.min(t,n),e)}function pEe(t,e){let n,r,i,o,s,a=dp(t[0],e);for(n=0,r=t.length;n<r;++n)s=o,o=a,a=n<r-1&&dp(t[n+1],e),o&&(i=t[n],s&&(i.cp1x=Vw(i.cp1x,e.left,e.right),i.cp1y=Vw(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Vw(i.cp2x,e.left,e.right),i.cp2y=Vw(i.cp2y,e.top,e.bottom)))}function vEe(t,e,n,r,i){let o,s,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")mEe(t,i);else{let u=r?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=dEe(u,a,t[Math.min(o+1,s-(r?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&pEe(t,n)}function kI(){return typeof window<"u"&&typeof document<"u"}function NI(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Xy(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const cS=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function wEe(t,e){return cS(t).getPropertyValue(e)}const bEe=["top","right","bottom","left"];function Cc(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=bEe[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const yEe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function CEe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let s=!1,a,l;if(yEe(i,o,t.target))a=i,l=o;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,s=!0}return{x:a,y:l,box:s}}function nc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=cS(n),o=i.boxSizing==="border-box",s=Cc(i,"padding"),a=Cc(i,"border","width"),{x:l,y:u,box:c}=CEe(t,n),h=s.left+(c&&a.left),d=s.top+(c&&a.top);let{width:f,height:g}=e;return o&&(f-=s.width+a.width,g-=s.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((u-d)/g*n.height/r)}}function SEe(t,e,n){let r,i;if(e===void 0||n===void 0){const o=t&&NI(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const s=o.getBoundingClientRect(),a=cS(o),l=Cc(a,"border","width"),u=Cc(a,"padding");e=s.width-u.width-l.width,n=s.height-u.height-l.height,r=Xy(a.maxWidth,o,"clientWidth"),i=Xy(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||qy,maxHeight:i||qy}}const Ww=t=>Math.round(t*10)/10;function _Ee(t,e,n,r){const i=cS(t),o=Cc(i,"margin"),s=Xy(i.maxWidth,t,"clientWidth")||qy,a=Xy(i.maxHeight,t,"clientHeight")||qy,l=SEe(t,e,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const d=Cc(i,"border","width"),f=Cc(i,"padding");u-=f.width+d.width,c-=f.height+d.height}return u=Math.max(0,u-o.width),c=Math.max(0,r?u/r:c-o.height),u=Ww(Math.min(u,s,l.maxWidth)),c=Ww(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Ww(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=Ww(Math.floor(c*r))),{width:u,height:c}}function mW(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(t.currentDevicePixelRatio=r,s.height=i,s.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const REe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};kI()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function pW(t,e){const n=wEe(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function rc(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function EEe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function xEe(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=rc(t,i,n),a=rc(i,o,n),l=rc(o,e,n),u=rc(s,a,n),c=rc(a,l,n);return rc(u,c,n)}const TEe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},MEe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Cd(t,e,n){return t?TEe(e,n):MEe()}function YK(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function GK(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function KK(t){return t==="angle"?{between:HK,compare:ERe,normalize:ml}:{between:Ig,compare:(e,n)=>e-n,normalize:e=>e}}function vW({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function PEe(t,e,n){const{property:r,start:i,end:o}=n,{between:s,normalize:a}=KK(r),l=e.length;let{start:u,end:c,loop:h}=t,d,f;if(h){for(u+=l,c+=l,d=0,f=l;d<f&&s(a(e[u%l][r]),i,o);++d)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:t.style}}function OEe(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,s=e.length,{compare:a,between:l,normalize:u}=KK(r),{start:c,end:h,loop:d,style:f}=PEe(t,e,n),g=[];let m=!1,p=null,y,b,T;const E=()=>l(i,T,y)&&a(i,T)!==0,P=()=>a(o,y)===0||l(o,T,y),I=()=>m||E(),H=()=>!m||P();for(let U=c,K=c;U<=h;++U)b=e[U%s],!b.skip&&(y=u(b[r]),y!==T&&(m=l(y,i,o),p===null&&I()&&(p=a(y,i)===0?U:K),p!==null&&H()&&(g.push(vW({start:p,end:U,loop:d,count:s,style:f})),p=null),K=U,T=y));return p!==null&&g.push(vW({start:p,end:h,loop:d,count:s,style:f})),g}function IEe(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=OEe(r[i],t.points,e);o.length&&n.push(...o)}return n}function AEe(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function HEe(t,e,n,r){const i=t.length,o=[];let s=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?a.skip||(r=!1,o.push({start:e%i,end:(l-1)%i,loop:r}),e=s=u.stop?l:null):(s=l,a.skip&&(e=l)),a=u}return s!==null&&o.push({start:e%i,end:s%i,loop:r}),o}function kEe(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:s,end:a}=AEe(n,i,o,r);if(r===!0)return wW(t,[{start:s,end:a,loop:o}],n,e);const l=a<s?a+i:a,u=!!t._fullLoop&&s===0&&a===i-1;return wW(t,HEe(n,s,l,u),n,e)}function wW(t,e,n,r){return!r||!r.setContext||!n?e:NEe(t,e,n,r)}function NEe(t,e,n,r){const i=t._chart.getContext(),o=bW(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,u=[];let c=o,h=e[0].start,d=h;function f(g,m,p,y){const b=a?-1:1;if(g!==m){for(g+=l;n[g%l].skip;)g-=b;for(;n[m%l].skip;)m+=b;g%l!==m%l&&(u.push({start:g%l,end:m%l,loop:p,style:y}),c=y,h=m%l)}}for(const g of e){h=a?h:g.start;let m=n[h%l],p;for(d=h+1;d<=g.end;d++){const y=n[d%l];p=bW(r.setContext(Kc(i,{type:"segment",p0:m,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),DEe(p,c)&&f(h,d-1,g.loop,c),m=y,c=p}h<d-1&&f(h,d-1,g.loop,c)}return u}function bW(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function DEe(t,e){if(!e)return!1;const n=[],r=function(i,o){return MI(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Bw(t,e,n){return t.options.clip?t[n]:e[n]}function $Ee(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Bw(n,e,"left"),right:Bw(n,e,"right"),top:Bw(r,e,"top"),bottom:Bw(r,e,"bottom")}:e}function LEe(t,e){const n=e._clip;if(n.disabled)return!1;const r=$Ee(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class FEe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.listeners[i],s=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(r-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=NK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var da=new FEe;const yW="transparent",VEe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=uW(t||yW),i=r.valid&&uW(e||yW);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class WEe{constructor(e,n,r,i){const o=n[r];i=Fw([e.to,i,o,e.from]);const s=Fw([e.from,o,i]);this._active=!0,this._fn=e.fn||VEe[e.type||typeof s],this._easing=vm[e.easing]||vm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Fw([e.to,n,i,e.from]),this._from=Fw([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to;let l;if(this._active=o!==a&&(s||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}l=n/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class qK{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!bt(e))return;const n=Object.keys(Rn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!bt(o))return;const s={};for(const a of n)s[a]=o[a];(Kn(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,n){const r=n.options,i=jEe(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&BEe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),s=Object.keys(n),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const c=n[u];let h=o[u];const d=r.get(u);if(h)if(d&&h.active()){h.update(d,c,a);continue}else h.cancel();if(!d||!d.duration){e[u]=c;continue}o[u]=h=new WEe(d,e,u,c),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return da.add(this._chart,r),!0}}function BEe(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function jEe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function CW(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function UEe(t,e,n){if(n===!1)return!1;const r=CW(t,n),i=CW(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function zEe(t){let e,n,r,i;return bt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function XK(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function SW(t,e,n,r={}){const i=t.keys,o=r.mode==="single";let s,a,l,u;if(e===null)return;let c=!1;for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===n){if(c=!0,r.all)continue;break}u=t.values[l],eo(u)&&(o||e===0||Dd(e)===Dd(u))&&(e+=u)}return!c&&!r.all?0:e}function YEe(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(t),a=new Array(s.length);let l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l],a[l]={[i]:c,[o]:t[c]};return a}function Cx(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function GEe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function KEe(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function qEe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function _W(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function RW(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,u=s.axis,c=GEe(o,s,r),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[l]:m,[u]:p}=g,y=g._stacks||(g._stacks={});d=y[u]=qEe(i,c,m),d[a]=p,d._top=_W(d,s,!0,r.type),d._bottom=_W(d,s,!1,r.type);const b=d._visualValues||(d._visualValues={});b[a]=p}}function Sx(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function XEe(t,e){return Kc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ZEe(t,e,n){return Kc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hg(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const _x=t=>t==="reset"||t==="none",EW=(t,e)=>e?t:Object.assign({},t),JEe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:XK(n,!0),values:null};class ym{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,o=n.xAxisID=lt(r.xAxisID,Sx(e,"x")),s=n.yAxisID=lt(r.yAxisID,Sx(e,"y")),a=n.rAxisID=lt(r.rAxisID,Sx(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,o,s,a),c=n.vAxisID=i(l,s,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sW(this._data,this),e._stacked&&hg(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(bt(n)){const i=this._cachedMeta;this._data=YEe(n,i)}else if(r!==n){if(r){sW(r,this);const i=this._cachedMeta;hg(i),i._parsed=[]}n&&Object.isExtensible(n)&&PRe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=Cx(n.vScale,n),n.stack!==r.stack&&(i=!0,hg(n),n.stack=r.stack),this._resyncElements(e),(i||o!==n._stacked)&&(RW(this,n._parsed),n._stacked=Cx(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:s}=r,a=o.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{Kn(i[e])?d=this.parseArrayData(r,i,e,n):bt(i[e])?d=this.parseObjectData(r,i,e,n):d=this.parsePrimitiveData(r,i,e,n);const f=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=h=d[c],l&&(f()&&(l=!1),u=h);r._sorted=l}s&&RW(this,d)}parsePrimitiveData(e,n,r,i){const{iScale:o,vScale:s}=e,a=o.axis,l=s.axis,u=o.getLabels(),c=o===s,h=new Array(i);let d,f,g;for(d=0,f=i;d<f;++d)g=d+r,h[d]={[a]:c||o.parse(u[g],g),[l]:s.parse(n[g],g)};return h}parseArrayData(e,n,r,i){const{xScale:o,yScale:s}=e,a=new Array(i);let l,u,c,h;for(l=0,u=i;l<u;++l)c=l+r,h=n[c],a[l]={x:o.parse(h[0],c),y:s.parse(h[1],c)};return a}parseObjectData(e,n,r,i){const{xScale:o,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,h,d,f;for(c=0,h=i;c<h;++c)d=c+r,f=n[d],u[c]={x:o.parse(Gy(f,a),d),y:s.parse(Gy(f,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,o=this._cachedMeta,s=n[e.axis],a={keys:XK(i,!0),values:n._stacks[e.axis]._visualValues};return SW(a,s,o.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const o=r[n.axis];let s=o===null?NaN:o;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,s=SW(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,s=i.length,a=this._getOtherScale(e),l=JEe(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=KEe(a);let d,f;function g(){f=i[d];const m=f[a.axis];return!eo(f[e.axis])||c>m||h<m}for(d=0;d<s&&!(!g()&&(this.updateRangeFromParsed(u,e,f,l),o));++d);if(o){for(d=s-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(u,e,f,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,o,s;for(i=0,o=n.length;i<o;++i)s=n[i][e.axis],eo(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=zEe(lt(this.options.clip,UEe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],o=n.chartArea,s=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,o,a,l),c=a;c<a+l;++c){const h=i[c];h.hidden||(h.active&&u?s.push(h):h.draw(e,o))}for(c=0;c<s.length;++c)s[c].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];o=s.$context||(s.$context=ZEe(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=XEe(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",o=this._cachedDataOpts,s=e+"-"+n,a=o[s],l=this.enableOptionSharing&&Ky(r);if(a)return EW(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(Rn.elements[e]),g=()=>this.getContext(r,i,n),m=u.resolveNamedOptions(d,f,g,h);return m.$shared&&(m.$shared=l,o[s]=Object.freeze(EW(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,o=this._cachedDataOpts,s=`animation-${n}`,a=o[s];if(a)return a;let l;if(i.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),d=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(d,this.getContext(e,r,n))}const u=new qK(i,l&&l.animations);return l&&l._cacheable&&(o[s]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||_x(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(r),s=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:s}}updateElement(e,n,r,i){_x(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!_x(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,o=n.length,s=Math.min(o,i);s&&this.parse(0,s),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,r=!0){const i=this._cachedMeta,o=i.data,s=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=s;a--)u[a]=u[a-n]};for(l(o),a=e;a<s;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&hg(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ze(ym,"defaults",{}),ze(ym,"datasetElementType",null),ze(ym,"dataElementType",null);class Nb extends ym{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=n,s=this.chart._animationsDisabled;let{start:a,count:l}=HRe(n,i,s);this._drawStart=a,this._drawCount=l,kRe(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:u},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const o=i==="reset",{iScale:s,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(n,i),d=s.axis,f=a.axis,{spanGaps:g,segment:m}=this.options,p=hp(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||i==="none",b=n+r,T=e.length;let E=n>0&&this.getParsed(n-1);for(let P=0;P<T;++P){const I=e[P],H=y?I:{};if(P<n||P>=b){H.skip=!0;continue}const U=this.getParsed(P),K=Bt(U[f]),j=H[d]=s.getPixelForValue(U[d],P),q=H[f]=o||K?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,U,l):U[f],P);H.skip=isNaN(j)||isNaN(q)||K,H.stop=P>0&&Math.abs(U[d]-E[d])>p,m&&(H.parsed=U,H.raw=u.data[P]),h&&(H.options=c||this.resolveDataElementOptions(P,I.active?"active":i)),y||this.updateElement(I,P,H,i),E=U}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ze(Nb,"id","line"),ze(Nb,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ze(Nb,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Gu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DI{constructor(e){ze(this,"options");this.options=e||{}}static override(e){Object.assign(DI.prototype,e)}init(){}formats(){return Gu()}parse(){return Gu()}format(){return Gu()}add(){return Gu()}diff(){return Gu()}startOf(){return Gu()}endOf(){return Gu()}}var QEe={_date:DI};function exe(t,e,n,r){const{controller:i,data:o,_sorted:s}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){const u=a._reversePixels?TRe:gc;if(r){if(i._sharedOptions){const c=o[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const d=u(o,e,n-h),f=u(o,e,n+h);return{lo:d.lo,hi:f.hi}}}}else{const c=u(o,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=t,f=d.slice(0,c.lo+1).reverse().findIndex(m=>!Bt(m[h.axis]));c.lo-=Math.max(0,f);const g=d.slice(c.hi).findIndex(m=>!Bt(m[h.axis]));c.hi+=Math.max(0,g)}return c}}return{lo:0,hi:o.length-1}}function hS(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){const{index:u,data:c}=o[a],{lo:h,hi:d}=exe(o[a],e,s,i);for(let f=h;f<=d;++f){const g=c[f];g.skip||r(g,u,f)}}}function txe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,s=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function Rx(t,e,n,r,i){const o=[];return!i&&!t.isPointInArea(e)||hS(t,n,e,function(a,l,u){!i&&!dp(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&o.push({element:a,datasetIndex:l,index:u})},!0),o}function nxe(t,e,n,r){let i=[];function o(s,a,l){const{startAngle:u,endAngle:c}=s.getProps(["startAngle","endAngle"],r),{angle:h}=RRe(s,{x:e.x,y:e.y});HK(h,u,c)&&i.push({element:s,datasetIndex:a,index:l})}return hS(t,n,e,o),i}function rxe(t,e,n,r,i,o){let s=[];const a=txe(n);let l=Number.POSITIVE_INFINITY;function u(c,h,d){const f=c.inRange(e.x,e.y,i);if(r&&!f)return;const g=c.getCenterPoint(i);if(!(!!o||t.isPointInArea(g))&&!f)return;const p=a(e,g);p<l?(s=[{element:c,datasetIndex:h,index:d}],l=p):p===l&&s.push({element:c,datasetIndex:h,index:d})}return hS(t,n,e,u),s}function Ex(t,e,n,r,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?nxe(t,e,n,i):rxe(t,e,n,r,i,o)}function xW(t,e,n,r,i){const o=[],s=n==="x"?"inXRange":"inYRange";let a=!1;return hS(t,n,e,(l,u,c)=>{l[s]&&l[s](e[n],i)&&(o.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:o}var ixe={modes:{index(t,e,n,r){const i=nc(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?Rx(t,i,o,r,s):Ex(t,i,o,!1,r,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const i=nc(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?Rx(t,i,o,r,s):Ex(t,i,o,!1,r,s);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const i=nc(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return Rx(t,i,o,r,s)},nearest(t,e,n,r){const i=nc(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return Ex(t,i,o,n.intersect,r,s)},x(t,e,n,r){const i=nc(e,t);return xW(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=nc(e,t);return xW(t,i,"y",n.intersect,r)}}};const ZK=["left","top","right","bottom"];function dg(t,e){return t.filter(n=>n.pos===e)}function TW(t,e){return t.filter(n=>ZK.indexOf(n.pos)===-1&&n.box.axis===e)}function fg(t,e){return t.sort((n,r)=>{const i=e?r:n,o=e?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function oxe(t){const e=[];let n,r,i,o,s,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:o,options:{stack:s,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function sxe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!ZK.includes(i))continue;const s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function axe(t,e){const n=sxe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:l&&e.availableHeight)}return n}function lxe(t){const e=oxe(t),n=fg(e.filter(u=>u.box.fullSize),!0),r=fg(dg(e,"left"),!0),i=fg(dg(e,"right")),o=fg(dg(e,"top"),!0),s=fg(dg(e,"bottom")),a=TW(e,"x"),l=TW(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:dg(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function MW(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function JK(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function uxe(t,e,n,r){const{pos:i,box:o}=n,s=t.maxPadding;if(!bt(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?o.height:o.width),n.size=h.size/h.count,t[i]+=n.size}o.getPadding&&JK(s,o.getPadding());const a=Math.max(0,e.outerWidth-MW(s,t,"left","right")),l=Math.max(0,e.outerHeight-MW(s,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function cxe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function hxe(t,e){const n=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(e[s],n[s])}),o}return r(t?["left","right"]:["top","bottom"])}function Ag(t,e,n,r){const i=[];let o,s,a,l,u,c;for(o=0,s=t.length,u=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,hxe(a.horizontal,e));const{same:h,other:d}=uxe(e,n,a,r);u|=h&&i.length,c=c||d,l.fullSize||i.push(a)}return u&&Ag(i,e,n,r)||c}function jw(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function PW(t,e,n,r){const i=n.padding;let{x:o,y:s}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*c,d=u.size||l.height;Ky(u.start)&&(s=u.start),l.fullSize?jw(l,i.left,s,n.outerWidth-i.right-i.left,d):jw(l,e.left+u.placed,s,h,d),u.start=s,u.placed+=h,s=l.bottom}else{const h=e.h*c,d=u.size||l.width;Ky(u.start)&&(o=u.start),l.fullSize?jw(l,o,i.top,d,n.outerHeight-i.bottom-i.top):jw(l,o,e.top+u.placed,d,h),u.start=o,u.placed+=h,o=l.right}}e.x=o,e.y=s}var qi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=to(t.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(n-i.height,0),a=lxe(t.boxes),l=a.vertical,u=a.horizontal;Pt(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const c=l.reduce((m,p)=>p.box.options&&p.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/c,hBoxMaxHeight:s/2}),d=Object.assign({},i);JK(d,to(r));const f=Object.assign({maxPadding:d,w:o,h:s,x:i.left,y:i.top},i),g=axe(l.concat(u),h);Ag(a.fullSize,f,h,g),Ag(l,f,h,g),Ag(u,f,h,g)&&Ag(l,f,h,g),cxe(f),PW(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,PW(a.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Pt(a.chartArea,m=>{const p=m.box;Object.assign(p,t.chartArea),p.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class QK{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class dxe extends QK{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Db="$chartjs",fxe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},OW=t=>t===null||t==="";function gxe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Db]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",OW(i)){const o=pW(t,"width");o!==void 0&&(t.width=o)}if(OW(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=pW(t,"height");o!==void 0&&(t.height=o)}return t}const e3=REe?{passive:!0}:!1;function mxe(t,e,n){t&&t.addEventListener(e,n,e3)}function pxe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,e3)}function vxe(t,e){const n=fxe[t.type]||t.type,{x:r,y:i}=nc(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Zy(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function wxe(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||Zy(a.addedNodes,r),s=s&&!Zy(a.removedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function bxe(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||Zy(a.removedNodes,r),s=s&&!Zy(a.addedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const gp=new Map;let IW=0;function t3(){const t=window.devicePixelRatio;t!==IW&&(IW=t,gp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function yxe(t,e){gp.size||window.addEventListener("resize",t3),gp.set(t,e)}function Cxe(t){gp.delete(t),gp.size||window.removeEventListener("resize",t3)}function Sxe(t,e,n){const r=t.canvas,i=r&&NI(r);if(!i)return;const o=DK((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),s=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||o(u,c)});return s.observe(i),yxe(t,o),s}function xx(t,e,n){n&&n.disconnect(),e==="resize"&&Cxe(t)}function _xe(t,e,n){const r=t.canvas,i=DK(o=>{t.ctx!==null&&n(vxe(o,t))},t);return mxe(r,e,i),i}class Rxe extends QK{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(gxe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Db])return!1;const r=n[Db].initial;["height","width"].forEach(o=>{const s=r[o];Bt(s)?n.removeAttribute(o):n.setAttribute(o,s)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Db],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),s={attach:wxe,detach:bxe,resize:Sxe}[n]||_xe;i[n]=s(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:xx,detach:xx,resize:xx}[n]||pxe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return _Ee(e,n,r,i)}isAttached(e){const n=e&&NI(e);return!!(n&&n.isConnected)}}function Exe(t){return!kI()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?dxe:Rxe}var ab;let qc=(ab=class{constructor(){ze(this,"x");ze(this,"y");ze(this,"active",!1);ze(this,"options");ze(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return hp(this.x)&&hp(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}},ze(ab,"defaults",{}),ze(ab,"defaultRoutes"),ab);function xxe(t,e){const n=t.options.ticks,r=Txe(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?Pxe(e):[],s=o.length,a=o[0],l=o[s-1],u=[];if(s>i)return Oxe(e,u,o,s/i),u;const c=Mxe(o,e,i);if(s>0){let h,d;const f=s>1?Math.round((l-a)/(s-1)):null;for(Uw(e,u,c,Bt(f)?0:a-f,a),h=0,d=s-1;h<d;h++)Uw(e,u,c,o[h],o[h+1]);return Uw(e,u,c,l,Bt(f)?e.length:l+f),u}return Uw(e,u,c),u}function Txe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Mxe(t,e,n){const r=Ixe(t),i=e.length/n;if(!r)return Math.max(i,1);const o=bRe(r);for(let s=0,a=o.length-1;s<a;s++){const l=o[s];if(l>i)return l}return Math.max(i,1)}function Pxe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Oxe(t,e,n,r){let i=0,o=n[0],s;for(r=Math.ceil(r),s=0;s<t.length;s++)s===o&&(e.push(t[s]),i++,o=n[i*r])}function Uw(t,e,n,r,i){const o=lt(r,0),s=Math.min(lt(i,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=o;c<0;)a++,c=Math.round(o+a*n);for(u=Math.max(o,0);u<s;u++)u===c&&(e.push(t[u]),a++,c=Math.round(o+a*n))}function Ixe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Axe=t=>t==="left"?"right":t==="right"?"left":t,AW=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,HW=(t,e)=>Math.min(e||t,t);function kW(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function Hxe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,s=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-o,s-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<o-a||l>s+a)))return l}function kxe(t,e){Pt(t,n=>{const r=n.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function gg(t){return t.drawTicks?t.tickLength:0}function NW(t,e){if(!t.display)return 0;const n=br(t.font,e),r=to(t.padding);return(Kn(t.text)?t.text.length:1)*n.lineHeight+r.height}function Nxe(t,e){return Kc(t,{scale:e,type:"scale"})}function Dxe(t,e,n){return Kc(t,{tick:n,index:e,type:"tick"})}function $xe(t,e,n){let r=TI(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Axe(r)),r}function Lxe(t,e,n,r){const{top:i,left:o,bottom:s,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let h=0,d,f,g;const m=s-i,p=a-o;if(t.isHorizontal()){if(f=gr(r,o,a),bt(n)){const y=Object.keys(n)[0],b=n[y];g=c[y].getPixelForValue(b)+m-e}else n==="center"?g=(u.bottom+u.top)/2+m-e:g=AW(t,n,e);d=a-o}else{if(bt(n)){const y=Object.keys(n)[0],b=n[y];f=c[y].getPixelForValue(b)-p+e}else n==="center"?f=(u.left+u.right)/2-p+e:f=AW(t,n,e);g=gr(r,s,i),h=n==="left"?-Io:Io}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class nf extends qc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=cs(e,Number.POSITIVE_INFINITY),n=cs(n,Number.NEGATIVE_INFINITY),r=cs(r,Number.POSITIVE_INFINITY),i=cs(i,Number.NEGATIVE_INFINITY),{min:cs(e,r),max:cs(n,i),minDefined:eo(e),maxDefined:eo(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)s=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,s.min)),o||(r=Math.max(r,s.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:cs(n,cs(r,n)),max:cs(r,cs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tEe(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?kW(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=xxe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gt(this.options.afterUpdate,[this])}beforeSetDimensions(){Gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=Gt(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=HW(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let s=i,a,l,u;if(!this._isVisible()||!n.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=Ki(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-gg(e.grid)-n.padding-NW(e.title,this.chart.options.font),u=Math.sqrt(h*h+d*d),s=_Re(Math.min(Math.asin(Ki((c.highest.height+6)/a,-1,1)),Math.asin(Ki(l/u,-1,1))-Math.asin(Ki(d/u,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=NW(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=gg(o)+l):(e.height=this.maxHeight,e.width=gg(o)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,g=fc(this.labelRotation),m=Math.cos(g),p=Math.sin(g);if(a){const y=r.mirror?0:p*h.width+m*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:m*h.width+p*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(u,c,p,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?u?(d=i*e.width,f=r*n.height):(d=r*e.height,f=i*n.width):o==="start"?f=n.width:o==="end"?d=e.width:o!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+s)*this.width/(this.width-h),0)}else{let c=n.height/2,h=e.height/2;o==="start"?(c=0,h=e.height):o==="end"&&(c=n.height,h=0),this.paddingTop=c+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Bt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=kW(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(n/HW(n,r));let u=0,c=0,h,d,f,g,m,p,y,b,T,E,P;for(h=0;h<n;h+=l){if(g=e[h].label,m=this._resolveTickFontOptions(h),i.font=p=m.string,y=o[p]=o[p]||{data:{},gc:[]},b=m.lineHeight,T=E=0,!Bt(g)&&!Kn(g))T=hW(i,y.data,y.gc,T,g),E=b;else if(Kn(g))for(d=0,f=g.length;d<f;++d)P=g[d],!Bt(P)&&!Kn(P)&&(T=hW(i,y.data,y.gc,T,P),E+=b);s.push(T),a.push(E),u=Math.max(T,u),c=Math.max(E,c)}kxe(o,n);const I=s.indexOf(u),H=a.indexOf(c),U=K=>({width:s[K]||0,height:a[K]||0});return{first:U(0),last:U(n-1),widest:U(I),highest:U(H),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xRe(this._alignToPixels?Yu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Dxe(this.getContext(),e,r))}return this.$context||(this.$context=Nxe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=fc(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,l=o.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=gg(o),f=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,p=m/2,y=function(pe){return Yu(r,pe,m)};let b,T,E,P,I,H,U,K,j,q,Z,ie;if(s==="top")b=y(this.bottom),H=this.bottom-d,K=b-p,q=y(e.top)+p,ie=e.bottom;else if(s==="bottom")b=y(this.top),q=e.top,ie=y(e.bottom)-p,H=b+p,K=this.top+d;else if(s==="left")b=y(this.right),I=this.right-d,U=b-p,j=y(e.left)+p,Z=e.right;else if(s==="right")b=y(this.left),j=e.left,Z=y(e.right)-p,I=b+p,U=this.left+d;else if(n==="x"){if(s==="center")b=y((e.top+e.bottom)/2+.5);else if(bt(s)){const pe=Object.keys(s)[0],se=s[pe];b=y(this.chart.scales[pe].getPixelForValue(se))}q=e.top,ie=e.bottom,H=b+p,K=H+d}else if(n==="y"){if(s==="center")b=y((e.left+e.right)/2);else if(bt(s)){const pe=Object.keys(s)[0],se=s[pe];b=y(this.chart.scales[pe].getPixelForValue(se))}I=b-p,U=I-d,j=e.left,Z=e.right}const ee=lt(i.ticks.maxTicksLimit,h),re=Math.max(1,Math.ceil(h/ee));for(T=0;T<h;T+=re){const pe=this.getContext(T),se=o.setContext(pe),ce=a.setContext(pe),He=se.lineWidth,Ne=se.color,Re=ce.dash||[],w=ce.dashOffset,S=se.tickWidth,C=se.tickColor,F=se.tickBorderDash||[],B=se.tickBorderDashOffset;E=Hxe(this,T,l),E!==void 0&&(P=Yu(r,E,He),u?I=U=j=Z=P:H=K=q=ie=P,f.push({tx1:I,ty1:H,tx2:U,ty2:K,x1:j,y1:q,x2:Z,y2:ie,width:He,color:Ne,borderDash:Re,borderDashOffset:w,tickWidth:S,tickColor:C,tickBorderDash:F,tickBorderDashOffset:B}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=o,d=gg(r.grid),f=d+c,g=h?-c:f,m=-fc(this.labelRotation),p=[];let y,b,T,E,P,I,H,U,K,j,q,Z,ie="middle";if(i==="top")I=this.bottom-g,H=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+g,H=this._getXAxisLabelAlignment();else if(i==="left"){const re=this._getYAxisLabelAlignment(d);H=re.textAlign,P=re.x}else if(i==="right"){const re=this._getYAxisLabelAlignment(d);H=re.textAlign,P=re.x}else if(n==="x"){if(i==="center")I=(e.top+e.bottom)/2+f;else if(bt(i)){const re=Object.keys(i)[0],pe=i[re];I=this.chart.scales[re].getPixelForValue(pe)+f}H=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")P=(e.left+e.right)/2-f;else if(bt(i)){const re=Object.keys(i)[0],pe=i[re];P=this.chart.scales[re].getPixelForValue(pe)}H=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?ie="top":l==="end"&&(ie="bottom"));const ee=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){T=a[y],E=T.label;const re=o.setContext(this.getContext(y));U=this.getPixelForTick(y)+o.labelOffset,K=this._resolveTickFontOptions(y),j=K.lineHeight,q=Kn(E)?E.length:1;const pe=q/2,se=re.color,ce=re.textStrokeColor,He=re.textStrokeWidth;let Ne=H;s?(P=U,H==="inner"&&(y===b-1?Ne=this.options.reverse?"left":"right":y===0?Ne=this.options.reverse?"right":"left":Ne="center"),i==="top"?u==="near"||m!==0?Z=-q*j+j/2:u==="center"?Z=-ee.highest.height/2-pe*j+j:Z=-ee.highest.height+j/2:u==="near"||m!==0?Z=j/2:u==="center"?Z=ee.highest.height/2-pe*j:Z=ee.highest.height-q*j,h&&(Z*=-1),m!==0&&!re.showLabelBackdrop&&(P+=j/2*Math.sin(m))):(I=U,Z=(1-q)*j/2);let Re;if(re.showLabelBackdrop){const w=to(re.backdropPadding),S=ee.heights[y],C=ee.widths[y];let F=Z-w.top,B=0-w.left;switch(ie){case"middle":F-=S/2;break;case"bottom":F-=S;break}switch(H){case"center":B-=C/2;break;case"right":B-=C;break;case"inner":y===b-1?B-=C:y>0&&(B-=C/2);break}Re={left:B,top:F,width:C+w.width,height:S+w.height,color:re.backdropColor}}p.push({label:E,font:K,textOffset:Z,options:{rotation:m,color:se,strokeColor:ce,strokeWidth:He,textAlign:Ne,textBaseline:ie,translation:[P,I],backdrop:Re}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-fc(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width;let u,c;return n==="left"?i?(c=this.right+o,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+o,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:o,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,o,s),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,s;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(o=0,s=i.length;o<s;++o){const l=i[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,d;this.isHorizontal()?(u=Yu(e,this.left,s)-s/2,c=Yu(e,this.right,a)+a/2,h=d=l):(h=Yu(e,this.top,s)-s/2,d=Yu(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&PI(r,i);const o=this.getLabelItems(e);for(const s of o){const a=s.options,l=s.font,u=s.label,c=s.textOffset;fp(r,u,0,c,l,a)}i&&OI(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=br(r.font),s=to(r.padding),a=r.align;let l=o.lineHeight/2;n==="bottom"||n==="center"||bt(n)?(l+=s.bottom,Kn(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=s.top;const{titleX:u,titleY:c,maxWidth:h,rotation:d}=Lxe(this,l,n,a);fp(e,r.text,0,0,o,{color:r.color,maxWidth:h,rotation:d,textAlign:$xe(a,n,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=lt(e.grid&&e.grid.z,-1),i=lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nf.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,s;for(o=0,s=n.length;o<s;++o){const a=n[o];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return br(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zw{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Wxe(n)&&(r=this.register(n));const i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,Fxe(e,s,r),this.override&&Rn.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Rn[i]&&(delete Rn[i][r],this.override&&delete Nc[r])}}function Fxe(t,e,n){const r=cp(Object.create(null),[n?Rn.get(n):{},Rn.get(e),t.defaults]);Rn.set(e,r),t.defaultRoutes&&Vxe(e,t.defaultRoutes),t.descriptors&&Rn.describe(e,t.descriptors)}function Vxe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Rn.route(o,i,l,a)})}function Wxe(t){return"id"in t&&"defaults"in t}class Bxe{constructor(){this.controllers=new zw(ym,"datasets",!0),this.elements=new zw(qc,"elements"),this.plugins=new zw(Object,"plugins"),this.scales=new zw(nf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Pt(i,s=>{const a=r||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,n,r){const i=EI(e);Gt(r["before"+i],[],r),n[e](r),Gt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ys=new Bxe;class jxe{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,r,i){i=i||{};for(const o of e){const s=o.plugin,a=s[r],l=[n,i,o.options];if(Gt(a,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=lt(r.options&&r.options.plugins,{}),o=Uxe(r);return i===!1&&!n?[]:Yxe(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Uxe(t){const e={},n=[],r=Object.keys(ys.plugins.items);for(let o=0;o<r.length;o++)n.push(ys.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const s=i[o];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function zxe(t,e){return!e&&t===!1?null:t===!0?{}:t}function Yxe(t,{plugins:e,localIds:n},r,i){const o=[],s=t.getContext();for(const a of e){const l=a.id,u=zxe(r[l],i);u!==null&&o.push({plugin:a,options:Gxe(t.config,{plugin:a,local:n[l]},u,s)})}return o}function Gxe(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),s=t.getOptionScopes(r,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iM(t,e){const n=Rn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Kxe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function qxe(t,e){return t===e?"_index_":"_value_"}function DW(t){if(t==="x"||t==="y"||t==="r")return t}function Xxe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function oM(t,...e){if(DW(t))return t;for(const n of e){const r=n.axis||Xxe(n.position)||t.length>1&&DW(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function $W(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Zxe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return $W(t,"x",n[0])||$W(t,"y",n[0])}return{}}function Jxe(t,e){const n=Nc[t.type]||{scales:{}},r=e.scales||{},i=iM(t.type,e),o=Object.create(null);return Object.keys(r).forEach(s=>{const a=r[s];if(!bt(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=oM(s,a,Zxe(s,t),Rn.scales[a.type]),u=qxe(l,i),c=n.scales||{};o[s]=mm(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(s=>{const a=s.type||t.type,l=s.indexAxis||iM(a,e),c=(Nc[a]||{}).scales||{};Object.keys(c).forEach(h=>{const d=Kxe(h,l),f=s[d+"AxisID"]||d;o[f]=o[f]||Object.create(null),mm(o[f],[{axis:d},r[f],c[h]])})}),Object.keys(o).forEach(s=>{const a=o[s];mm(a,[Rn.scales[a.type],Rn.scale])}),o}function n3(t){const e=t.options||(t.options={});e.plugins=lt(e.plugins,{}),e.scales=Jxe(t,e)}function r3(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Qxe(t){return t=t||{},t.data=r3(t.data),n3(t),t}const LW=new Map,i3=new Set;function Yw(t,e){let n=LW.get(t);return n||(n=e(),LW.set(t,n),i3.add(n)),n}const mg=(t,e,n)=>{const r=Gy(e,n);r!==void 0&&t.add(r)};class eTe{constructor(e){this._config=Qxe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=r3(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),n3(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yw(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yw(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yw(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Yw(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:o}=this,s=this._cachedScopes(e,r),a=s.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(h=>mg(l,e,h))),c.forEach(h=>mg(l,i,h)),c.forEach(h=>mg(l,Nc[o]||{},h)),c.forEach(h=>mg(l,Rn,h)),c.forEach(h=>mg(l,tM,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),i3.has(n)&&s.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Nc[n]||{},Rn.datasets[n]||{},{type:n},Rn,tM]}resolveNamedOptions(e,n,r,i=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=FW(this._resolverCache,e,i);let l=s;if(nTe(s,n)){o.$shared=!1,r=Gl(r)?r():r;const u=this.createResolver(e,r,a);l=$d(s,r,u)}for(const u of n)o[u]=l[u];return o}createResolver(e,n,r=[""],i){const{resolver:o}=FW(this._resolverCache,e,r);return bt(n)?$d(o,n,void 0,i):o}}function FW(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:II(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}const tTe=t=>bt(t)&&Object.getOwnPropertyNames(t).some(e=>Gl(t[e]));function nTe(t,e){const{isScriptable:n,isIndexable:r}=WK(t);for(const i of e){const o=n(i),s=r(i),a=(s||o)&&t[i];if(o&&(Gl(a)||tTe(a))||s&&Kn(a))return!0}return!1}var rTe="4.4.9";const iTe=["top","bottom","left","right","chartArea"];function VW(t,e){return t==="top"||t==="bottom"||iTe.indexOf(t)===-1&&e==="x"}function WW(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function BW(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Gt(n&&n.onComplete,[t],e)}function oTe(t){const e=t.chart,n=e.options.animation;Gt(n&&n.onProgress,[t],e)}function o3(t){return kI()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const $b={},jW=t=>{const e=o3(t);return Object.values($b).filter(n=>n.canvas===e).pop()};function sTe(t,e,n){const r=Object.keys(t);for(const i of r){const o=+i;if(o>=e){const s=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=s)}}}function aTe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var dl;let dS=(dl=class{static register(...e){ys.add(...e),UW()}static unregister(...e){ys.remove(...e),UW()}constructor(e,n){const r=this.config=new eTe(n),i=o3(e),o=jW(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Exe(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,s.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=cRe(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jxe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IRe(h=>this.update(h),s.resizeDelay||0),this._dataChanges=[],$b[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}da.listen(this,"complete",BW),da.listen(this,"progress",oTe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return Bt(e)?n&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ys}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mW(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dW(this.canvas,this.ctx),this}stop(){return da.stop(this),this}resize(e,n){da.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,n,o),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,mW(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),Gt(r.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Pt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((s,a)=>(s[a]=!1,s),{});let o=[];n&&(o=o.concat(Object.keys(n).map(s=>{const a=n[s],l=oM(s,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Pt(o,s=>{const a=s.options,l=a.id,u=oM(l,a),c=lt(a.type,s.dtype);(a.position===void 0||VW(a.position,u)!==VW(s.dposition))&&(a.position=s.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===c)h=r[l];else{const d=ys.getScale(c);h=new d({id:l,type:c,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Pt(i,(s,a)=>{s||delete r[a]}),Pt(r,s=>{qi.configure(this,s,s.options),qi.addBox(this,s)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(WW("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const o=n[r];let s=this.getDatasetMeta(r);const a=o.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=a,s.indexAxis=o.indexAxis||iM(a,this.options),s.order=o.order||0,s.index=r,s.label=""+o.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const l=ys.getController(a),{datasetElementType:u,dataElementType:c}=Rn.datasets[a];Object.assign(l,{dataElementType:ys.getElement(c),datasetElementType:u&&ys.getElement(u)}),s.controller=new l(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Pt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),d=!i&&o.indexOf(h)===-1;h.buildOrUpdateElements(d),s=Math.max(+h.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),i||Pt(o,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(WW("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Pt(this.scales,e=>{qi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!nW(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of n){const s=r==="_removeElements"?-o:o;sTe(e,i,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(s=>s[0]===o).map((s,a)=>a+","+s.splice(1).join(","))),i=r(0);for(let o=1;o<n;o++)if(!nW(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Pt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Gl(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(da.has(this)?this.attached&&!da.running(this)&&da.start(this):(this.draw(),BW({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,o;for(i=0,o=n.length;i<o;++i){const s=n[i];(!e||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=LEe(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&PI(n,i),e.controller.draw(),i&&OI(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return dp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const o=ixe.modes[n];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Kc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,i);Ky(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(o,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),da.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),dW(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete $b[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,s)=>{n.addEventListener(this,o,s),e[o]=s},i=(o,s,a)=>{o.offsetX=s,o.offsetY=a,this._eventHandler(o)};Pt(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)};let s;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",o),r("detach",s)};s=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():s()}unbindEvents(){Pt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Pt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let o,s,a,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){s=e[a];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:s})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[s],index:s}});!zy(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,o=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),s=o(n,e),a=r?e:o(e,n);s.length&&this.updateHoverStyle(s,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:o}=this,s=n,a=this._getActiveElements(e,i,r,s),l=pRe(e),u=aTe(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Gt(o.onHover,[e,a,this],this),l&&Gt(o.onClick,[e,a,this],this));const c=!zy(a,i);return(c||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}},ze(dl,"defaults",Rn),ze(dl,"instances",$b),ze(dl,"overrides",Nc),ze(dl,"registry",ys),ze(dl,"version",rTe),ze(dl,"getChart",jW),dl);function UW(){return Pt(dS.instances,t=>t._plugins.invalidate())}function s3(t,e,n=e){t.lineCap=lt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(lt(n.borderDash,e.borderDash)),t.lineDashOffset=lt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=lt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=lt(n.borderWidth,e.borderWidth),t.strokeStyle=lt(n.borderColor,e.borderColor)}function lTe(t,e,n){t.lineTo(n.x,n.y)}function uTe(t){return t.stepped?zRe:t.tension||t.cubicInterpolationMode==="monotone"?YRe:lTe}function a3(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:s,end:a}=e,l=Math.max(i,s),u=Math.min(o,a),c=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!c?r+u-l:u-l}}function cTe(t,e,n,r){const{points:i,options:o}=e,{count:s,start:a,loop:l,ilen:u}=a3(i,n,r),c=uTe(o);let{move:h=!0,reverse:d}=r||{},f,g,m;for(f=0;f<=u;++f)g=i[(a+(d?u-f:f))%s],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):c(t,m,g,d,o.stepped),m=g);return l&&(g=i[(a+(d?u:0))%s],c(t,m,g,d,o.stepped)),!!l}function hTe(t,e,n,r){const i=e.points,{count:o,start:s,ilen:a}=a3(i,n,r),{move:l=!0,reverse:u}=r||{};let c=0,h=0,d,f,g,m,p,y;const b=E=>(s+(u?a-E:E))%o,T=()=>{m!==p&&(t.lineTo(c,p),t.lineTo(c,m),t.lineTo(c,y))};for(l&&(f=i[b(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[b(d)],f.skip)continue;const E=f.x,P=f.y,I=E|0;I===g?(P<m?m=P:P>p&&(p=P),c=(h*c+E)/++h):(T(),t.lineTo(E,P),g=I,h=0,m=p=P),y=P}T()}function sM(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?hTe:cTe}function dTe(t){return t.stepped?EEe:t.tension||t.cubicInterpolationMode==="monotone"?xEe:rc}function fTe(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),s3(t,e.options),t.stroke(i)}function gTe(t,e,n,r){const{segments:i,options:o}=e,s=sM(e);for(const a of i)s3(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const mTe=typeof Path2D=="function";function pTe(t,e,n,r){mTe&&!e.options.segment?fTe(t,e,n,r):gTe(t,e,n,r)}class Hg extends qc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;vEe(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kEe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],o=this.points,s=IEe(this,{property:n,start:i,end:i});if(!s.length)return;const a=[],l=dTe(r);let u,c;for(u=0,c=s.length;u<c;++u){const{start:h,end:d}=s[u],f=o[h],g=o[d];if(f===g){a.push(f);continue}const m=Math.abs((i-f[n])/(g[n]-f[n])),p=l(f,g,m,r.stepped);p[n]=e[n],a.push(p)}return a.length===1?a[0]:a}pathSegment(e,n,r){return sM(this)(e,this,n,r)}path(e,n,r){const i=this.segments,o=sM(this);let s=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)s&=o(e,this,a,{start:n,end:n+r-1});return!!s}draw(e,n,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),pTe(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ze(Hg,"id","line"),ze(Hg,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ze(Hg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ze(Hg,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function zW(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class Lb extends qc{constructor(n){super();ze(this,"parsed");ze(this,"skip");ze(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(n-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,r){return zW(this,n,"x",r)}inYRange(n,r){return zW(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!dp(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,nM(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ze(Lb,"id","point"),ze(Lb,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ze(Lb,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const YW=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},vTe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class GW extends qc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Gt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=br(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=YW(r,o);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(s,o,a,l)+10):(c=this.maxHeight,u=this._fitCols(s,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let h=e;o.textAlign="left",o.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach((g,m)=>{const p=r+n/2+o.measureText(g.text).width;(m===0||u[u.length-1]+p+2*a>s)&&(h+=c,u[u.length-(m>0?0:1)]=0,f+=c,d++),l[m]={left:0,top:f,row:d,width:p,height:i},u[u.length-1]+=p+a}),h}_fitCols(e,n,r,i){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=s-e;let h=a,d=0,f=0,g=0,m=0;return this.legendItems.forEach((p,y)=>{const{itemWidth:b,itemHeight:T}=wTe(r,n,o,p,i);y>0&&f+T+2*a>c&&(h+=d+a,u.push({width:d,height:f}),g+=d+a,m++,d=f=0),l[y]={left:g,top:f,col:m,width:b,height:T},d=Math.max(d,b),f+=T+a}),h+=d,u.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:o}}=this,s=Cd(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=gr(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=gr(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=s.leftForLtr(s.x(l),u.width),l+=u.width+i}else{let a=0,l=gr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=gr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=s.leftForLtr(s.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;PI(e,this),this._draw(),OI(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:o,labels:s}=e,a=Rn.color,l=Cd(e.rtl,this.left,this.width),u=br(s.font),{padding:c}=s,h=u.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:g,boxHeight:m,itemHeight:p}=YW(s,h),y=function(I,H,U){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const K=lt(U.lineWidth,1);if(i.fillStyle=lt(U.fillStyle,a),i.lineCap=lt(U.lineCap,"butt"),i.lineDashOffset=lt(U.lineDashOffset,0),i.lineJoin=lt(U.lineJoin,"miter"),i.lineWidth=K,i.strokeStyle=lt(U.strokeStyle,a),i.setLineDash(lt(U.lineDash,[])),s.usePointStyle){const j={radius:m*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:K},q=l.xPlus(I,g/2),Z=H+d;FK(i,j,q,Z,s.pointStyleWidth&&g)}else{const j=H+Math.max((h-m)/2,0),q=l.leftForLtr(I,g),Z=bm(U.borderRadius);i.beginPath(),Object.values(Z).some(ie=>ie!==0)?rM(i,{x:q,y:j,w:g,h:m,radius:Z}):i.rect(q,j,g,m),i.fill(),K!==0&&i.stroke()}i.restore()},b=function(I,H,U){fp(i,U.text,I,H+p/2,u,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},T=this.isHorizontal(),E=this._computeTitleHeight();T?f={x:gr(o,this.left+c,this.right-r[0]),y:this.top+c+E,line:0}:f={x:this.left+c,y:gr(o,this.top+E+c,this.bottom-n[0].height),line:0},YK(this.ctx,e.textDirection);const P=p+c;this.legendItems.forEach((I,H)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const U=i.measureText(I.text).width,K=l.textAlign(I.textAlign||(I.textAlign=s.textAlign)),j=g+d+U;let q=f.x,Z=f.y;l.setWidth(this.width),T?H>0&&q+j+c>this.right&&(Z=f.y+=P,f.line++,q=f.x=gr(o,this.left+c,this.right-r[f.line])):H>0&&Z+P>this.bottom&&(q=f.x=q+n[f.line].width+c,f.line++,Z=f.y=gr(o,this.top+E+c,this.bottom-n[f.line].height));const ie=l.x(q);if(y(ie,Z,I),q=ARe(K,q+g+d,T?q+j:this.right,e.rtl),b(l.x(q),Z,I),T)f.x+=j+c;else if(typeof I.text!="string"){const ee=u.lineHeight;f.y+=l3(I,ee)+c}else f.y+=P}),GK(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=br(n.font),i=to(n.padding);if(!n.display)return;const o=Cd(e.rtl,this.left,this.width),s=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=gr(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((m,p)=>Math.max(m,p.height),0);c=u+gr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=gr(a,h,h+d);s.textAlign=o.textAlign(TI(a)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=r.string,fp(s,n.text,f,c,r)}_computeTitleHeight(){const e=this.options.title,n=br(e.font),r=to(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,o;if(Ig(e,this.left,this.right)&&Ig(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Ig(e,i.left,i.left+i.width)&&Ig(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!CTe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=vTe(i,r);i&&!o&&Gt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&Gt(n.onHover,[e,r,this],this)}else r&&Gt(n.onClick,[e,r,this],this)}}function wTe(t,e,n,r,i){const o=bTe(r,t,e,n),s=yTe(i,r,e.lineHeight);return{itemWidth:o,itemHeight:s}}function bTe(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),e+n.size/2+r.measureText(i).width}function yTe(t,e,n){let r=t;return typeof e.text!="string"&&(r=l3(e,n)),r}function l3(t,e){const n=t.text?t.text.length:0;return e*n}function CTe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var STe={id:"legend",_element:GW,start(t,e,n){const r=t.legend=new GW({ctx:t.ctx,options:n,chart:t});qi.configure(t,r,n),qi.addBox(t,r)},stop(t){qi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;qi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=to(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:s&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class u3 extends qc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Kn(r.text)?r.text.length:1;this._padding=to(r.padding);const o=i*br(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:o,options:s}=this,a=s.align;let l=0,u,c,h;return this.isHorizontal()?(c=gr(a,r,o),h=n+e,u=o-r):(s.position==="left"?(c=r+e,h=gr(a,i,n),l=Zn*-.5):(c=o-e,h=gr(a,n,i),l=Zn*.5),u=i-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=br(n.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(o);fp(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:TI(n.align),textBaseline:"middle",translation:[s,a]})}}function _Te(t,e){const n=new u3({ctx:t.ctx,options:e,chart:t});qi.configure(t,n,e),qi.addBox(t,n),t.titleBlock=n}var RTe={id:"title",_element:u3,start(t,e,n){_Te(t,n)},stop(t){const e=t.titleBlock;qi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;qi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kg={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,o=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){const l=t[o].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=eM(e,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function gs(t,e){return e&&(Kn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function fa(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ETe(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function KW(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=br(e.bodyFont),u=br(e.titleFont),c=br(e.footerFont),h=o.length,d=i.length,f=r.length,g=to(e.padding);let m=g.height,p=0,y=r.reduce((E,P)=>E+P.before.length+P.lines.length+P.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*E+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let b=0;const T=function(E){p=Math.max(p,n.measureText(E).width+b)};return n.save(),n.font=u.string,Pt(t.title,T),n.font=l.string,Pt(t.beforeBody.concat(t.afterBody),T),b=e.displayColors?s+2+e.boxPadding:0,Pt(r,E=>{Pt(E.before,T),Pt(E.lines,T),Pt(E.after,T)}),b=0,n.font=c.string,Pt(t.footer,T),n.restore(),p+=g.width,{width:p,height:m}}function xTe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function TTe(t,e,n,r){const{x:i,width:o}=r,s=n.caretSize+n.caretPadding;if(t==="left"&&i+o+s>e.width||t==="right"&&i-o-s<0)return!0}function MTe(t,e,n,r){const{x:i,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=o/2?u="left":i>=s-o/2&&(u="right"),TTe(u,t,e,n)&&(u="center"),u}function qW(t,e,n){const r=n.yAlign||e.yAlign||xTe(t,n);return{xAlign:n.xAlign||e.xAlign||MTe(t,e,n,r),yAlign:r}}function PTe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function OTe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function XW(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,u=i+o,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=bm(s);let g=PTe(e,a);const m=OTe(e,l,u);return l==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(c,d)+i:a==="right"&&(g+=Math.max(h,f)+i),{x:Ki(g,0,r.width-e.width),y:Ki(m,0,r.height-e.height)}}function Gw(t,e,n){const r=to(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function ZW(t){return gs([],fa(t))}function ITe(t,e,n){return Kc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function JW(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const c3={beforeTitle:sa,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:sa,beforeBody:sa,beforeLabel:sa,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Bt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:sa,afterBody:sa,beforeFooter:sa,footer:sa,afterFooter:sa};function Gr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?c3[e].call(n,r):i}class aM extends qc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new qK(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=ITe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Gr(r,"beforeTitle",this,e),o=Gr(r,"title",this,e),s=Gr(r,"afterTitle",this,e);let a=[];return a=gs(a,fa(i)),a=gs(a,fa(o)),a=gs(a,fa(s)),a}getBeforeBody(e,n){return ZW(Gr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Pt(e,o=>{const s={before:[],lines:[],after:[]},a=JW(r,o);gs(s.before,fa(Gr(a,"beforeLabel",this,o))),gs(s.lines,Gr(a,"label",this,o)),gs(s.after,fa(Gr(a,"afterLabel",this,o))),i.push(s)}),i}getAfterBody(e,n){return ZW(Gr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Gr(r,"beforeFooter",this,e),o=Gr(r,"footer",this,e),s=Gr(r,"afterFooter",this,e);let a=[];return a=gs(a,fa(i)),a=gs(a,fa(o)),a=gs(a,fa(s)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],o=[],s=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(ETe(this.chart,n[l]));return e.filter&&(a=a.filter((c,h,d)=>e.filter(c,h,d,r))),e.itemSort&&(a=a.sort((c,h)=>e.itemSort(c,h,r))),Pt(a,c=>{const h=JW(e.callbacks,c);i.push(Gr(h,"labelColor",this,c)),o.push(Gr(h,"labelPointStyle",this,c)),s.push(Gr(h,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let o,s=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=kg[r.position].call(this,i,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);const l=this._size=KW(this,r),u=Object.assign({},a,l),c=qW(this.chart,r,u),h=XW(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const o=this.getCaretPosition(e,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:o}=this,{caretSize:s,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=bm(a),{x:d,y:f}=e,{width:g,height:m}=n;let p,y,b,T,E,P;return o==="center"?(E=f+m/2,i==="left"?(p=d,y=p-s,T=E+s,P=E-s):(p=d+g,y=p+s,T=E-s,P=E+s),b=p):(i==="left"?y=d+Math.max(l,c)+s:i==="right"?y=d+g-Math.max(u,h)-s:y=this.caretX,o==="top"?(T=f,E=T-s,p=y-s,b=y+s):(T=f+m,E=T+s,p=y+s,b=y-s),P=T),{x1:p,x2:y,x3:b,y1:T,y2:E,y3:P}}drawTitle(e,n,r){const i=this.title,o=i.length;let s,a,l;if(o){const u=Cd(r.rtl,this.x,this.width);for(e.x=Gw(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",s=br(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=s.string,l=0;l<o;++l)n.fillText(i[l],u.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===o&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,o){const s=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=o,c=br(o.bodyFont),h=Gw(this,"left",o),d=i.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,g=n.y+f;if(o.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},p=i.leftForLtr(d,u)+u/2,y=g+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,nM(e,m,p,y),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,nM(e,m,p,y)}else{e.lineWidth=bt(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const m=i.leftForLtr(d,u),p=i.leftForLtr(i.xPlus(d,1),u-2),y=bm(s.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,rM(e,{x:m,y:g,w:u,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),rM(e,{x:p,y:g+1,w:u-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(m,g,u,l),e.strokeRect(m,g,u,l),e.fillStyle=s.backgroundColor,e.fillRect(p,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,h=br(r.bodyFont);let d=h.lineHeight,f=0;const g=Cd(r.rtl,this.x,this.width),m=function(U){n.fillText(U,g.x(e.x+f),e.y+d/2),e.y+=d+o},p=g.textAlign(s);let y,b,T,E,P,I,H;for(n.textAlign=s,n.textBaseline="middle",n.font=h.string,e.x=Gw(this,p,r),n.fillStyle=r.bodyColor,Pt(this.beforeBody,m),f=a&&p!=="right"?s==="center"?u/2+c:u+2+c:0,E=0,I=i.length;E<I;++E){for(y=i[E],b=this.labelTextColors[E],n.fillStyle=b,Pt(y.before,m),T=y.lines,a&&T.length&&(this._drawColorBox(n,e,E,g,r),d=Math.max(h.lineHeight,l)),P=0,H=T.length;P<H;++P)m(T[P]),d=h.lineHeight;Pt(y.after,m)}f=0,d=h.lineHeight,Pt(this.afterBody,m),e.y-=o}drawFooter(e,n,r){const i=this.footer,o=i.length;let s,a;if(o){const l=Cd(r.rtl,this.x,this.width);for(e.x=Gw(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",s=br(r.footerFont),n.fillStyle=r.footerColor,n.font=s.string,a=0;a<o;++a)n.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:o,yAlign:s}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=bm(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),s==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-d,l),n.quadraticCurveTo(a+u,l,a+u,l+d),s==="center"&&o==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+c-g),n.quadraticCurveTo(a+u,l+c,a+u-g,l+c),s==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+c),n.quadraticCurveTo(a,l+c,a,l+c-f),s==="center"&&o==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const s=kg[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=KW(this,e),l=Object.assign({},s,this._size),u=qW(n,e,l),c=XW(e,l,u,n);(i._to!==c.x||o._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=to(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,n),YK(e,n.textDirection),o.y+=s.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),GK(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),o=!zy(r,i),s=this._positionChanged(i,n);(o||s)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],s=this._getActiveElements(e,o,n,r),a=this._positionChanged(s,e),l=n||!zy(s,o)||a;return l&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&s.reverse(),s}_positionChanged(e,n){const{caretX:r,caretY:i,options:o}=this,s=kg[o.position].call(this,e,n);return s!==!1&&(r!==s.x||i!==s.y)}}ze(aM,"positioners",kg);var ATe={id:"tooltip",_element:aM,positioners:kg,afterInit(t,e,n){n&&(t.tooltip=new aM({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:c3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const HTe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function kTe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return HTe(t,e,n,r);const o=t.lastIndexOf(e);return i!==o?n:i}const NTe=(t,e)=>t===null?null:Ki(Math.round(t),0,e);function QW(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class lM extends nf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:o}of n)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Bt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:kTe(r,e,lt(n,e),this._addedLabels),NTe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=e;s<=n;s++)i.push({value:s});return i}getLabelForValue(e){return QW.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ze(lM,"id","category"),ze(lM,"defaults",{ticks:{callback:QW}});function DTe(t,e){const n=[],{bounds:i,step:o,min:s,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:d}=t,f=o||1,g=c-1,{min:m,max:p}=e,y=!Bt(s),b=!Bt(a),T=!Bt(u),E=(p-m)/(h+1);let P=iW((p-m)/g/f)*f,I,H,U,K;if(P<1e-14&&!y&&!b)return[{value:m},{value:p}];K=Math.ceil(p/P)-Math.floor(m/P),K>g&&(P=iW(K*P/g/f)*f),Bt(l)||(I=Math.pow(10,l),P=Math.ceil(P*I)/I),i==="ticks"?(H=Math.floor(m/P)*P,U=Math.ceil(p/P)*P):(H=m,U=p),y&&b&&o&&CRe((a-s)/o,P/1e3)?(K=Math.round(Math.min((a-s)/P,c)),P=(a-s)/K,H=s,U=a):T?(H=y?s:H,U=b?a:U,K=u-1,P=(U-H)/K):(K=(U-H)/P,pm(K,Math.round(K),P/1e3)?K=Math.round(K):K=Math.ceil(K));const j=Math.max(oW(P),oW(H));I=Math.pow(10,Bt(l)?j:l),H=Math.round(H*I)/I,U=Math.round(U*I)/I;let q=0;for(y&&(d&&H!==s?(n.push({value:s}),H<s&&q++,pm(Math.round((H+q*P)*I)/I,s,eB(s,E,t))&&q++):H<s&&q++);q<K;++q){const Z=Math.round((H+q*P)*I)/I;if(b&&Z>a)break;n.push({value:Z})}return b&&d&&U!==a?n.length&&pm(n[n.length-1].value,a,eB(a,E,t))?n[n.length-1].value=a:n.push({value:a}):(!b||U===a)&&n.push({value:U}),n}function eB(t,e,{horizontal:n,minRotation:r}){const i=fc(r),o=(n?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}class $Te extends nf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Bt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const s=l=>i=n?i:l,a=l=>o=r?o:l;if(e){const l=Dd(i),u=Dd(o);l<0&&u<0?a(0):l>0&&u>0&&s(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(i-l)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,s=DTe(i,o);return e.bounds==="ticks"&&SRe(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return $K(e,this.chart.options.locale,this.options.ticks.format)}}class uM extends $Te{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=eo(e)?e:0,this.max=eo(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=fc(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ze(uM,"id","linear"),ze(uM,"defaults",{ticks:{callback:LK.formatters.numeric}});const fS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},oi=Object.keys(fS);function tB(t,e){return t-e}function nB(t,e){if(Bt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let s=e;return typeof r=="function"&&(s=r(s)),eo(s)||(s=typeof r=="string"?n.parse(s,r):n.parse(s)),s===null?null:(i&&(s=i==="week"&&(hp(o)||o===!0)?n.startOf(s,"isoWeek",o):n.startOf(s,i)),+s)}function rB(t,e,n,r){const i=oi.length;for(let o=oi.indexOf(t);o<i-1;++o){const s=fS[oi[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(a*s.size))<=r)return oi[o]}return oi[i-1]}function LTe(t,e,n,r,i){for(let o=oi.length-1;o>=oi.indexOf(n);o--){const s=oi[o];if(fS[s].common&&t._adapter.diff(i,r,s)>=e-1)return s}return oi[n?oi.indexOf(n):0]}function FTe(t){for(let e=oi.indexOf(t)+1,n=oi.length;e<n;++e)if(fS[oi[e]].common)return oi[e]}function iB(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=xI(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}function VTe(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value;let a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function oB(t,e,n){const r=[],i={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return o===0||!n?r:VTe(t,r,i,n)}class Jy extends nf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new QEe._date(e.adapters.date);i.init(n),mm(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:nB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();function l(u){!s&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!s||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=eo(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),o=eo(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,s=this.max,a=MRe(i,o,s);return this._unit=n.unit||(r.autoSkip?rB(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):LTe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:FTe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),oB(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;n=Ki(n,0,s),r=Ki(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,o=i.time,s=o.unit||rB(o.minUnit,n,r,this._getLabelCapacity(n)),a=lt(i.ticks.stepSize,1),l=s==="week"?o.isoWeekday:!1,u=hp(l)||l===!0,c={};let h=n,d,f;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":s),e.diff(r,n,s)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+s);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,s),f++)iB(c,d,g);return(d===r||i.bounds==="ticks"||f===1)&&iB(c,d,g),Object.keys(c).sort(tB).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,s=n||i[o];return this._adapter.format(e,s)}_tickFormatFunction(e,n,r,i){const o=this.options,s=o.ticks.callback;if(s)return Gt(s,[e,n,r],this);const a=o.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],d=r[n],f=u&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:c))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=fc(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),s=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*o+a*s,h:r*s+a*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,oB(this,[e],this._majorUnit),i),s=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(nB(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ORe(e.sort(tB))}}ze(Jy,"id","time"),ze(Jy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kw(t,e,n){let r=0,i=t.length-1,o,s,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=gc(t,"pos",e)),{pos:o,time:a}=t[r],{pos:s,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=gc(t,"time",e)),{time:o,pos:a}=t[r],{time:s,pos:l}=t[i]);const u=s-o;return u?a+(l-a)*(e-o)/u:a}class sB extends Jy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Kw(n,this.min),this._tableRange=Kw(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],o=[];let s,a,l,u,c;for(s=0,a=e.length;s<a;++s)u=e[s],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)c=i[s+1],l=i[s-1],u=i[s],Math.round((c+l)/2)!==u&&o.push({time:u,pos:s/(a-1)});return o}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Kw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Kw(this._table,r*this._tableRange+this._minPos,!0)}}ze(sB,"id","timeseries"),ze(sB,"defaults",Jy.defaults);const h3={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},WTe={ariaLabel:{type:String},ariaDescribedby:{type:String}},BTe={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...h3,...WTe},jTe=Gj[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Dh(t){return bp(t)?dt(t):t}function UTe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return bp(e)?new Proxy(t,{}):t}function zTe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function d3(t,e){t.labels=e}function f3(t,e,n){const r=[];t.datasets=e.map(i=>{const o=t.datasets.find(s=>s[n]===i[n]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function YTe(t,e){const n={labels:[],datasets:[]};return d3(n,t.labels),f3(n,t.datasets,e),n}const GTe=Vd({props:BTe,setup(t,e){let{expose:n,slots:r}=e;const i=Ha(null),o=PM(null);n({chart:o});const s=()=>{if(!i.value)return;const{type:u,data:c,options:h,plugins:d,datasetIdKey:f}=t,g=YTe(c,f),m=UTe(g,c);o.value=new dS(i.value,{type:u,data:m,options:{...h},plugins:d})},a=()=>{const u=dt(o.value);u&&(t.destroyDelay>0?setTimeout(()=>{u.destroy(),o.value=null},t.destroyDelay):(u.destroy(),o.value=null))},l=u=>{u.update(t.updateMode)};return Sp(s),_p(a),Os([()=>t.options,()=>t.data],(u,c)=>{let[h,d]=u,[f,g]=c;const m=dt(o.value);if(!m)return;let p=!1;if(h){const y=Dh(h),b=Dh(f);y&&y!==b&&(zTe(m,y),p=!0)}if(d){const y=Dh(d.labels),b=Dh(g.labels),T=Dh(d.datasets),E=Dh(g.datasets);y!==b&&(d3(m.config.data,y),p=!0),T&&T!==E&&(f3(m.config.data,T,t.datasetIdKey),p=!0)}p&&Cp(()=>{l(m)})},{deep:!0}),()=>Mm("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:i},[Mm("p",{},[r.default?r.default():""])])}});function KTe(t,e){return dS.register(e),Vd({props:h3,setup(n,r){let{expose:i}=r;const o=PM(null),s=a=>{o.value=a==null?void 0:a.chart};return i({chart:o}),()=>Mm(GTe,jTe({ref:s},{type:t,...n}))}})}const qTe=KTe("line",Nb);dS.register(lM,uM,Lb,Hg,RTe,ATe,STe);const XTe={components:{Line:qTe},props:["parsedLogs","uniqueProgramsCount","lastUpdateTime"],computed:{errorCount(){return this.parsedLogs.filter(t=>t.level==="Error").length},infoCount(){return this.parsedLogs.filter(t=>t.level==="Info").length},chartData(){const t=[...new Set(this.parsedLogs.map(n=>n.timestamp))].slice(-10),e=t.map(n=>this.parsedLogs.filter(r=>r.timestamp===n&&r.level==="Error").length);return{labels:t,datasets:[{label:"Errors Over Time",data:e,borderColor:"#ef4444",backgroundColor:"#fee2e2",tension:.4}]}},chartOptions(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:this.isDarkMode?"#fff":"#000"}}},scales:{y:{beginAtZero:!0,ticks:{color:this.isDarkMode?"#fff":"#000"}},x:{ticks:{color:this.isDarkMode?"#fff":"#000"}}}}}}},ZTe={class:"space-y-4 mb-6"},JTe={class:"grid grid-cols-5 gap-4"},QTe={class:"bg-blue-100 dark:bg-blue-900 p-4 rounded"},eMe={class:"dark:text-white"},tMe={class:"bg-green-100 dark:bg-green-900 p-4 rounded"},nMe={class:"dark:text-white"},rMe={class:"bg-red-100 dark:bg-red-900 p-4 rounded"},iMe={class:"dark:text-white"},oMe={class:"bg-emerald-100 dark:bg-emerald-900 p-4 rounded"},sMe={class:"dark:text-white"},aMe={class:"bg-purple-100 dark:bg-purple-900 p-4 rounded"},lMe={class:"dark:text-white"},uMe={class:"bg-surface-50 p-4 rounded h-48"};function cMe(t,e,n,r,i,o){const s=Ps("Line");return Ae(),Ve("div",ZTe,[te("div",JTe,[te("div",QTe,[e[0]||(e[0]=te("h4",{class:"font-bold dark:text-white"},"Total Logs",-1)),te("p",eMe,wn(n.parsedLogs.length),1)]),te("div",tMe,[e[1]||(e[1]=te("h4",{class:"font-bold dark:text-white"},"Unique Progs",-1)),te("p",nMe,wn(n.uniqueProgramsCount),1)]),te("div",rMe,[e[2]||(e[2]=te("h4",{class:"font-bold dark:text-white"},"Error Logs",-1)),te("p",iMe,wn(o.errorCount),1)]),te("div",oMe,[e[3]||(e[3]=te("h4",{class:"font-bold dark:text-white"},"Info Logs",-1)),te("p",sMe,wn(o.infoCount),1)]),te("div",aMe,[e[4]||(e[4]=te("h4",{class:"font-bold dark:text-white"},"Last Update",-1)),te("p",lMe,wn(n.lastUpdateTime),1)])]),te("div",uMe,[qt(s,{data:o.chartData,options:o.chartOptions,class:"w-full h-full"},null,8,["data","options"])])])}const hMe=Xl(XTe,[["render",cMe]]);var aB={},lB={},Tx,uB;function g3(){if(uB)return Tx;uB=1;var t=TypeError;return Tx=function(e,n){if(e<n)throw new t("Not enough arguments");return e},Tx}var Mx,cB;function dMe(){if(cB)return Mx;cB=1;var t=pC();return Mx=/(?:ipad|iphone|ipod).*applewebkit/i.test(t),Mx}var Px,hB;function m3(){if(hB)return Px;hB=1;var t=Nn(),e=pC(),n=Lc(),r=function(i){return e.slice(0,i.length)===i};return Px=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":n(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),Px}var Ox,dB;function fMe(){if(dB)return Ox;dB=1;var t=m3();return Ox=t==="NODE",Ox}var Ix,fB;function p3(){if(fB)return Ix;fB=1;var t=Nn(),e=Op(),n=F2(),r=$n(),i=io(),o=Jn(),s=D2(),a=C1(),l=UM(),u=g3(),c=dMe(),h=fMe(),d=t.setImmediate,f=t.clearImmediate,g=t.process,m=t.Dispatch,p=t.Function,y=t.MessageChannel,b=t.String,T=0,E={},P="onreadystatechange",I,H,U,K;o(function(){I=t.location});var j=function(ee){if(i(E,ee)){var re=E[ee];delete E[ee],re()}},q=function(ee){return function(){j(ee)}},Z=function(ee){j(ee.data)},ie=function(ee){t.postMessage(b(ee),I.protocol+"//"+I.host)};return(!d||!f)&&(d=function(re){u(arguments.length,1);var pe=r(re)?re:p(re),se=a(arguments,1);return E[++T]=function(){e(pe,void 0,se)},H(T),T},f=function(re){delete E[re]},h?H=function(ee){g.nextTick(q(ee))}:m&&m.now?H=function(ee){m.now(q(ee))}:y&&!c?(U=new y,K=U.port2,U.port1.onmessage=Z,H=n(K.postMessage,K)):t.addEventListener&&r(t.postMessage)&&!t.importScripts&&I&&I.protocol!=="file:"&&!o(ie)?(H=ie,t.addEventListener("message",Z,!1)):P in l("script")?H=function(ee){s.appendChild(l("script"))[P]=function(){s.removeChild(this),j(ee)}}:H=function(ee){setTimeout(q(ee),0)}),Ix={set:d,clear:f},Ix}var gB;function gMe(){if(gB)return lB;gB=1;var t=$t(),e=Nn(),n=p3().clear;return t({global:!0,bind:!0,enumerable:!0,forced:e.clearImmediate!==n},{clearImmediate:n}),lB}var mB={},Ax,pB;function mMe(){if(pB)return Ax;pB=1;var t=Nn(),e=Op(),n=$n(),r=m3(),i=pC(),o=C1(),s=g3(),a=t.Function,l=/MSIE .\./.test(i)||r==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Ax=function(u,c){var h=c?2:1;return l?function(d,f){var g=s(arguments.length,1)>h,m=n(d)?d:a(d),p=g?o(arguments,h):[],y=g?function(){e(m,this,p)}:m;return c?u(y,f):u(y)}:u},Ax}var vB;function pMe(){if(vB)return mB;vB=1;var t=$t(),e=Nn(),n=p3().set,r=mMe(),i=e.setImmediate?r(n,!1):n;return t({global:!0,bind:!0,enumerable:!0,forced:e.setImmediate!==i},{setImmediate:i}),mB}var wB;function vMe(){return wB||(wB=1,gMe(),pMe()),aB}vMe();function wMe(t,e){bMe(t,e),e.add(t)}function bMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ku(t,e,n){return(e=yMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yMe(t){var e=CMe(t,"string");return typeof e=="symbol"?e:e+""}function CMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hx(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var qw=new WeakSet;class cM{constructor(e,n,r){wMe(this,qw),Ku(this,"hot",void 0),Ku(this,"tableMeta",void 0),Ku(this,"selection",void 0),Ku(this,"eventManager",void 0),Ku(this,"destroyed",!1),Ku(this,"activeEditor",void 0),Ku(this,"cellProperties",void 0),this.hot=e,this.tableMeta=n,this.selection=r,this.eventManager=new Vo(e),this.hot.addHook("afterDocumentKeyDown",i=>Hx(qw,this,bB).call(this,i)),this.hot.addHook("beforeCompositionStart",i=>Hx(qw,this,bB).call(this,i)),this.hot.view._wt.update("onCellDblClick",(i,o,s)=>Hx(qw,this,SMe).call(this,i,o,s))}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,u=>{u&&this.prepareEditor()});return}const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||n.isHeader())return;const{row:r,col:i}=n,o=this.hot.runHooks("modifyGetCellCoords",r,i,!1,"meta");let s=r,a=i;if(Array.isArray(o)&&([s,a]=o),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}const l=this.hot.getCell(r,i,!0);if(l){const u=this.hot.getCellEditor(this.cellProperties),c=this.hot.colToProp(a),h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=Mz(u,this.hot),this.activeEditor.prepare(r,i,c,l,h,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}const i=this.hot.getSelectedRangeLast();let o=this.hot.runHooks("beforeBeginEditing",i.highlight.row,i.highlight.col,e,n,r);if(n instanceof MouseEvent&&typeof o!="boolean"&&(o=this.hot.selection.getLayerLevel()===0&&i.isSingle()),o===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(r&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,n))}closeEditor(e,n,r){this.activeEditor?this.activeEditor.finishEditing(e,n,r):r&&r(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeLast();if(!e)return!1;const n=this.hot.getCellEditor(this.cellProperties),{row:r,col:i}=e.highlight,{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a=o.isHidden(this.hot.toPhysicalRow(r))||s.isHidden(this.hot.toPhysicalColumn(i));return!(this.cellProperties.readOnly||!n||a)}moveSelectionAfterEnter(e){const n={...typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(e):this.tableMeta.enterMoves};e.shiftKey&&(n.row=-n.row,n.col=-n.col),this.hot.selection.isMultiple()?this.selection.transformFocus(n.row,n.col):this.selection.transformStart(n.row,n.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function bB(t){const e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||ic(t))return;const{keyCode:n}=t,r=(t.ctrlKey||t.metaKey)&&!t.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!gz(n)&&!Vne(n)&&!r&&!this.isEditorOpened()&&this.openEditor("",t)}function SMe(t,e){e.isCell()&&this.openEditor(null,t,!0)}const yB=new WeakMap;cM.getInstance=function(t,e,n){let r=yB.get(t);return r||(r=new cM(t,e,n),yB.set(t,r)),r};function _Me(t,e){v3(t,e),e.add(t)}function pg(t,e,n){v3(t,e),e.set(t,n)}function v3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ft(t,e){return t.get(_a(t,e))}function vg(t,e,n){return t.set(_a(t,e),n),n}function _a(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Sd=Object.freeze({CELL:"cell",MIXED:"mixed"});var In=new WeakMap,Xw=new WeakMap,Zw=new WeakMap,Jw=new WeakMap,Qw=new WeakMap,_l=new WeakSet;class RMe{constructor(e){var n=this;_Me(this,_l),pg(this,In,void 0),pg(this,Xw,void 0),pg(this,Zw,1),pg(this,Jw,null),pg(this,Qw,new Map);const r=e.getSettings();vg(In,this,e),vg(Xw,this,r.imeFastEdit?Sd.MIXED:Sd.CELL),Ft(In,this).addHook("afterUpdateSettings",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return _a(_l,n,xMe).call(n,...o)}),Ft(In,this).addHook("afterSelection",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return _a(_l,n,CB).call(n,...o)}),Ft(In,this).addHook("afterSelectionFocusSet",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return _a(_l,n,CB).call(n,...o)}),Ft(In,this).addHook("afterSelectionEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return _a(_l,n,EMe).call(n,...o)})}getFocusMode(){return Ft(Xw,this)}setFocusMode(e){Object.values(Sd).includes(e)?vg(Xw,this,e):gt(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return Ft(Zw,this)}setRefocusDelay(e){vg(Zw,this,e)}setRefocusElementGetter(e){vg(Jw,this,e)}getRefocusElement(){var e;return typeof Ft(Jw,this)=="function"?Ft(Jw,this).call(this):(e=Ft(In,this).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){const n=r=>{var i,o;const s=(i=Ft(In,this).getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;if(!s)return;let a=Ft(In,this).runHooks("modifyFocusedElement",s.row,s.col,r);La(a)||(a=r),a&&!((o=Ft(In,this).getActiveEditor())!==null&&o!==void 0&&o.isOpened())&&a.focus({preventScroll:!0})};e?n(e):_a(_l,this,$I).call(this,r=>n(r))}refocusToEditorTextarea(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ft(Zw,this);if(Ft(In,this).getSettings().imeFastEdit&&!((e=Ft(In,this).getActiveEditor())!==null&&e!==void 0&&e.isOpened())){var r,i;(r=Ft(In,this).getActiveEditor())===null||r===void 0||(i=r.refreshValue)===null||i===void 0||i.call(r),Ft(Qw,this).has(n)||Ft(Qw,this).set(n,kC(()=>{if(!Ft(In,this).isDestroyed){var o;(o=this.getRefocusElement())===null||o===void 0||o.select()}},n)),Ft(Qw,this).get(n)()}}}function $I(t){var e;const n=(e=Ft(In,this).getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||!Ft(In,this).selection.isCellVisible(n)){t(null);return}const r=Ft(In,this).getCell(n.row,n.col,!0);r===null?Ft(In,this).addHookOnce("afterScroll",()=>{t(Ft(In,this).getCell(n.row,n.col,!0))}):t(r)}function CB(){_a(_l,this,$I).call(this,t=>{const{activeElement:e}=Ft(In,this).rootDocument;e&&nz(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function EMe(){_a(_l,this,$I).call(this,t=>{this.getFocusMode()===Sd.MIXED&&(t==null?void 0:t.nodeName)==="TD"&&this.refocusToEditorTextarea()})}function xMe(t){typeof t.imeFastEdit=="boolean"&&this.setFocusMode(t.imeFastEdit?Sd.MIXED:Sd.CELL)}const w3=new WeakMap,LI=Symbol("rootInstance");function TMe(t){w3.set(t,!0)}function MMe(t){return t===LI}function Fb(t){return w3.has(t)}function PMe(t,e){b3(t,e),e.add(t)}function cl(t,e,n){b3(t,e),e.set(t,n)}function b3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hl(t,e,n){return(e=OMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OMe(t){var e=IMe(t,"string");return typeof e=="symbol"?e:e+""}function IMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e){return t.get(_d(t,e))}function Kr(t,e,n){return t.set(_d(t,e),n),n}function _d(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var kx=new WeakMap,eb=new WeakMap,tb=new WeakMap,aa=new WeakMap,po=new WeakMap,Nx=new WeakMap,Dx=new WeakMap,$h=new WeakMap,Ng=new WeakSet;class AMe{constructor(e){PMe(this,Ng),hl(this,"hot",void 0),hl(this,"eventManager",void 0),hl(this,"settings",void 0),hl(this,"THEAD",void 0),hl(this,"TBODY",void 0),hl(this,"_wt",void 0),hl(this,"activeWt",void 0),cl(this,kx,0),cl(this,eb,0),hl(this,"postponedAdjustElementsSize",!1),cl(this,tb,!1),cl(this,aa,void 0),cl(this,po,void 0),cl(this,Nx,0),cl(this,Dx,0),cl(this,$h,null),this.hot=e,this.eventManager=new Vo(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){if(!this.hot.isRenderSuspended()){const e=this.hot.forceFullRender;this.hot.runHooks("beforeRender",e),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize()),this._wt.draw(!e),_d(Ng,this,kMe).call(this),this.hot.runHooks("afterRender",e),this.hot.forceFullRender=!1}}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(e,n){const r=this._wt.getCell(e,n);return r<0?null:r}scrollViewport(e,n,r){return this._wt.scrollViewport(e,n,r)}scrollViewportHorizontally(e,n){return this._wt.scrollViewportHorizontally(e,n)}scrollViewportVertically(e,n){return this._wt.scrollViewportVertically(e,n)}createElements(){const{rootElement:e,rootDocument:n}=this.hot,r=e.getAttribute("style");r&&e.setAttribute("data-originalstyle",r),Q(e,"handsontable"),Kr(po,this,n.createElement("TABLE")),Q(Cn(po,this),"htCore"),this.hot.getSettings().tableClassName&&Q(Cn(po,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(Oe(Cn(po,this),[Ta()]),Oe(e,[Fee(),UU(-1),IC(this.hot.countCols()),Qee()])),this.THEAD=n.createElement("THEAD"),Cn(po,this).appendChild(this.THEAD),this.TBODY=n.createElement("TBODY"),Cn(po,this).appendChild(this.TBODY),this.hot.table=Cn(po,this),this.hot.container.insertBefore(Cn(po,this),this.hot.container.firstChild)}registerEvents(){const{rootElement:e,rootDocument:n,selection:r,rootWindow:i}=this.hot,o=n.documentElement;this.eventManager.addEventListener(e,"mousedown",a=>{Kr(tb,this,!0),this.isTextSelectionAllowed(a.target)||(KD(i),a.preventDefault(),i.focus())}),this.eventManager.addEventListener(e,"mouseup",()=>{Kr(tb,this,!1)}),this.eventManager.addEventListener(e,"mousemove",a=>{Cn(tb,this)&&!this.isTextSelectionAllowed(a.target)&&(this.settings.fragmentSelection&&KD(i),a.preventDefault())}),this.eventManager.addEventListener(o,"keyup",a=>{r.isInProgress()&&!a.shiftKey&&r.finish()}),this.eventManager.addEventListener(o,"mouseup",a=>{r.isInProgress()&&O1(a)&&r.finish(),Kr(aa,this,!1);const l=nz(n.activeElement);bb(n.activeElement)&&!l||(l||!r.isSelected()&&!r.isSelectedByAnyHeader()&&!e.contains(a.target)&&!Mc(a))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",a=>{r.isInProgress()&&Mc(a)&&(r.finish(),Kr(aa,this,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{r.isInProgress()&&r.finish(),Kr(aa,this,!1)}),this.eventManager.addEventListener(o,"mousedown",a=>{const l=a.target,u=a.x||a.clientX,c=a.y||a.clientY;let h=a.target;if(Cn(aa,this)||!e||!this.hot.view)return;const{holder:d}=this._wt.wtTable;if(h===d){const g=Xn(n);if(n.elementFromPoint(u+g,c)!==d||n.elementFromPoint(u,c+g)!==d)return}else for(;h!==o;){if(h===null){if(a.isTargetWebComponent)break;return}if(h===e)return;h=h.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(l):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let s=Pd(i);for(;s!==null;)this.eventManager.addEventListener(s.document.documentElement,"click",()=>{this.hot.unlisten()}),s=Pd(s);this.eventManager.addEventListener(Cn(po,this),"selectstart",a=>{this.settings.fragmentSelection||bb(a.target)||a.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:n,col:r}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(n,r))}translateFromRenderableToVisualIndex(e,n){let r=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,i=n>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(n):n;return r===null&&(r=e),i===null&&(i=n),[r,i]}countRenderableIndexes(e,n){const r=Math.min(e.getNotTrimmedIndexesLength(),n),i=e.getNearestNotHiddenIndex(r-1,-1);return i===null?0:e.getRenderableFromVisualIndex(i)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,n,r,i){if(isNaN(e)||e<0)return 0;const o=r.getNearestNotHiddenIndex(e,n),s=r.getRenderableFromVisualIndex(o);if(!Number.isInteger(s))return 0;let a=0;return n<0?a=s+1:n>0&&(a=i-s),a}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),n=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(n,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),n=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(n,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),n=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(n,1)}countRenderableColumnsInRange(e,n){let r=0;for(let i=e;i<=n;i++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(i)!==null&&(r+=1);return r}countRenderableRowsInRange(e,n){let r=0;for(let i=e;i<=n;i++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(i)!==null&&(r+=1);return r}getStylesHandler(){return this._wt.stylesHandler}getDefaultRowHeight(){return this._wt.stylesHandler.getDefaultRowHeight()}addClassNameToLicenseElement(e){var n;const r=(n=this.hot.rootElement.parentNode)===null||n===void 0?void 0:n.querySelector(".hot-display-license-info");r&&Q(r,e)}removeClassNameFromLicenseElement(e){var n;const r=(n=this.hot.rootElement.parentNode)===null||n===void 0?void 0:n.querySelector(".hot-display-license-info");r&&xe(r,e)}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),n=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>n}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Cn(po,this),isDataViewInstance:()=>Fb(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,viewportColumnRenderingThreshold:()=>this.settings.viewportColumnRenderingThreshold,viewportRowRenderingThreshold:()=>this.settings.viewportRowRenderingThreshold,data:(o,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(o,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const o=[];return this.hot.hasRowHeaders()&&o.push((s,a)=>{const l=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",o),Kr(eb,this,o.length),this.hot.getSettings().ariaTags&&_d(Ng,this,y3).call(this)===this.hot.countCols()&&_d(Ng,this,HMe).call(this,Cn(eb,this)),o},columnHeaders:()=>{const o=[];return this.hot.hasColHeaders()&&o.push((s,a)=>{const l=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",o),Kr(kx,this,o.length),o},columnWidth:o=>{const s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getColWidth(s===null?o:s)},rowHeight:o=>{const s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getRowHeight(s===null?o:s)},rowHeightByOverlayName:(o,s)=>{const a=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o),l=a===null?o:a;return this.hot.runHooks("modifyRowHeightByOverlayName",this.hot.getRowHeight(l),l,s)},cellRenderer:(o,s,a)=>{const[l,u]=this.translateFromRenderableToVisualIndex(o,s),c=this.hot.runHooks("modifyGetCellCoords",l,u,!1,"meta");let h=l,d=u;Array.isArray(c)&&([h,d]=c);const f=this.hot.getCellMeta(h,d),g=this.hot.colToProp(d);let m=this.hot.getDataAtRowProp(h,g);this.hot.hasHook("beforeValueRender")&&(m=this.hot.runHooks("beforeValueRender",m,f)),this.hot.runHooks("beforeRenderer",a,l,u,g,m,f),this.hot.getCellRenderer(f)(this.hot,a,l,u,g,m,f),this.hot.runHooks("afterRenderer",a,l,u,g,m,f)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&Od(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,Kr(aa,this,!0),Kr($h,this,{x:o.clientX,y:o.clientY}),this.hot.runHooks("beforeOnCellMouseDown",o,u,a,c),!ic(o)&&(mF(o,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseDown",o,u,a),this.activeWt=this._wt)},onCellContextMenu:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,Kr(aa,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",o,u,a),!ic(o)&&(this.hot.runHooks("afterOnCellContextMenu",o,u,a),this.activeWt=this._wt)},onCellMouseOut:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",o,u,a),!ic(o)&&(this.hot.runHooks("afterOnCellMouseOut",o,u,a),this.activeWt=this._wt)},onCellMouseOver:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",o,u,a,c),!ic(o)&&(Cn(aa,this)&&(!Cn($h,this)||Cn($h,this).x!==o.clientX||Cn($h,this).y!==o.clientY)&&mF(o,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseOver",o,u,a),this.activeWt=this._wt,Kr($h,this,null))},onCellMouseUp:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",o,u,a),!(ic(o)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",o,u,a),this.activeWt=this._wt)},onCellCornerMouseDown:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",o)},onCellCornerDblClick:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",o)},beforeDraw:(o,s)=>this.beforeRender(o,s),onDraw:o=>this.afterRender(o),onBeforeViewportScrollVertically:(o,s)=>{const a=this.hot.rowIndexMapper,l=o<0;let u=o;return!l&&(u=a.getVisualFromRenderableIndex(o),u===null)?o:(u=this.hot.runHooks("beforeViewportScrollVertically",u,s),this.hot.runHooks("beforeViewportScroll"),l?u:a.getRenderableFromVisualIndex(u))},onBeforeViewportScrollHorizontally:(o,s)=>{const a=this.hot.columnIndexMapper,l=o<0;let u=o;return!l&&(u=a.getVisualFromRenderableIndex(o),u===null)?o:(u=this.hot.runHooks("beforeViewportScrollHorizontally",u,s),this.hot.runHooks("beforeViewportScroll"),l?u:a.getRenderableFromVisualIndex(u))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(o,s,a)=>{const l=this.hot.rowIndexMapper,u=o<0;let c=o;u||(c=l.getVisualFromRenderableIndex(o));const h=this.hot.runHooks("beforeHighlightingRowHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onBeforeHighlightingColumnHeader:(o,s,a)=>{const l=this.hot.columnIndexMapper,u=o<0;let c=o;u||(c=l.getVisualFromRenderableIndex(o));const h=this.hot.runHooks("beforeHighlightingColumnHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onAfterDrawSelection:(o,s,a)=>{let l;const[u,c]=this.translateFromRenderableToVisualIndex(o,s),h=this.hot.selection.getSelectedRange();if(h.size()>0){const f=h.peekByIndex(a??0);l=[f.from.row,f.from.col,f.to.row,f.to.col]}return this.hot.runHooks("afterDrawSelection",u,c,l,a)},onBeforeDrawBorders:(o,s)=>{const[a,l,u,c]=o,h=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(u),this.hot.columnIndexMapper.getVisualFromRenderableIndex(c)];return this.hot.runHooks("beforeDrawBorders",h,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onModifyRowHeaderWidth:o=>this.hot.runHooks("modifyRowHeaderWidth",o),onModifyGetCellCoords:(o,s,a,l)=>{const u=this.hot.rowIndexMapper,c=this.hot.columnIndexMapper,h=s>=0?c.getVisualFromRenderableIndex(s):s,d=o>=0?u.getVisualFromRenderableIndex(o):o,f=this.hot.runHooks("modifyGetCellCoords",d,h,a,l);if(Array.isArray(f)){const[g,m,p,y]=f;return[g>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(g,1)):g,m>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(m,1)):m,p>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(p,-1)):p,y>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(y,-1)):y]}},onModifyGetCoordsElement:(o,s)=>{const a=this.hot.rowIndexMapper,l=this.hot.columnIndexMapper,u=s>=0?l.getVisualFromRenderableIndex(s):s,c=o>=0?a.getVisualFromRenderableIndex(o):o,h=this.hot.runHooks("modifyGetCoordsElement",c,u);if(Array.isArray(h)){const[d,f]=h;return[d>=0?a.getRenderableFromVisualIndex(a.getNearestNotHiddenIndex(d,1)):d,f>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(f,1)):f]}},viewportRowCalculatorOverride:o=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){const a=this.countRenderableRows(),l=o.startRow,u=o.endRow;if(typeof s=="number")o.startRow=Math.max(l-s,0),o.endRow=Math.min(u+s,a-1);else if(s==="auto"){const c=Math.max(1,Math.ceil(u/a*12));o.startRow=Math.max(l-c,0),o.endRow=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",o)},viewportColumnCalculatorOverride:o=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){const a=this.countRenderableColumns(),l=o.startColumn,u=o.endColumn;if(typeof s=="number"&&(o.startColumn=Math.max(l-s,0),o.endColumn=Math.min(u+s,a-1)),s==="auto"){const c=Math.max(1,Math.ceil(u/a*6));o.startColumn=Math.max(l-c,0),o.endColumn=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",o)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const o=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||o}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new DO(e),this.activeWt=this._wt;const n=this._wt.wtTable.spreader,{width:r,height:i}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(r,i),this.eventManager.addEventListener(n,"mousedown",o=>{o.target===n&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(n,"contextmenu",o=>{o.target===n&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&this.hot.render()})}isTextSelectionAllowed(e){if(bb(e))return!0;const n=wc(e,this._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&n||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&n||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return Cn(aa,this)}isSelectedOnlyCell(){var e,n;return(e=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingleCell())!==null&&e!==void 0?e:!1}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,n){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,n)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,n){if(n.firstChild){const r=n.firstChild;if(!Me(r,"relative")){Va(n),this.appendRowHeader(e,n);return}this.updateCellHeader(r.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:r,getRowHeader:i}=this.hot,o=r.createElement("div"),s=r.createElement("span");o.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,i),o.appendChild(s),n.appendChild(o)}this.hot.runHooks("afterGetRowHeader",e,n)}appendColHeader(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const o=()=>{const s=e>=0?this.hot.getColumnMeta(e).headerClassName:null;return s?s.split(" "):[]};if(n.firstChild){const s=n.firstChild;Me(s,"relative")?(this.updateCellHeader(s.querySelector(".colHeader"),e,r,i),s.className="",Q(s,["relative",...o()])):(Va(n),this.appendColHeader(e,n,r,i))}else{const{rootDocument:s}=this.hot,a=s.createElement("div"),l=s.createElement("span"),u=o();a.classList.add("relative",...u),l.className="colHeader",this.settings.ariaTags&&(Oe(a,...Ta()),Oe(l,...Ta())),this.updateCellHeader(l,e,r,i),a.appendChild(l),n.appendChild(a)}this.hot.runHooks("afterGetColHeader",e,n,i)}updateCellHeader(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=n;const s=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(Me(e,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(n):Me(e,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(n))),o>-1?Xd(e,r(n,i)):(Tc(e,""),Q(e,"cornerHeader"))}maximumVisibleElementWidth(e){const r=this._wt.wtViewport.getWorkspaceWidth()-e;return r>0?r:0}maximumVisibleElementHeight(e){const r=this._wt.wtViewport.getWorkspaceHeight()-e;return r>0?r:0}setLastSize(e,n){Kr(Nx,this,e),Kr(Dx,this,n)}getLastSize(){return{width:Cn(Nx,this),height:Cn(Dx,this)}}getFirstRenderedVisibleRow(){if(!this._wt.wtViewport.rowsRenderCalculator)return null;const e=this.hot.rowIndexMapper,n=e.getVisualFromRenderableIndex(this._wt.wtTable.getFirstRenderedRow());return e.getNearestNotHiddenIndex(n??0,1)}getLastRenderedVisibleRow(){if(!this._wt.wtViewport.rowsRenderCalculator)return null;const e=this.hot.rowIndexMapper,n=e.getVisualFromRenderableIndex(this._wt.wtTable.getLastRenderedRow());return e.getNearestNotHiddenIndex(n??this.hot.countRows()-1,-1)}getFirstRenderedVisibleColumn(){if(!this._wt.wtViewport.columnsRenderCalculator)return null;const e=this.hot.columnIndexMapper,n=e.getVisualFromRenderableIndex(this._wt.wtTable.getFirstRenderedColumn());return e.getNearestNotHiddenIndex(n??0,1)}getLastRenderedVisibleColumn(){if(!this._wt.wtViewport.columnsRenderCalculator)return null;const e=this.hot.columnIndexMapper,n=e.getVisualFromRenderableIndex(this._wt.wtTable.getLastRenderedColumn());return e.getNearestNotHiddenIndex(n??this.hot.countCols()-1,-1)}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return Cn(kx,this)}getRowHeadersCount(){return Cn(eb,this)}getViewportWidth(){return this._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this._wt.wtViewport.getWorkspaceHeight()}getElementOverlayName(e){var n;return((n=this._wt.wtOverlays.getParentOverlay(e))!==null&&n!==void 0?n:this._wt).wtTable.name}getOverlayByName(e){return this._wt.getOverlayByName(e)}getActiveOverlayName(){return this._wt.activeOverlayName}isVisible(){return this._wt.wtTable.isVisible()}hasVerticalScroll(){return this._wt.wtViewport.hasVerticalScroll()}hasHorizontalScroll(){return this._wt.wtViewport.hasHorizontalScroll()}getTableWidth(){return this._wt.wtTable.getWidth()}getTableHeight(){return this._wt.wtTable.getHeight()}getTableOffset(){return this._wt.wtViewport.getWorkspaceOffset()}getRowHeaderWidth(){return this._wt.wtViewport.getRowHeaderWidth()}getColumnHeaderHeight(){return this._wt.wtViewport.getColumnHeaderHeight()}isVerticallyScrollableByWindow(){return this._wt.wtViewport.isVerticallyScrollableByWindow()}isHorizontallyScrollableByWindow(){return this._wt.wtViewport.isHorizontallyScrollableByWindow()}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function y3(){return parseInt(this.hot.rootElement.getAttribute(IC()[0]),10)}function HMe(t){const e=_d(Ng,this,y3).call(this)+t;Oe(this.hot.rootElement,...IC(e))}function kMe(){const t=this.hot.rootElement;this.hasVerticalScroll()?Q(t,"htHasScrollY"):xe(t,"htHasScrollY"),this.hasHorizontalScroll()?Q(t,"htHasScrollX"):xe(t,"htHasScrollX")}function wg(t,e,n){return(e=NMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NMe(t){var e=DMe(t,"string");return typeof e=="symbol"?e:e+""}function DMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $Me{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];wg(this,"hot",void 0),wg(this,"data",void 0),wg(this,"dataType","array"),wg(this,"colToProp",()=>{}),wg(this,"propToCol",()=>{}),this.hot=e,this.data=n}modifyRowData(e){let n;return this.hot.hasHook("modifyRowData")&&(n=this.hot.runHooks("modifyRowData",e)),n!==void 0&&!Number.isInteger(n)?n:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){const n=[];return W(this.data,(r,i)=>{const o=this.getAtCell(i,e);n.push(o)}),n}getAtRow(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const o=n===void 0&&r===void 0,{dataDotNotation:s}=this.hot.getSettings();let a=null,l=null;if(a=this.modifyRowData(e),Array.isArray(a))l=[],o?a.forEach((u,c)=>{l[c]=this.getAtPhysicalCell(e,c,a)}):Ce(n,r,u=>{l[u-n]=this.getAtPhysicalCell(e,u,a)});else if(qe(a)||Rt(a))if(i?l=[]:l={},!o||i){const c=this.countFirstRowKeys()-1;Ce(0,c,h=>{const d=this.colToProp(h);if(h>=(n||0)&&h<=(r||c)&&!Number.isInteger(d)){const f=this.getAtPhysicalCell(e,d,a);i?l.push(f):s?Q_(l,d,f):l[d]=f}})}else Xe(a,(u,c)=>{const h=this.getAtPhysicalCell(e,c,a);s?Q_(l,c,h):l[c]=h});return l}setAtCell(e,n,r){if(!(e>=this.countRows()||n>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const i=Ei(r);this.hot.runHooks("modifySourceData",e,n,i,"set"),i.isTouched()&&(r=i.value)}["__proto__","constructor","prototype"].includes(e)||(Number.isInteger(n)?this.data[e][n]=r:Q_(this.data[e],n,r))}}getAtPhysicalCell(e,n,r){let i=null;if(r)if(typeof n=="string"){const{dataDotNotation:o}=this.hot.getSettings();i=o?mee(r,n):r[n]}else typeof n=="function"?i=n(r):i=r[n];if(this.hot.hasHook("modifySourceData")){const o=Ei(i);this.hot.runHooks("modifySourceData",e,n,o,"get"),o.isTouched()&&(i=o.value)}return i}getAtCell(e,n){const r=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(n),r)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,o=null,s=null,a=null,l=null;e===null||n===null?(i=!0,o=0,a=this.countRows()-1):(o=Math.min(e.row,n.row),s=Math.min(e.col,n.col),a=Math.max(e.row,n.row),l=Math.max(e.col,n.col));const u=[];return Ce(o,a,c=>{u.push(i?this.getAtRow(c,void 0,void 0,r):this.getAtRow(c,s,l,r))}),u}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return IG(this.data)}destroy(){this.data=null,this.hot=null}}function LMe(t,e){return Xe(e,(n,r)=>{en(t[r])&&(t[r]=n)}),t}function C3(t){const n=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return n?`${n[1].toLowerCase()}-${n[2].toUpperCase()}`:t}function S3(t){we(t)&&k1(yt`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function FMe(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}const{register:VMe,getValues:WMe}=Uo("phraseFormatters");function BMe(t,e){VMe(t,e)}function jMe(){return WMe()}BMe("pluralize",FMe);/**
 * @preserve
 * Authors: Handsoncode
 * Last updated: Nov 15, 2017
 *
 * Description: Definition file for English - United States language-country.
 */const _3={languageCode:"en-US",[$1]:"No available options",[L1]:"Insert row above",[F1]:"Insert row below",[V1]:"Insert column left",[W1]:"Insert column right",[B1]:["Remove row","Remove rows"],[j1]:["Remove column","Remove columns"],[U1]:"Undo",[z1]:"Redo",[cy]:"Read only",[Y1]:"Clear column",[sP]:"Alignment",[aP]:"Left",[lP]:"Center",[uP]:"Right",[cP]:"Justify",[hP]:"Top",[dP]:"Middle",[fP]:"Bottom",[J1]:"Freeze column",[Q1]:"Unfreeze column",[gP]:"Borders",[mP]:"Top",[pP]:"Right",[vP]:"Bottom",[wP]:"Left",[bP]:"Remove border(s)",[nP]:"Add comment",[rP]:"Edit comment",[iP]:"Delete comment",[oP]:"Read-only comment",[eP]:"Merge cells",[tP]:"Unmerge cells",[G1]:"Copy",[K1]:["Copy with header","Copy with headers"],[q1]:["Copy with group header","Copy with group headers"],[X1]:["Copy header only","Copy headers only"],[Z1]:"Cut",[yP]:"Insert child row",[CP]:"Detach from parent",[SP]:["Hide column","Hide columns"],[_P]:["Show column","Show columns"],[RP]:["Hide row","Hide rows"],[EP]:["Show row","Show rows"],[DC]:"None",[xP]:"Is empty",[TP]:"Is not empty",[MP]:"Is equal to",[PP]:"Is not equal to",[OP]:"Begins with",[IP]:"Ends with",[AP]:"Contains",[HP]:"Does not contain",[kP]:"Greater than",[NP]:"Greater than or equal to",[DP]:"Less than",[$P]:"Less than or equal to",[LP]:"Is between",[FP]:"Is not between",[VP]:"After",[WP]:"Before",[BP]:"Today",[jP]:"Tomorrow",[UP]:"Yesterday",[hy]:"Blank cells",[zP]:"Filter by condition",[YP]:"Filter by value",[GP]:"And",[$C]:"Or",[KP]:"Select all",[qP]:"Clear",[XP]:"OK",[ZP]:"Cancel",[JP]:"Search",[QP]:"Value",[eO]:"Second value",[nO]:"Checked",[rO]:"Unchecked"},UMe=Fre,hM=_3.languageCode,{register:zMe,getItem:R3,hasItem:YMe,getValues:GMe}=Uo("languagesDictionaries");E3(_3);function E3(t,e){let n=t,r=e;return qe(t)&&(r=t,n=r.languageCode),KMe(n,r),zMe(n,Dr(r)),Dr(r)}function KMe(t,e){t!==hM&&LMe(e,R3(hM))}function x3(t){return FI(t)?Dr(R3(t)):null}function FI(t){return YMe(t)}function qMe(){return GMe()}function T3(t,e,n){const r=x3(t);if(r===null)return null;const i=r[e];if(en(i))return null;const o=XMe(i,n);return Array.isArray(o)?o[0]:o}function XMe(t,e){let n=t;return W(jMe(),r=>{n=r(t,e)}),n}function ZMe(t){let e=C3(t);return FI(e)||(e=hM,S3(t)),e}function qu(t,e,n){return(e=JMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JMe(t){var e=QMe(t,"string");return typeof e=="symbol"?e:e+""}function QMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class od{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,n,r){qu(this,"hot",void 0),qu(this,"metaManager",void 0),qu(this,"tableMeta",void 0),qu(this,"dataSource",void 0),qu(this,"duckSchema",void 0),qu(this,"colToPropCache",void 0),qu(this,"propToColCache",void 0),this.hot=e,this.metaManager=r,this.tableMeta=r.getTableMeta(),this.dataSource=n,this.refreshDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const n=this.tableMeta.columns;let r;if(this.colToPropCache=[],this.propToColCache=new Map,n){let i=0,o=0,s=!1;if(typeof n=="function"){const a=_1(e);i=a>0?a:this.countFirstRowKeys(),s=!0}else{const a=this.tableMeta.maxCols;i=Math.min(a,n.length)}for(r=0;r<i;r++){const a=s?n(r):n[r];if(qe(a)){if(typeof a.data<"u"){const l=s?o:r;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}o+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return IG(this.dataSource)}recursiveDuckColumns(e,n,r){let i=n,o=r,s;return typeof i>"u"&&(i=0,o=""),typeof e=="object"&&!Array.isArray(e)&&Xe(e,(a,l)=>{a===null?(s=o+l,this.colToPropCache.push(s),this.propToColCache.set(s,i),i+=1):i=this.recursiveDuckColumns(a,i,`${l}.`)}),i}colToProp(e){if(Number.isInteger(e)===!1)return e;const n=this.hot.toPhysicalColumn(e);return n===null?e:this.colToPropCache&&we(this.colToPropCache[n])?this.colToPropCache[n]:n}propToCol(e){const n=this.propToColCache.get(e);if(we(n))return this.hot.toVisualColumn(n);const r=this.hot.toVisualColumn(e);return r===null?e:r}getSchema(){const e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Gm(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:i="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.hot.countSourceRows();let s=o,a=0,l=e;if((typeof l!="number"||l>=o)&&(l=o),l<this.hot.countRows()&&(s=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,n,r)===!1||s===null)return{delta:0};const c=this.tableMeta.maxRows,h=this.getSchema().length,d=[];for(;a<n&&o+a<c;){let g=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?g=Dr(this.getSchema()):(g=[],Ce(h-1,()=>g.push(null))):this.hot.dataType==="function"?g=this.tableMeta.dataSchema(l+a):(g={},OC(g,this.getSchema())),d.push(g),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),i==="below"&&(s=Math.min(s+1,o)),this.spliceData(s,0,d);const f=this.hot.toVisualRow(s);return this.hot.countSourceRows()===d.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):r!=="auto"&&this.metaManager.createRow(s,n)),this.hot.runHooks("afterCreateRow",f,a,r),{delta:a,startPhysicalIndex:s}}createCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:i="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const o=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols();let l=e;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,n,r)===!1)return{delta:0};let c=a;l<this.hot.countCols()&&(c=this.hot.toPhysicalColumn(l));const h=this.hot.countSourceRows();let d=this.hot.countCols(),f=0,g=c;i==="end"&&(g=Math.min(g+1,a));const m=g;for(;f<n&&d<s;){if(typeof l!="number"||l>=d)if(h>0)for(let y=0;y<h;y+=1)typeof o[y]>"u"&&(o[y]=[]),o[y].push(null);else o.push([null]);else for(let y=0;y<h;y++)o[y].splice(g,0,null);f+=1,g+=1,d+=1}this.hot.columnIndexMapper.insertIndexes(l,f),f>0&&(e==null?this.metaManager.createColumn(null,f):r!=="auto"&&this.metaManager.createColumn(m,n));const p=this.hot.toVisualColumn(m);return this.hot.runHooks("afterCreateCol",p,f,r),this.refreshDuckSchema(),{delta:f,startPhysicalIndex:m}}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=Number.isInteger(e)?e:-n;const o=this.visualRowsToPhysical(i,n),s=this.hot.countSourceRows();if(i=(s+i)%s,this.hot.runHooks("beforeRemoveRow",i,o.length,o,r)===!1)return!1;const l=o.length;if(this.filterData(i,l,o),i<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(o);const c=we(this.tableMeta.columns)||we(this.tableMeta.dataSchema)||this.tableMeta.colHeaders;this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&!c&&this.hot.columnIndexMapper.setIndexesSequence([])}return o.slice(0).sort((c,h)=>h-c).forEach(c=>{this.metaManager.removeRow(c,1)}),this.hot.runHooks("afterRemoveRow",i,l,o,r),!0}removeCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let i=typeof e!="number"?-n:e;i=(this.hot.countCols()+i)%this.hot.countCols();const o=this.visualColumnsToPhysical(i,n),s=o.slice(0).sort((h,d)=>d-h);if(this.hot.runHooks("beforeRemoveCol",i,n,o,r)===!1)return!1;let l=!0;const u=s.length,c=this.dataSource;for(let h=0;h<u;h++)l&&o[0]!==o[h]-h&&(l=!1);if(l)for(let h=0,d=this.hot.countSourceRows();h<d;h++)c[h].splice(o[0],n),h===0&&this.metaManager.removeColumn(o[0],n);else for(let h=0,d=this.hot.countSourceRows();h<d;h++)for(let f=0;f<u;f++)c[h].splice(s[f],1),h===0&&this.metaManager.removeColumn(s[f],1);return i<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(o),!this.tableMeta.rowHeaders&&this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",i,n,o,r),this.refreshDuckSchema(),!0}spliceCol(e,n,r){const i=this.hot.getDataAtCol(e),o=i.slice(n,n+r),s=i.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];CD(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return ree(l),this.hot.populateFromArray(n,e,l,null,null,"spliceCol"),o}spliceRow(e,n,r){const i=this.hot.getSourceDataAtRow(e),o=i.slice(n,n+r),s=i.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];CD(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return this.hot.populateFromArray(e,n,[l],null,null,"spliceRow"),o}spliceData(e,n,r){if(this.hot.runHooks("beforeDataSplice",e,n,r)!==!1){const o=[...this.dataSource.slice(0,e),...r,...this.dataSource.slice(e)];this.dataSource.length=0,o.forEach(s=>this.dataSource.push(s))}}filterData(e,n,r){let i=this.hot.runHooks("filterData",e,n,r);Array.isArray(i)===!1&&(i=this.dataSource.filter((o,s)=>r.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,i)}get(e,n){const r=this.hot.toPhysicalRow(e);let i=this.dataSource[r];const o=this.hot.runHooks("modifyRowData",r);i=isNaN(o)?o:i;const{dataDotNotation:s}=this.hot.getSettings();let a=null;if(i&&i.hasOwnProperty&&An(i,n))a=i[n];else if(s&&typeof n=="string"&&n.indexOf(".")>-1){let l=i;if(!l)return null;const u=n.split(".");for(let c=0,h=u.length;c<h;c++)if(l=l[u[c]],typeof l>"u")return null;a=l}else typeof n=="function"&&(a=n(this.dataSource.slice(r,r+1)[0]));if(this.hot.hasHook("modifyData")){const l=Ei(a);this.hot.runHooks("modifyData",r,this.propToCol(n),l,"get"),l.isTouched()&&(a=l.value)}return a}getCopyable(e,n){return this.hot.getCellMeta(e,this.propToCol(n)).copyable?this.get(e,n):""}set(e,n,r){const i=this.hot.toPhysicalRow(e);let o=r,s=this.dataSource[i];const a=this.hot.runHooks("modifyRowData",i);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){const u=Ei(o);this.hot.runHooks("modifyData",i,this.propToCol(n),u,"set"),u.isTouched()&&(o=u.value)}const{dataDotNotation:l}=this.hot.getSettings();if(s&&s.hasOwnProperty&&An(s,n))s[n]=o;else if(l&&typeof n=="string"&&n.indexOf(".")>-1){let u=s,c=0,h;const d=n.split(".");for(c=0,h=d.length-1;c<h;c++){if(d[c]==="__proto__"||d[c]==="constructor"||d[c]==="prototype")return;typeof u[d[c]]>"u"&&(u[d[c]]={}),u=u[d[c]]}u[d[c]]=o}else if(typeof n=="function")n(this.dataSource.slice(i,i+1)[0],o);else{if(n==="__proto__"||n==="constructor"||n==="prototype")return;s[n]=o}}visualRowsToPhysical(e,n){const r=this.hot.countSourceRows(),i=[];let o=(r+e)%r,s=n,a;for(;o<r&&s;)a=this.hot.toPhysicalRow(o),i.push(a),s-=1,o+=1;return i}visualColumnsToPhysical(e,n){const r=this.hot.countCols(),i=[];let o=(r+e)%r,s=n;for(;o<r&&s;){const a=this.hot.toPhysicalColumn(o);i.push(a),s-=1,o+=1}return i}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let n=0;n<this.hot.countCols();n++)this.set(e,this.colToProp(n),"")}getLength(){const e=this.tableMeta.maxRows;let n;e<0||e===0?n=0:n=e||1/0;const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(r,n)}getAll(){const e={row:0,col:0},n={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-n.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,n,od.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,n,r){const i=[];let o,s,a;const l=this.tableMeta.maxRows,u=this.tableMeta.maxCols;if(l===0||u===0)return[];const c=r===od.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(e.row,n.row)),d=Math.min(Math.max(u-1,0),Math.max(e.col,n.col));for(o=Math.min(e.row,n.row);o<=h;o++){a=[];const f=o>=0?this.hot.toPhysicalRow(o):o;for(s=Math.min(e.col,n.col);s<=d&&f!==null;s++)a.push(c.call(this,o,this.colToProp(s)));f!==null&&i.push(a)}return i}getText(e,n){return em(this.getRange(e,n,od.DESTINATION_RENDERER))}getCopyableText(e,n){return em(this.getRange(e,n,od.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}function e1e(t,e){var n;return t==="CELL_TYPE"?!1:((n=e._automaticallyAssignedMetaProps)===null||n===void 0?void 0:n.has(t))||!An(e,t)}function gS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;const r=typeof e.type=="string"?Boe(e.type):e.type;if(t._automaticallyAssignedMetaProps&&Xe(e,(o,s)=>void t._automaticallyAssignedMetaProps.delete(s)),!qe(r))return;n===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);const i={};Xe(r,(o,s)=>{if(e1e(s,n)){var a;i[s]=o,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),kn(t,i)}function t1e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function n(){}gee(n,t);for(let r=0;r<e.length;r++)n.prototype[e[r]]=void 0;return n}function Vb(t){return Number.isInteger(t)&&t>=0}function Wb(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function nb(t){return t==null}const M3=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,headerClassName:void 0,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,n,r;for(e=0,n=this.countRows();e<n;e++)if(r=this.getDataAtCell(e,t),bn(r)===!1)return!1;return!0},isEmptyRow(t){let e,n,r,i;for(e=0,n=this.countCols();e<n;e++)if(r=this.getDataAtCell(t,e),bn(r)===!1)return typeof r=="object"?(i=this.getCellMeta(t,e),S1(this.getSchema()[i.prop],r)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,themeName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:!0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",viewportColumnRenderingThreshold:0,viewportRowRenderingThreshold:0,visibleRows:10,width:void 0,wordWrap:!0});function SB(t,e,n){return(e=n1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n1e(t){var e=r1e(t,"string");return typeof e=="symbol"?e:e+""}function r1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i1e(){return class{}}class o1e{constructor(e){SB(this,"metaCtor",i1e()),SB(this,"meta",void 0),this.meta=this.metaCtor.prototype,kn(this.meta,M3()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var n;kn(this.meta,e),gS(this.meta,{...e,type:(n=e.type)!==null&&n!==void 0?n:this.meta.type},e)}}function s1e(t,e,n){return(e=a1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a1e(t){var e=l1e(t,"string");return typeof e=="symbol"?e:e+""}function l1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class u1e{constructor(e){s1e(this,"meta",void 0);const n=e.getMetaConstructor();this.meta=new n}getMeta(){return this.meta}updateMeta(e){kn(this.meta,e),gS(this.meta,e,e)}}function rb(t,e,n){return(e=c1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c1e(t){var e=h1e(t,"string");return typeof e=="symbol"?e:e+""}function h1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qy{constructor(e){rb(this,"valueFactory",void 0),rb(this,"data",[]),rb(this,"index",[]),rb(this,"holes",new Set),this.valueFactory=e}obtain(e){Wb(()=>Vb(e),"Expecting an unsigned number.");const n=this._getStorageIndexByKey(e);let r;if(n>=0)r=this.data[n],r===void 0&&(r=this.valueFactory(e),this.data[n]=r);else if(r=this.valueFactory(e),this.holes.size>0){const i=this.holes.values().next().value;this.holes.delete(i),this.data[i]=r,this.index[e]=i}else this.data.push(r),this.index[e]=this.data.length-1;return r}insert(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Wb(()=>Vb(e)||nb(e),"Expecting an unsigned number or null/undefined argument.");const r=[],i=this.data.length;for(let s=0;s<n;s++)r.push(i+s),this.data.push(void 0);const o=nb(e)?this.index.length:e;this.index=[...this.index.slice(0,o),...r,...this.index.slice(o)]}remove(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Wb(()=>Vb(e)||nb(e),"Expecting an unsigned number or null/undefined argument.");const r=this.index.splice(nb(e)?this.index.length-n:e,n);for(let i=0;i<r.length;i++){const o=r[i];typeof o=="number"&&this.holes.add(o)}}size(){return this.data.length-this.holes.size}values(){return this.data.filter((e,n)=>e!==void 0&&!this.holes.has(n))[Symbol.iterator]()}entries(){const e=[];for(let r=0;r<this.data.length;r++){const i=this._getKeyByStorageIndex(r);i!==-1&&this.data[r]!==void 0&&e.push([i,this.data[r]])}let n=0;return{next:()=>{if(n<e.length){const r=e[n];return n+=1,{value:r,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Symbol.iterator](){return this.entries()}}function _B(t,e,n){return(e=d1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d1e(t){var e=f1e(t,"string");return typeof e=="symbol"?e:e+""}function f1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const g1e=["data","width"];class m1e{constructor(e){_B(this,"globalMeta",void 0),_B(this,"metas",new Qy(()=>this._createMeta())),this.globalMeta=e,this.metas=new Qy(()=>this._createMeta())}updateMeta(e,n){const r=this.getMeta(e);kn(r,n),gS(r,n)}createColumn(e,n){this.metas.insert(e,n)}removeColumn(e,n){this.metas.remove(e,n)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return t1e(this.globalMeta.getMetaConstructor(),g1e).prototype}}function RB(t,e,n){return(e=p1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1e(t){var e=v1e(t,"string");return typeof e=="symbol"?e:e+""}function v1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class w1e{constructor(e){RB(this,"columnMeta",void 0),RB(this,"metas",new Qy(()=>this._createRow())),this.columnMeta=e}updateMeta(e,n,r){const i=this.getMeta(e,n);kn(i,r),gS(i,r)}createRow(e,n){this.metas.insert(e,n)}createColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).insert(e,n)}removeRow(e,n){this.metas.remove(e,n)}removeColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).remove(e,n)}getMeta(e,n,r){const i=this.metas.obtain(e).obtain(n);return r===void 0?i:i[r]}setMeta(e,n,r,i){var o;const s=this.metas.obtain(e).obtain(n);(o=s._automaticallyAssignedMetaProps)===null||o===void 0||o.delete(r),s[r]=i}removeMeta(e,n,r){const i=this.metas.obtain(e).obtain(n);delete i[r]}getMetas(){const e=[],n=Array.from(this.metas.values());for(let r=0;r<n.length;r++)we(n[r])&&e.push(...n[r].values());return e}getMetasAtRow(e){Wb(()=>Vb(e),"Expecting an unsigned number.");const n=new Map(this.metas);return n.has(e)?Array.from(n.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new Qy(e=>this._createMeta(e))}_createMeta(e){const n=this.columnMeta.getMetaConstructor(e);return new n}}class P3{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new o1e(e),this.tableMeta=new u1e(this.globalMeta),this.columnMeta=new m1e(this.globalMeta),this.cellMeta=new w1e(this.columnMeta),r.forEach(i=>new i(this)),this.globalMeta.updateMeta(n)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,n){this.columnMeta.updateMeta(e,n)}getCellMeta(e,n,r){const i=this.cellMeta.getMeta(e,n);return i.visualRow=r.visualRow,i.visualCol=r.visualColumn,i.row=e,i.col=n,r.skipMetaExtension||this.runLocalHooks("afterGetCellMeta",i),i}getCellMetaKeyValue(e,n,r){if(typeof r!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,n,r)}setCellMeta(e,n,r,i){this.cellMeta.setMeta(e,n,r,i)}updateCellMeta(e,n,r){this.cellMeta.updateMeta(e,n,r)}removeCellMeta(e,n,r){this.cellMeta.removeMeta(e,n,r)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,n)}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,n)}createColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,n),this.columnMeta.createColumn(e,n)}removeColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,n),this.columnMeta.removeColumn(e,n)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}It(P3,or);function EB(t,e,n,r){const{hotInstance:i,dataMap:o,dataSource:s,internalSource:a,source:l,metaManager:u,firstRun:c}=r,h=Fo(a),d=i.getSettings();Array.isArray(d.dataSchema)?i.dataType="array":Rt(d.dataSchema)?i.dataType="function":i.dataType="object",o&&o.destroy(),t=i.runHooks(`before${h}`,t,c,l);const f=new od(i,t,u);if(e(f),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){const g=f.getSchema();t=[];let m,p=0,y=0;for(p=0,y=d.startRows;p<y;p++)if((i.dataType==="object"||i.dataType==="function")&&d.dataSchema)m=Dr(g),t.push(m);else if(i.dataType==="array")m=Dr(g[0]),t.push(m);else{m=[];for(let b=0,T=d.startCols;b<T;b++)m.push(null);t.push(m)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(i.dataType="array"),d.data=t,f.dataSource=t,s.data=t,s.dataType=i.dataType,s.colToProp=f.colToProp.bind(f),s.propToCol=f.propToCol.bind(f),s.countCachedColumns=f.countCachedColumns.bind(f),n(f),i.runHooks(`after${h}`,t,c,l),c||(i.runHooks("afterChange",null,a),i.render()),i.getSettings().ariaTags&&Oe(i.rootElement,[UU(-1),IC(i.countCols()+(i.view?i.countRowHeaders():0))])}function xB(t,e,n){return(e=b1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b1e(t){var e=y1e(t,"string");return typeof e=="symbol"?e:e+""}function y1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C1e{constructor(e){var n=this;xB(this,"metaManager",void 0),xB(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",function(){return n.extendCellMeta(...arguments)}),de.getSingleton().add("beforeRender",r=>{r&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var n;const{row:r,col:i}=e;if((n=this.metaSyncMemo.get(r))!==null&&n!==void 0&&n.has(i))return;const{visualRow:o,visualCol:s}=e,a=this.metaManager.hot,l=a.colToProp(s);e.prop=l,a.runHooks("beforeGetCellMeta",o,s,e);const u=An(e,"type")?e.type:null;let c=Rt(e.cells)?e.cells(r,i,l):null;if(u)if(c){var h;c.type=(h=c.type)!==null&&h!==void 0?h:u}else c={type:u};c&&this.metaManager.updateCellMeta(r,i,c),a.runHooks("afterGetCellMeta",o,s,e),this.metaSyncMemo.has(r)||this.metaSyncMemo.set(r,new Set),this.metaSyncMemo.get(r).add(i)}}function S1e(t,e,n){_1e(t,e),e.set(t,n)}function _1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $x(t,e,n){return(e=R1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R1e(t){var e=E1e(t,"string");return typeof e=="symbol"?e:e+""}function E1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x1e(t,e){return t.get(T1e(t,e))}function T1e(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var TB=new WeakMap;class M1e{constructor(e){$x(this,"metaManager",void 0),$x(this,"usageTracker",new Set),$x(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(n){if(this.metaManager.hot.isRtl()&&n==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),S1e(this,TB,(n,r,i)=>{if(!i)throw new Error(`The \`${n}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,n)=>{const{initOnly:r,target:i,onChange:o}=e,s=typeof i=="string",a=s?i:n,l=`_${a}`;this.metaManager.globalMeta.meta[l]=this.metaManager.globalMeta.meta[a],o?(this.installPropWatcher(n,l,o),s&&this.installPropWatcher(i,l,o)):r&&(this.installPropWatcher(n,l,x1e(TB,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(n))})}installPropWatcher(e,n,r){const i=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[n]},set(o){const s=!i.usageTracker.has(e);i.usageTracker.add(e),r.call(i,e,o,s),this[n]=o},enumerable:!0,configurable:!0})}}function P1e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.rootElement,r=MB(t),i=MB(t);return r.addEventListener("focus",()=>e==null?void 0:e.onFocusFromTop()),i.addEventListener("focus",()=>e==null?void 0:e.onFocusFromBottom()),n.firstChild.before(r),n.lastChild.after(i),{activate(){t._registerTimeout(()=>{r.tabIndex=0,i.tabIndex=0},10)},deactivate(){t._registerTimeout(()=>{r.tabIndex=-1,i.tabIndex=-1},10)}}}function MB(t){const n=t.rootDocument.createElement("input");return n.type="text",n.name="__htFocusCatcher",n.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&Oe(n,[Km("Focus catcher")]),n}function O1e(t){const e=I1e(t);let n;const{activate:r,deactivate:i}=P1e(t,{onFocusFromTop(){var h;const d=(h=e(n))!==null&&h!==void 0?h:dM(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_above",d),t.selectCell(d.row,d.col)),t.listen()},onFocusFromBottom(){var h;const d=(h=e(n))!==null&&h!==void 0?h:fM(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_below",d),t.selectCell(d.row,d.col)),t.listen()}}),o={wrapped:!1,flipped:!1};let s=!0,a=!1,l=!1;t.addHook("afterListen",()=>i()),t.addHook("afterUnlisten",()=>r()),t.addHook("afterSelection",(h,d,f,g,m)=>{if(a&&(o.wrapped&&o.flipped||l)&&(l=!1,m.value=!0),s){var p;n=(p=t.getSelectedRangeLast())===null||p===void 0?void 0:p.highlight}}),t.addHook("beforeRowWrap",(h,d,f)=>{o.wrapped=!0,o.flipped=f});function u(){o.wrapped=!1,o.flipped=!1,t.deselectCell(),t.unlisten()}const c={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:dz,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([{...c,callback:()=>{const{tabNavigation:h}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!h&&(s=!1),h||(l=!0)},position:"before"},{...c,callback:h=>{const{tabNavigation:d,autoWrapRow:f}=t.getSettings();if(a=!1,s=!0,!d||!t.selection.isSelected()||f&&o.wrapped&&o.flipped||!f&&o.wrapped)return f&&o.wrapped&&o.flipped&&(n=h.shiftKey?dM(t):fM(t)),u(),!1;h.preventDefault()},position:"after"}])}function dM(t){const{rowIndexMapper:e,columnIndexMapper:n}=t,{navigableHeaders:r}=t.getSettings();let i=r&&t.countColHeaders()>0?-t.countColHeaders():0,o=r&&t.countRowHeaders()>0?-t.countRowHeaders():0;return i===0&&(i=e.getVisualFromRenderableIndex(i)),o===0&&(o=n.getVisualFromRenderableIndex(o)),i===null||o===null?null:t._createCellCoords(i,o)}function fM(t){var e,n;const{rowIndexMapper:r,columnIndexMapper:i}=t,{navigableHeaders:o}=t.getSettings();let s=r.getRenderableIndexesLength()-1,a=i.getRenderableIndexesLength()-1;if(s<0){if(!o||t.countColHeaders()===0)return null;s=-1}if(a<0){if(!o||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=r.getVisualFromRenderableIndex(s))!==null&&e!==void 0?e:s,(n=i.getVisualFromRenderableIndex(a))!==null&&n!==void 0?n:a)}function I1e(t){return e=>{if(!e)return null;const n=dM(t),r=fM(t);return e.col<n.col&&(e.col=n.col),e.col>r.col&&(e.col=r.col),e.row<n.row&&(e.row=n.row),e.row>r.row&&(e.row=r.row),e}}function rf(t){La(t)&&t.scrollIntoView({block:"nearest",inline:"nearest"})}function mS(t){const{selection:e,view:n}=t,r=t.getSelectedRangeLast(),i=e.getSelectionSource(),o=n.getFirstFullyVisibleColumn(),s=n.getLastFullyVisibleColumn(),a=r.getTopStartCorner().col,l=r.getBottomEndCorner().col,u=a<=o,c=l>=s,h=n.getFirstFullyVisibleRow(),d=n.getLastFullyVisibleRow(),f=r.getTopStartCorner().row,g=r.getBottomEndCorner().row,m=f<=h,p=g>=d;return{getComputedColumnTarget(y){return i==="mouse"||i==="keyboard"?y.col:u&&c?r.highlight.col:u?a:c?l:y.col},getComputedRowTarget(y){return i==="mouse"||i==="keyboard"?y.row:m&&p?r.highlight.row:m?f:p?g:y.row}}}function A1e(t){return e=>{const n=mS(t).getComputedColumnTarget(e);t.scrollViewportTo({col:n},()=>{const r=!!t.getSettings().colHeaders;rf(t.getCell(r?-1:0,n,!0))})}}function H1e(){return()=>{}}function k1e(t){return e=>{t.scrollViewportTo(e.toObject(),()=>{const{row:n,col:r}=t.getSelectedRangeLast().highlight;rf(t.getCell(n,r,!0))})}}function N1e(t){return e=>{const n=mS(t),r={row:n.getComputedRowTarget(e),col:n.getComputedColumnTarget(e)};t.scrollViewportTo(r,()=>{const{row:i,col:o}=r;rf(t.getCell(i,o,!0))})}}function D1e(t){return e=>{const n=mS(t),r={row:n.getComputedRowTarget(e),col:n.getComputedColumnTarget(e)};t.scrollViewportTo(r,()=>{const{row:i,col:o}=r;rf(t.getCell(i,o,!0))})}}function $1e(t){return e=>{const n=mS(t).getComputedRowTarget(e);t.scrollViewportTo({row:n},()=>{const r=!!t.getSettings().rowHeaders;rf(t.getCell(n,r?-1:0,!0))})}}function L1e(t){return e=>{const n=t.selection.getSelectionSource(),{row:r,col:i}=e,o=()=>{rf(t.getCell(r,i,!0))};if(r<0&&i>=0)t.scrollViewportTo({col:i},o);else if(i<0&&r>=0)t.scrollViewportTo({row:r},o);else{if(n==="mouse"&&(i===t.view.getLastPartiallyVisibleColumn()||r===t.view.getLastPartiallyVisibleRow()))return;t.scrollViewportTo({row:r,col:i},o)}}}function F1e(t){const{selection:e}=t;let n=!1,r=!1;return{resume(){r=!1},suspend(){r=!0},skipNextScrollCycle(){n=!0},scrollTo(i){var o;if(n||r){n=!1;return}let s;e.isFocusSelectionChanged()?s=k1e(t):e.isSelectedByCorner()?s=H1e():e.isSelectedByRowHeader()?s=$1e(t):e.isSelectedByColumnHeader()?s=A1e(t):e.getSelectedRange().size()===1&&e.isMultiple()?s=N1e(t):e.getSelectedRange().size()===1&&!e.isMultiple()?s=L1e(t):e.getSelectedRange().size()>1&&(s=D1e(t)),(o=s)===null||o===void 0||o(i)}}}const PB=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),ib=t=>t.map(e=>{const n=e.toLowerCase();return PB.has(n)?PB.get(n):n}).sort().join("+"),V1e=t=>t.split("+"),OB=new Map([[96,"numpad0"],[97,"numpad1"],[98,"numpad2"],[99,"numpad3"],[100,"numpad4"],[101,"numpad5"],[102,"numpad6"],[103,"numpad7"],[104,"numpad8"],[105,"numpad9"],[106,"multiply"],[107,"add"],[108,"decimal"],[109,"subtract"],[110,"decimal"],[111,"divide"],[112,"f1"],[113,"f2"],[114,"f3"],[115,"f4"],[116,"f5"],[117,"f6"],[118,"f7"],[119,"f8"],[120,"f9"],[121,"f10"],[122,"f11"],[123,"f12"],[186,"semicolon"],[187,"equal"],[188,"comma"],[189,"minus"],[190,"period"],[191,"slash"],[192,"backquote"],[219,"bracketleft"],[220,"backslash"],[221,"bracketright"],[222,"quote"]]),Lx=t=>{let{which:e,key:n}=t;if(OB.has(e))return OB.get(e);const r=String.fromCharCode(e).toLowerCase();return/^[a-z0-9]$/.test(r)?r:n.toLowerCase()},O3=Symbol("shortcut-context");function I3(t){return qe(t)&&t.__kindOf===O3}const W1e=t=>{const e=VC({errorIdExists:l=>`The "${l}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:l,callback:u,group:c,runOnlyIf:h=()=>!0,captureCtrl:d=!1,preventDefault:f=!0,stopPropagation:g=!1,relativeToGroup:m,position:p,forwardToContext:y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(en(c))throw new Error("You need to define the shortcut's group.");if(Rt(u)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(l)===!1)throw new Error(yt`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const b={callback:u,group:c,runOnlyIf:h,captureCtrl:d,preventDefault:f,stopPropagation:g};we(m)&&(b.relativeToGroup=m,b.position=p),I3(y)&&(b.forwardToContext=y),l.forEach(T=>{const E=ib(T);if(e.hasItem(E)){const I=e.getItem(E);let H=I.findIndex(U=>U.group===m);H!==-1?p==="before"?H-=1:H+=1:H=I.length,I.splice(H,0,b)}else e.addItem(E,[b])})},r=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.forEach(c=>{Xe(u,(h,d)=>{Object.prototype.hasOwnProperty.call(c,d)===!1&&(c[d]=u[d])}),n(c)})},i=l=>{const u=ib(l);e.removeItem(u)};return{__kindOf:O3,addShortcut:n,addShortcuts:r,getShortcuts:l=>{const u=ib(l),c=e.getItem(u);return we(c)?c.slice():[]},hasShortcut:l=>{const u=ib(l);return e.hasItem(u)},removeShortcutsByKeys:i,removeShortcutsByGroup:l=>{e.getItems().forEach(c=>{let[h,d]=c;const f=d.filter(g=>g.group!==l);f.length===0?i(V1e(h)):(d.length=0,d.push(...f))})}}};function B1e(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const j1e=["meta","alt","shift","control"],bg=B1e(),yg=[];let ob=0;function U1e(t,e,n,r,i){const o=f=>j1e.includes(f),s=function(f){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const m=[];return f.altKey&&m.push("alt"),g&&(f.ctrlKey||f.metaKey)?m.push("control/meta"):(f.ctrlKey&&m.push("control"),f.metaKey&&m.push("meta")),f.shiftKey&&m.push("shift"),m},a=f=>{if(e(f)===!1||n(f)===!1||f.keyCode===229||typeof f.key!="string"||ic(f))return;const m=Lx(f);let p=[];o(m)||(p=s(f));const y=[m].concat(p);!i(f,y)&&(XD()&&p.includes("meta")||!XD()&&p.includes("control"))&&i(f,[m].concat(s(f,!0))),r(f)},l=f=>{if(typeof f.key=="string"){const g=Lx(f);o(g)&&bg.press(g)}},u=f=>{if(typeof f.key=="string"){const g=Lx(f);o(g)&&bg.release(g)}},c=()=>{bg.releaseAll()};return{mount:()=>{let f=t;for(ob+=1;f;)ob===1&&(f.document.documentElement.addEventListener("keydown",l),yg.push({event:"keydown",listener:l}),f.document.documentElement.addEventListener("keyup",u),yg.push({event:"keyup",listener:u})),f.document.documentElement.addEventListener("keydown",a),f.document.documentElement.addEventListener("blur",c),f=Pd(f)},unmount:()=>{let f=t;for(ob-=1;f;){if(ob===0){for(let g=0;g<yg.length;g++){const{event:m,listener:p}=yg[g];f.document.documentElement.removeEventListener(m,p)}yg.length=0}f.document.documentElement.removeEventListener("keydown",a),f.document.documentElement.removeEventListener("blur",c),f=Pd(f)}},isPressed:f=>bg.isPressed(f),releasePressedKeys:()=>bg.releaseAll()}}const z1e=t=>{let{ownerWindow:e,handleEvent:n,beforeKeyDown:r,afterKeyDown:i}=t;const o=VC({errorIdExists:g=>`The "${g}" context name is already registered.`});let s="grid";const a=g=>{const m=W1e(g);return o.addItem(g,m),m},l=()=>s,u=g=>o.getItem(g),c=g=>{if(!o.hasItem(g))throw new Error(yt`You've tried to activate the "${g}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=g};let h=!1;const d=function(g,m){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l();const y=I3(p)?p:u(p);let b=!1;if(!y.hasShortcut(m))return b;const T=y.getShortcuts(m);for(let E=0;E<T.length;E++){const{callback:P,runOnlyIf:I,preventDefault:H,stopPropagation:U,captureCtrl:K,forwardToContext:j}=T[E];if(I(g)===!0){if(h=K,b=P(g,m)===!1,h=!1,H&&g.preventDefault(),U&&(jo(g),g.stopPropagation()),b)break;j&&d(g,m,j)}}return b},f=U1e(e,n,r,i,d);return f.mount(),{addContext:a,getActiveContextName:l,getContext:u,setActiveContextName:c,isCtrlPressed:()=>!h&&(f.isPressed("control")||f.isPressed("meta")),releasePressedKeys:()=>f.releasePressedKeys(),destroy:()=>f.unmount()}};function IB(t){const{classNames:e}=cte(t,/ht-theme-[a-zA-Z0-9_-]+/);return e.pop()}let Fx=null;const Vx=new Map;function A3(t,e){var n,r=this;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this;const s=new Vo(o);let a,l,u,c,h,d,f=!0;MMe(i)&&TMe(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const g=(n=e==null?void 0:e.layoutDirection)!==null&&n!==void 0?n:"inherit",m=["rtl","ltr"].includes(g)?g:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",m),this.isRtl=function(){return m==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},e.language=ZMe(e.language);const p=Object.fromEntries(Object.entries(e).filter(w=>{let[S]=w;return!(de.getSingleton().isRegistered(S)||de.getSingleton().isDeprecated(S))})),y=new P3(o,p,[C1e,M1e]),b=y.getTableMeta(),T=y.getGlobalMeta(),E=VC();this.container=this.rootDocument.createElement("div"),t.insertBefore(this.container,t.firstChild),Fb(this)&&(lee(e.licenseKey,t),Q(t,"ht-wrapper")),this.guid=`ht_${LU()}`,Vx.set(this.guid,this),this.columnIndexMapper=new ET,this.rowIndexMapper=new ET,this.columnIndexMapper.addLocalHook("indexesSequenceChange",w=>{o.runHooks("afterColumnSequenceChange",w)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",w=>{o.runHooks("afterRowSequenceChange",w)}),s.addEventListener(this.rootDocument.documentElement,"compositionstart",w=>{o.runHooks("beforeCompositionStart",w)}),l=new $Me(o),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);const P=w=>{const{row:S,col:C}=w;return o._createCellCoords(S>=0?o.rowIndexMapper.getRenderableFromVisualIndex(S):S,C>=0?o.columnIndexMapper.getRenderableFromVisualIndex(C):C)},I=w=>{const{row:S,col:C}=w;return o._createCellCoords(S>=0?o.rowIndexMapper.getVisualFromRenderableIndex(S):S,C>=0?o.columnIndexMapper.getVisualFromRenderableIndex(C):C)},H=(w,S)=>{const C=S>w?1:-1,F=Math.min(w,S),B=Math.max(w,S),k=o.rowIndexMapper.getNearestNotHiddenIndex(w,C);return k===null||C===1&&k>B||C===-1&&k<F?null:k>=0?o.rowIndexMapper.getRenderableFromVisualIndex(k):k},U=(w,S)=>{const C=S>w?1:-1,F=Math.min(w,S),B=Math.max(w,S),k=o.columnIndexMapper.getNearestNotHiddenIndex(w,C);return k===null||C===1&&k>B||C===-1&&k<F?null:k>=0?o.columnIndexMapper.getRenderableFromVisualIndex(k):k};let K=new uG(b,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:w=>a.propToCol(w),isEditorOpened:()=>o.getActiveEditor()?o.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return r.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return r.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(w,S)=>o._createCellCoords(w,S),createCellRange:(w,S,C)=>o._createCellRange(w,S,C),visualToRenderableCoords:P,renderableToVisualCoords:I,findFirstNonHiddenRenderableRow:H,findFirstNonHiddenRenderableColumn:U,isDisabledCellSelection:(w,S)=>w<0||S<0?o.getSettings().disableVisualSelection:o.getCellMeta(w,S).disableVisualSelection});this.selection=K;const j=w=>{let{hiddenIndexesChanged:S}=w;this.forceFullRender=!0,S&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",j),this.rowIndexMapper.addLocalHook("cacheUpdated",j),this.selection.addLocalHook("afterSetRangeEnd",(w,S)=>{const C=Ei(!1),F=this.selection.getSelectedRange(),{from:B,to:k}=F.current(),Y=F.size()-1;this.runHooks("afterSelection",B.row,B.col,k.row,k.col,C,Y),this.runHooks("afterSelectionByProp",B.row,o.colToProp(B.col),k.row,o.colToProp(k.col),C,Y),S&&(!C.isTouched()||C.isTouched()&&!C.value)&&d.scrollTo(w);const G=K.isSelectedByRowHeader(),R=K.isSelectedByColumnHeader();G&&R?Q(this.rootElement,["ht__selection--rows","ht__selection--columns"]):G?(xe(this.rootElement,"ht__selection--columns"),Q(this.rootElement,"ht__selection--rows")):R?(xe(this.rootElement,"ht__selection--rows"),Q(this.rootElement,"ht__selection--columns")):xe(this.rootElement,["ht__selection--rows","ht__selection--columns"]),K.getSelectionSource()!=="shift"&&c.closeEditor(null),o.view.render(),c.prepareEditor()}),this.selection.addLocalHook("beforeSetFocus",w=>{this.runHooks("beforeSelectionFocusSet",w.row,w.col)}),this.selection.addLocalHook("afterSetFocus",w=>{const S=Ei(!1);this.runHooks("afterSelectionFocusSet",w.row,w.col,S),(!S.isTouched()||S.isTouched()&&!S.value)&&d.scrollTo(w),c.closeEditor(),o.view.render(),c.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",w=>{const S=w.length-1,{from:C,to:F}=w[S];this.runHooks("afterSelectionEnd",C.row,C.col,F.row,F.col,S),this.runHooks("afterSelectionEndByProp",C.row,o.colToProp(C.col),F.row,o.colToProp(F.col),S)}),this.selection.addLocalHook("afterIsMultipleSelection",w=>{const S=this.runHooks("afterIsMultipleSelection",w.value);w.value&&(w.value=S)}),this.selection.addLocalHook("afterDeselect",()=>{c.closeEditor(),o.view.render(),xe(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("beforeSetRangeStart",...S)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("beforeSetRangeStartOnly",...S)}).addLocalHook("beforeSetRangeEnd",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("beforeSetRangeEnd",...S)}).addLocalHook("beforeSelectColumns",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("beforeSelectColumns",...S)}).addLocalHook("afterSelectColumns",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("afterSelectColumns",...S)}).addLocalHook("beforeSelectRows",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("beforeSelectRows",...S)}).addLocalHook("afterSelectRows",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("afterSelectRows",...S)}).addLocalHook("beforeModifyTransformStart",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("modifyTransformStart",...S)}).addLocalHook("afterModifyTransformStart",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("afterModifyTransformStart",...S)}).addLocalHook("beforeModifyTransformFocus",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("modifyTransformFocus",...S)}).addLocalHook("afterModifyTransformFocus",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("afterModifyTransformFocus",...S)}).addLocalHook("beforeModifyTransformEnd",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("modifyTransformEnd",...S)}).addLocalHook("afterModifyTransformEnd",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("afterModifyTransformEnd",...S)}).addLocalHook("beforeRowWrap",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("beforeRowWrap",...S)}).addLocalHook("beforeColumnWrap",function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return r.runHooks("beforeColumnWrap",...S)}).addLocalHook("insertRowRequire",w=>this.alter("insert_row_above",w,1,"auto")).addLocalHook("insertColRequire",w=>this.alter("insert_col_start",w,1,"auto")),u={alter(w,S){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=arguments.length>3?arguments[3]:void 0,B=arguments.length>4?arguments[4]:void 0;const k=Y=>{if(Y.length===0)return[];const G=[...Y];return G.sort((M,v)=>{let[_]=M,[x]=v;return _===x?0:_>x?1:-1}),li(G,(M,v)=>{let[_,x]=v;const A=M[M.length-1],[D,O]=A,N=D+O;if(_<=N){const L=Math.max(x-(N-_),0);A[1]+=L}else M.push([_,x]);return M},[G[0]])};switch(w){case"insert_row_below":case"insert_row_above":const Y=o.countSourceRows();if(b.maxRows===Y)return;const G=w==="insert_row_below"?"below":"above";S=S??(G==="below"?Y:0);const{delta:R,startPhysicalIndex:M}=a.createRow(S,C,{source:F,mode:G});K.shiftRows(o.toVisualRow(M),R);break;case"insert_col_start":case"insert_col_end":const v=w==="insert_col_end"?"end":"start";S=S??(v==="end"?o.countSourceCols():0);const{delta:_,startPhysicalIndex:x}=a.createCol(S,C,{source:F,mode:v});if(_){if(Array.isArray(b.colHeaders)){const O=[o.toVisualColumn(x),0];O.length+=_,Array.prototype.splice.apply(b.colHeaders,O)}K.shiftColumns(o.toVisualColumn(x),_)}break;case"remove_row":const A=O=>{let N=0;W(O,L=>{let[$,V]=L;const J=bn($)?o.countRows()-1:Math.max($-N,0);if(Number.isInteger($)&&($=Math.max($-N,0)),!a.removeRow($,V,F))return;if(K.isSelected()){const{row:ge}=o.getSelectedRangeLast().highlight;ge>=$&&ge<=$+V-1&&c.closeEditor(!0)}const oe=o.countRows(),ue=b.fixedRowsTop;ue>=J+1&&(b.fixedRowsTop-=Math.min(V,ue-J));const me=b.fixedRowsBottom;me&&J>=oe-me&&(b.fixedRowsBottom-=Math.min(V,me)),oe===0?K.deselect():F==="ContextMenu.removeRow"?K.refresh():K.shiftRows($,-V),N+=V})};Array.isArray(S)?A(k(S)):A([[S,C]]);break;case"remove_col":const D=O=>{let N=0;W(O,L=>{let[$,V]=L;const J=bn($)?o.countCols()-1:Math.max($-N,0);let X=o.toPhysicalColumn(J);if(Number.isInteger($)&&($=Math.max($-N,0)),!a.removeCol($,V,F))return;if(K.isSelected()){const{col:ge}=o.getSelectedRangeLast().highlight;ge>=$&&ge<=$+V-1&&c.closeEditor(!0)}o.countCols()===0?K.deselect():F==="ContextMenu.removeColumn"?K.refresh():K.shiftColumns($,-V);const me=b.fixedColumnsStart;me>=J+1&&(b.fixedColumnsStart-=Math.min(V,me-J)),Array.isArray(b.colHeaders)&&(typeof X>"u"&&(X=-1),b.colHeaders.splice(X,V)),N+=V})};Array.isArray(S)?D(k(S)):D([[S,C]]);break;default:throw new Error(`There is no such action "${w}"`)}B||u.adjustRowsAndCols(),o.view.render(),o.view.adjustElementsSize()},adjustRowsAndCols(){const w=b.minRows,S=b.minSpareRows,C=b.minCols,F=b.minSpareCols;if(w){const B=o.countRows();B<w&&a.createRow(B,w-B,{source:"auto"})}if(S){const B=o.countEmptyRows(!0);if(B<S){const k=S-B,Y=Math.min(k,b.maxRows-o.countSourceRows());a.createRow(o.countRows(),Y,{source:"auto"})}}{let B;(C||F)&&(B=o.countEmptyCols(!0));let k=o.countCols();if(C&&!b.columns&&k<C){const Y=C-k;B+=Y,a.createCol(k,Y,{source:"auto"})}if(F&&!b.columns&&o.dataType==="array"&&B<F){k=o.countCols();const Y=F-B,G=Math.min(Y,b.maxCols-k);a.createCol(k,G,{source:"auto"})}}},populateFromArray(w,S,C,F,B){let k,Y,G,R;const M=[],v={},_=[],x=w.row,A=w.col;if(Y=S.length,Y===0)return!1;let D=0,O=0;switch(qe(C)&&(D=C.col-A+1,O=C.row-x+1),B){case"shift_down":const N=pb(S),L=N.length,$=Math.max(L,D),V=o.getData().slice(x),J=pb(V).slice(A,A+$);for(G=0;G<$;G+=1)if(G<L){for(k=0,Y=N[G].length;k<O-Y;k+=1)N[G].push(N[G][k%Y]);G<J.length?_.push(N[G].concat(J[G])):_.push(N[G].concat(new Array(V.length).fill(null)))}else _.push(N[G%L].concat(J[G]));o.populateFromArray(x,A,pb(_));break;case"shift_right":const X=S.length,oe=Math.max(X,O),ue=o.getData().slice(x).map(vt=>vt.slice(A));for(k=0;k<oe;k+=1)if(k<X){for(G=0,R=S[k].length;G<D-R;G+=1)S[k].push(S[k][G%R]);if(k<ue.length)for(let vt=0;vt<ue[k].length;vt+=1)S[k].push(ue[k][vt]);else S[k].push(...new Array(ue[0].length).fill(null))}else S.push(S[k%Y].slice(0,oe).concat(ue[k]));o.populateFromArray(x,A,S);break;case"overwrite":default:v.row=w.row,v.col=w.col;let me=0,ge=0,ve=!0,Ze;const Lt=function(rn){let je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const et=S[rn%S.length];return je!==null?et[je%et.length]:et},Mn=S.length,nn=C?C.row-w.row+1:0;for(C?Y=nn:Y=Math.max(Mn,nn),k=0;k<Y&&!(C&&v.row>C.row&&nn>Mn||!b.allowInsertRow&&v.row>o.countRows()-1||v.row>=b.maxRows);k++){const vt=k-me,rn=Lt(vt).length,je=C?C.col-w.col+1:0;if(C?R=je:R=Math.max(rn,je),v.col=w.col,Ze=o.getCellMeta(v.row,v.col),(F==="CopyPaste.paste"||F==="Autofill.fill")&&Ze.skipRowOnPaste){me+=1,v.row+=1,Y+=1;continue}for(ge=0,G=0;G<R&&!(C&&v.col>C.col&&je>rn||!b.allowInsertColumn&&v.col>o.countCols()-1||v.col>=b.maxCols);G++){if(Ze=o.getCellMeta(v.row,v.col),(F==="CopyPaste.paste"||F==="Autofill.fill")&&Ze.skipColumnOnPaste){ge+=1,v.col+=1,R+=1;continue}if(Ze.readOnly&&F!=="UndoRedo.undo"){v.col+=1;continue}const et=G-ge;let Ue=Lt(vt,et),Pi=o.getDataAtCell(v.row,v.col);if(Ue!==null&&typeof Ue=="object")if(Array.isArray(Ue)&&Pi===null&&(Pi=[]),Pi===null||typeof Pi!="object")ve=!1;else{const ru=Gm(Array.isArray(Pi)?Pi:Pi[0]||Pi),iu=Gm(Array.isArray(Ue)?Ue:Ue[0]||Ue);S1(ru,iu)||Array.isArray(ru)&&Array.isArray(iu)?Ue=Dr(Ue):ve=!1}else Pi!==null&&typeof Pi=="object"&&(ve=!1);ve&&M.push([v.row,v.col,Ue]),ve=!0,v.col+=1}v.row+=1}o.setDataAtCell(M,null,null,F||"populateFromArray");break}}};function q(w){const S=C3(w);FI(S)?(o.runHooks("beforeLanguageChange",S),T.language=S,o.runHooks("afterLanguageChange",S)):S3(w)}function Z(w,S){const C=w==="className"?o.rootElement:o.table;if(f)Q(C,S);else{let F=[],B=[];T[w]&&(F=Array.isArray(T[w])?T[w]:_D(T[w])),S&&(B=Array.isArray(S)?S:_D(S));const k=SD(F,B),Y=SD(B,F);k.length&&xe(C,k),Y.length&&Q(C,Y)}T[w]=S}this.init=function(){l.setData(b.data),o.runHooks("beforeInit"),(Ma()||uz())&&Q(o.rootElement,"mobile"),this.updateSettings(e,!0),this.view=new AMe(this);const w=b.themeName||IB(o.rootElement);o.useTheme(w),o.view.addClassNameToLicenseElement(o.getCurrentThemeName()),c=cM.getInstance(o,b,K),d=F1e(o),h=new RMe(o),Fb(this)&&O1e(o),o.runHooks("init"),this.render(),f&&o.rootElement.offsetParent===null&&wte(o.rootElement,()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.render(),o.view.adjustElementsSize()}),typeof f=="object"&&(o.runHooks("afterChange",f[0],f[1]),f=!1),o.runHooks("afterInit")};function ie(){let w=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,w=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&w===!1&&(w=!0,this.onQueueEmpty(this.valid))}}}function ee(w){const S=w.replace(",",".");return isNaN(parseFloat(S))===!1?parseFloat(S):w}function re(w,S,C){if(!w.length){C();return}const F=o.getActiveEditor(),B=new ie;let k=!0;B.onQueueEmpty=()=>{F&&k&&F.cancelChanges(),C()};for(let Y=w.length-1;Y>=0;Y--){const[G,R]=w[Y],M=a.propToCol(R);let v;Number.isInteger(M)?v=o.getCellMeta(G,M):v={...Object.getPrototypeOf(b),...b},o.getCellValidator(v)&&(B.addValidatorToQueue(),o.validateCell(w[Y][3],v,function(_,x){return function(A){if(typeof A!="boolean")throw new Error("Validation error: result is not boolean");A===!1&&x.allowInvalid===!1&&(k=!1,w.splice(_,1),x.valid=!0),B.removeValidatorFormQueue()}}(Y,v),S))}B.checkIfQueueIsEmpty()}function pe(w,S){for(let F=w.length-1;F>=0;F--){let B=!1;if(w[F]===null){w.splice(F,1);continue}if(!((w[F][2]===null||w[F][2]===void 0)&&(w[F][3]===null||w[F][3]===void 0))){if(b.allowInsertRow)for(;w[F][0]>o.countRows()-1;){const{delta:k}=a.createRow(void 0,void 0,{source:"auto"});if(k===0){B=!0;break}}if(o.dataType==="array"&&(!b.columns||b.columns.length===0)&&b.allowInsertColumn)for(;a.propToCol(w[F][1])>o.countCols()-1;){const{delta:k}=a.createCol(void 0,void 0,{source:"auto"});if(k===0){B=!0;break}}B||a.set(w[F][0],w[F][1],w[F][3])}}if(w.length>0){u.adjustRowsAndCols(),o.runHooks("beforeChangeRender",w,S),c.closeEditor(),o.render(),c.prepareEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",w,S||"edit");const F=o.getActiveEditor();F&&we(F.refreshValue)&&F.refreshValue()}else o.render()}this._createCellCoords=function(w,S){return o.view._wt.createCellCoords(w,S)},this._createCellRange=function(w,S,C){return o.view._wt.createCellRange(w,S,C)},this.validateCell=function(w,S,C,F){let B=o.getCellValidator(S);function k(Y){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||S.hidden===!0){C(Y);return}const R=S.visualCol,M=S.visualRow,v=o.getCell(M,R,!0);if(v&&v.nodeName!=="TH"){const _=o.rowIndexMapper.getRenderableFromVisualIndex(M),x=o.columnIndexMapper.getRenderableFromVisualIndex(R);o.view._wt.getSetting("cellRenderer",_,x,v)}C(Y)}oee(B)&&(B=function(Y){return function(G,R){R(Y.test(G))}}(B)),Rt(B)?(w=o.runHooks("beforeValidate",w,S.visualRow,S.prop,F),o._registerImmediate(()=>{B.call(S,w,Y=>{o&&(Y=o.runHooks("afterValidate",Y,w,S.visualRow,S.prop,F),S.valid=Y,k(Y),o.runHooks("postAfterValidate",Y,w,S.visualRow,S.prop,F))})})):o._registerImmediate(()=>{S.valid=!0,k(S.valid,!1)})};function se(w,S,C){return Array.isArray(w)?w:[[w,S,C]]}function ce(w,S){const C=o.runHooks("beforeChange",w,S||"edit"),F=w.filter(k=>k!==null);if(C===!1||F.length===0){var B;return(B=o.getActiveEditor())===null||B===void 0||B.cancelChanges(),[]}for(let k=F.length-1;k>=0;k--){const[Y,G,,R]=F[k],M=a.propToCol(G);let v;Number.isInteger(M)?v=o.getCellMeta(Y,M):v={...Object.getPrototypeOf(b),...b};const{type:_,checkedTemplate:x,uncheckedTemplate:A}=v;if(_==="numeric"&&typeof R=="string"&&Lte(R)&&(F[k][3]=ee(R)),_==="checkbox"){const D=tn(R),O=D===tn(x),N=D===tn(A);(O||N)&&(F[k][3]=O?x:A)}}return F}this.setDataAtCell=function(w,S,C,F){const B=se(w,S,C),k=[];let Y=F,G,R,M;for(G=0,R=B.length;G<R;G++){if(typeof B[G]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof B[G][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");B[G][1]>=this.countCols()?M=B[G][1]:M=a.colToProp(B[G][1]),k.push([B[G][0],M,l.getAtCell(this.toPhysicalRow(B[G][0]),B[G][1]),B[G][2]])}!Y&&typeof w=="object"&&(Y=S);const v=ce(k,Y);o.runHooks("afterSetDataAtCell",v,Y),re(v,Y,()=>{pe(v,Y)})},this.setDataAtRowProp=function(w,S,C,F){const B=se(w,S,C),k=[];let Y=F,G,R;for(G=0,R=B.length;G<R;G++)k.push([B[G][0],B[G][1],l.getAtCell(this.toPhysicalRow(B[G][0]),B[G][1]),B[G][2]]);!Y&&typeof w=="object"&&(Y=S);const M=ce(k,F);o.runHooks("afterSetDataAtRowProp",M,Y),re(M,Y,()=>{pe(M,Y)})},this.listen=function(){o&&!o.isListening()&&(Vx.forEach(w=>{o!==w&&w.unlisten()}),Fx=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(Fx=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return Fx===o.guid},this.destroyEditor=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c.closeEditor(w),o.view.render(),S&&K.isSelected()&&c.prepareEditor()},this.populateFromArray=function(w,S,C,F,B,k,Y){if(!(typeof C=="object"&&typeof C[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");const G=typeof F=="number"?o._createCellCoords(F,B):null;return u.populateFromArray(o._createCellCoords(w,S),C,G,k,Y)},this.spliceCol=function(w,S,C){for(var F=arguments.length,B=new Array(F>3?F-3:0),k=3;k<F;k++)B[k-3]=arguments[k];return a.spliceCol(w,S,C,...B)},this.spliceRow=function(w,S,C){for(var F=arguments.length,B=new Array(F>3?F-3:0),k=3;k<F;k++)B[k-3]=arguments[k];return a.spliceRow(w,S,C,...B)},this.getSelected=function(){if(K.isSelected())return nt(K.getSelectedRange(),w=>{let{from:S,to:C}=w;return[S.row,S.col,C.row,C.col]})},this.getSelectedLast=function(){const w=this.getSelected();let S;return w&&w.length>0&&(S=w[w.length-1]),S},this.getSelectedRange=function(){if(K.isSelected())return Array.from(K.getSelectedRange())},this.getSelectedRangeLast=function(){const w=this.getSelectedRange();let S;return w&&w.length>0&&(S=w[w.length-1]),S},this.emptySelectedCells=function(w){if(!K.isSelected()||this.countRows()===0||this.countCols()===0)return;const S=[];W(K.getSelectedRange(),C=>{if(C.isSingleHeader())return;const F=C.getTopStartCorner(),B=C.getBottomEndCorner();Ce(F.row,B.row,k=>{Ce(F.col,B.col,Y=>{this.getCellMeta(k,Y).readOnly||S.push([k,Y,null])})})}),S.length>0&&this.setDataAtCell(S,w)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const w=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(w,0),!this.isRenderSuspended()&&w===this.renderSuspendedCounter&&o.view.render()},this.render=function(){this.view&&(this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(w){this.suspendRender();const S=w();return this.resumeRender(),S},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const S=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(S,0),(!this.isExecutionSuspended()&&S===this.executionSuspendedCounter||w)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(w){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();const C=w();return this.resumeExecution(S),C},this.batch=function(w){this.suspendRender(),this.suspendExecution();const S=w();return this.resumeExecution(),this.resumeRender(),S},this.refreshDimensions=function(){if(!o.view)return;const w=o.view,{width:S,height:C}=w.getLastSize(),{width:F,height:B}=o.rootElement.getBoundingClientRect(),k=F!==S||B!==C;o.runHooks("beforeRefreshDimensions",{width:S,height:C},{width:F,height:B},k)!==!1&&((k||w._wt.wtOverlays.scrollableElement===o.rootWindow)&&(w.setLastSize(F,B),o.render(),w.adjustElementsSize()),o.runHooks("afterRefreshDimensions",{width:S,height:C},{width:F,height:B},k))},this.updateData=function(w,S){EB(w,C=>{a=C},C=>{a=C,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),u.adjustRowsAndCols(),K.refresh()},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"updateData",source:S,metaManager:y,firstRun:f})},this.loadData=function(w,S){EB(w,C=>{a=C},()=>{y.clearCellsCache(),o.initIndexMappers(),u.adjustRowsAndCols(),K.refresh(),f&&(f=[null,"loadData"])},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"loadData",source:S,metaManager:y,firstRun:f})},this.getInitialColumnCount=function(){const w=b.columns;let S=0;if(Array.isArray(w))S=w.length;else if(Rt(w))if(o.dataType==="array"){const C=this.countSourceCols();for(let F=0;F<C;F+=1)w(F)&&(S+=1)}else(o.dataType==="object"||o.dataType==="function")&&(S=a.colToPropCache.length);else if(we(b.dataSchema)){const C=a.getSchema();S=Array.isArray(C)?C.length:_1(C)}else S=this.countSourceCols();return S},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(w,S,C,F){return en(w)?a.getAll():a.getRange(o._createCellCoords(w,S),o._createCellCoords(C,F),a.DESTINATION_RENDERER)},this.getCopyableText=function(w,S,C,F){return a.getCopyableText(o._createCellCoords(w,S),o._createCellCoords(C,F))},this.getCopyableData=function(w,S){return a.getCopyable(w,a.colToProp(S))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(w){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const C=(f?o.loadData:o.updateData).bind(this);let F=!1,B,k;if(we(w.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(we(w.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(we(w.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');w.language&&q(w.language);for(B in w)if(!(B==="data"||B==="language"))if(B==="className")Z("className",w.className);else if(B==="tableClassName"&&o.table)Z("tableClassName",w.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames();else if(de.getSingleton().isRegistered(B)||de.getSingleton().isDeprecated(B)){const v=w[B];Rt(v)?(de.getSingleton().addAsFixed(B,v,o),b[B]=v):Array.isArray(v)&&(de.getSingleton().add(B,v,o),b[B]=v)}else!S&&An(w,B)&&(T[B]=w[B]);w.data===void 0&&b.data===void 0?C(null,"updateSettings"):w.data!==void 0?C(w.data,"updateSettings"):w.columns!==void 0&&(a.createMap(),o.initIndexMappers());const Y=o.countCols(),G=b.columns;if(G&&Rt(G)&&(F=!0),(w.cell!==void 0||w.cells!==void 0||w.columns!==void 0)&&y.clearCache(),Y>0)for(B=0,k=0;B<Y;B++){if(G){const v=F?G(B):G[k];v&&y.updateColumnMeta(k,v)}k+=1}we(w.cell)&&Xe(w.cell,v=>{o.setCellMetaObject(v.row,v.col,v)}),o.runHooks("afterCellMetaReset");let R=o.rootElement.style.height;R!==""&&(R=parseInt(o.rootElement.style.height,10));let M=w.height;if(Rt(M)&&(M=M()),S&&o.rootElement.getAttribute("style")&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style")),M===null){const v=o.rootElement.getAttribute("data-initialstyle");v&&(v.indexOf("height")>-1||v.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",v):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else M!==void 0&&(o.rootElement.style.height=isNaN(M)?`${M}`:`${M}px`,o.rootElement.style.overflow="hidden");if(typeof w.width<"u"){let v=w.width;Rt(v)&&(v=v()),o.rootElement.style.width=isNaN(v)?`${v}`:`${v}px`}if(!S){if(o.view){o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames();const v=o.getCurrentThemeName(),_=An(w,"themeName");v&&_&&v!==w.themeName&&(o.view.getStylesHandler().removeClassNames(),o.view.removeClassNameFromLicenseElement(v));const x=_&&w.themeName||IB(o.rootElement);o.useTheme(x),o.view.addClassNameToLicenseElement(o.getCurrentThemeName())}o.runHooks("afterUpdateSettings",w)}u.adjustRowsAndCols(),o.view&&!f&&(o.render(),o.view._wt.wtOverlays.adjustElementsSize()),!S&&o.view&&(R===""||M===""||M===void 0)&&R!==M&&o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const w=o.getSelectedLast();if(b.getValue){if(Rt(b.getValue))return b.getValue.call(o);if(w)return o.getData()[w[0][0]][b.getValue]}else if(w)return o.getDataAtCell(w[0],w[1])},this.getSettings=function(){return b},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(w,S,C,F,B){u.alter(w,S,C,F,B)},this.getCell=function(w,S){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,F=S,B=w;if(S>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(S)))return null;F=this.columnIndexMapper.getRenderableFromVisualIndex(S)}if(w>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(w)))return null;B=this.rowIndexMapper.getRenderableFromVisualIndex(w)}return B===null||F===null||B===void 0||F===void 0?null:o.view.getCellAtCoords(o._createCellCoords(B,F),C)},this.getCoords=function(w){const S=this.view._wt.wtTable.getCoords(w);if(S===null)return null;const{row:C,col:F}=S;let B=C,k=F;return C>=0&&(B=this.rowIndexMapper.getVisualFromRenderableIndex(C)),F>=0&&(k=this.columnIndexMapper.getVisualFromRenderableIndex(F)),o._createCellCoords(B,k)},this.colToProp=function(w){return a.colToProp(w)},this.propToCol=function(w){return a.propToCol(w)},this.toVisualRow=w=>this.rowIndexMapper.getVisualFromPhysicalIndex(w),this.toVisualColumn=w=>this.columnIndexMapper.getVisualFromPhysicalIndex(w),this.toPhysicalRow=w=>this.rowIndexMapper.getPhysicalFromVisualIndex(w),this.toPhysicalColumn=w=>this.columnIndexMapper.getPhysicalFromVisualIndex(w),this.getDataAtCell=function(w,S){return a.get(w,a.colToProp(S))},this.getDataAtRowProp=function(w,S){return a.get(w,S)},this.getDataAtCol=function(w){const S=[],C=a.getRange(o._createCellCoords(0,w),o._createCellCoords(b.data.length-1,w),a.DESTINATION_RENDERER);for(let F=0;F<C.length;F+=1)for(let B=0;B<C[F].length;B+=1)S.push(C[F][B]);return S},this.getDataAtProp=function(w){const S=[],C=a.getRange(o._createCellCoords(0,a.propToCol(w)),o._createCellCoords(b.data.length-1,a.propToCol(w)),a.DESTINATION_RENDERER);for(let F=0;F<C.length;F+=1)for(let B=0;B<C[F].length;B+=1)S.push(C[F][B]);return S},this.getSourceData=function(w,S,C,F){let B;return w===void 0?B=l.getData():B=l.getByRange(o._createCellCoords(w,S),o._createCellCoords(C,F)),B},this.getSourceDataArray=function(w,S,C,F){let B;return w===void 0?B=l.getData(!0):B=l.getByRange(o._createCellCoords(w,S),o._createCellCoords(C,F),!0),B},this.getSourceDataAtCol=function(w){return l.getAtColumn(w)},this.setSourceDataAtCell=function(w,S,C,F){const B=se(w,S,C),k=this.hasHook("afterSetSourceDataAtCell"),Y=[];k&&W(B,R=>{let[M,v,_]=R;Y.push([M,v,l.getAtCell(M,v),_])}),W(B,R=>{let[M,v,_]=R;l.setAtCell(M,v,_)}),k&&this.runHooks("afterSetSourceDataAtCell",Y,F),this.render();const G=o.getActiveEditor();G&&we(G.refreshValue)&&G.refreshValue()},this.getSourceDataAtRow=function(w){return l.getAtRow(w)},this.getSourceDataAtCell=function(w,S){return l.getAtCell(w,S)},this.getDataAtRow=function(w){return a.getRange(o._createCellCoords(w,0),o._createCellCoords(w,this.countCols()-1),a.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(w,S,C,F){const B=w===void 0?[0,0,this.countRows(),this.countCols()]:[w,S,C,F],[k,Y]=B;let[,,G,R]=B,M=null,v=null;G===void 0&&(G=k),R===void 0&&(R=Y);let _="mixed";return Ce(Math.max(Math.min(k,G),0),Math.max(k,G),x=>{let A=!0;return Ce(Math.max(Math.min(Y,R),0),Math.max(Y,R),D=>(v=this.getCellMeta(x,D).type,M?A=M===v:M=v,A)),_=A?v:"mixed",A}),_},this.removeCellMeta=function(w,S,C){const[F,B]=[this.toPhysicalRow(w),this.toPhysicalColumn(S)];let k=y.getCellMetaKeyValue(F,B,C);o.runHooks("beforeRemoveCellMeta",w,S,C,k)!==!1&&(y.removeCellMeta(F,B,C),o.runHooks("afterRemoveCellMeta",w,S,C,k)),k=null},this.spliceCellsMeta=function(w){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var C=arguments.length,F=new Array(C>2?C-2:0),B=2;B<C;B++)F[B-2]=arguments[B];if(F.length>0&&!Array.isArray(F[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");S>0&&y.removeRow(this.toPhysicalRow(w),S),F.length>0&&W(F.reverse(),k=>{y.createRow(this.toPhysicalRow(w)),W(k,(Y,G)=>this.setCellMetaObject(w,G,Y))}),o.render()},this.setCellMetaObject=function(w,S,C){typeof C=="object"&&Xe(C,(F,B)=>{this.setCellMeta(w,S,B,F)})},this.setCellMeta=function(w,S,C,F){if(o.runHooks("beforeSetCellMeta",w,S,C,F)===!1)return;let k=w,Y=S;w<this.countRows()&&(k=this.toPhysicalRow(w)),S<this.countCols()&&(Y=this.toPhysicalColumn(S)),y.setCellMeta(k,Y,C,F),o.runHooks("afterSetCellMeta",w,S,C,F)},this.getCellsMeta=function(){return y.getCellsMeta()},this.getCellMeta=function(w,S){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipMetaExtension:!1},F=this.toPhysicalRow(w),B=this.toPhysicalColumn(S);return F===null&&(F=w),B===null&&(B=S),y.getCellMeta(F,B,{visualRow:w,visualColumn:S,...C})},this.getColumnMeta=function(w){return y.getColumnMeta(this.toPhysicalColumn(w))},this.getCellMetaAtRow=function(w){return y.getCellsMetaAtRow(w)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||b.columns)},this.getCellRenderer=function(w,S){const C=typeof w=="number"?o.getCellMeta(w,S).renderer:w.renderer;return typeof C=="string"?D$(C):en(C)?D$("text"):C},this.getCellEditor=function(w,S){const C=typeof w=="number"?o.getCellMeta(w,S).editor:w.editor;return typeof C=="string"?E$(C):en(C)?E$("text"):C},this.getCellValidator=function(w,S){const C=typeof w=="number"?o.getCellMeta(w,S).validator:w.validator;return typeof C=="string"?woe(C):C},this.validateCells=function(w){this._validateCells(w)},this.validateRows=function(w,S){if(!Array.isArray(w))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(S,w)},this.validateColumns=function(w,S){if(!Array.isArray(w))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(S,void 0,w)},this._validateCells=function(w,S,C){const F=new ie;w&&(F.onQueueEmpty=w);let B=o.countRows()-1;for(;B>=0;){if(S!==void 0&&S.indexOf(B)===-1){B-=1;continue}let k=o.countCols()-1;for(;k>=0;){if(C!==void 0&&C.indexOf(k)===-1){k-=1;continue}F.addValidatorToQueue(),o.validateCell(o.getDataAtCell(B,k),o.getCellMeta(B,k),Y=>{if(typeof Y!="boolean")throw new Error("Validation error: result is not boolean");Y===!1&&(F.valid=!1),F.removeValidatorFormQueue()},"validateCells"),k-=1}B-=1}F.checkIfQueueIsEmpty()},this.getRowHeader=function(w){let S=b.rowHeaders,C=w;return C!==void 0&&(C=o.runHooks("modifyRowHeader",C)),C===void 0?(S=[],Ce(o.countRows()-1,F=>{S.push(o.getRowHeader(F))})):Array.isArray(S)&&S[C]!==void 0?S=S[C]:Rt(S)?S=S(C):S&&typeof S!="string"&&typeof S!="number"&&(S=C+1),S},this.hasRowHeaders=function(){return!!b.rowHeaders},this.hasColHeaders=function(){if(b.colHeaders!==void 0&&b.colHeaders!==null)return!!b.colHeaders;for(let w=0,S=o.countCols();w<S;w++)if(o.getColHeader(w))return!0;return!1},this.getColHeader=function(w){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const C=o.runHooks("modifyColHeader",w);if(C===void 0){const G=[],R=o.countCols();for(let M=0;M<R;M++)G.push(o.getColHeader(M));return G}let F=b.colHeaders;const B=function(G){const R=[],M=o.countCols();let v=0;for(;v<M;v++)Rt(b.columns)&&b.columns(v)&&R.push(v);return R[G]},k=o.toPhysicalColumn(C),Y=B(k);return b.colHeaders===!1?F=null:b.columns&&Rt(b.columns)&&b.columns(Y)&&b.columns(Y).title?F=b.columns(Y).title:b.columns&&b.columns[k]&&b.columns[k].title?F=b.columns[k].title:Array.isArray(b.colHeaders)&&b.colHeaders[k]!==void 0?F=b.colHeaders[k]:Rt(b.colHeaders)?F=b.colHeaders(k):b.colHeaders&&typeof b.colHeaders!="string"&&typeof b.colHeaders!="number"&&(F=Ppe(C)),F=o.runHooks("modifyColumnHeaderValue",F,w,S),F},this._getColWidthFromSettings=function(w){let S;if(w>=0&&(S=o.getCellMeta(0,w).width),(S===void 0||S===b.width)&&(S=b.colWidths),S!=null){switch(typeof S){case"object":S=S[w];break;case"function":S=S(w);break}typeof S=="string"&&(S=parseInt(S,10))}return S},this.getColWidth=function(w,S){let C=o._getColWidthFromSettings(w);return C=o.runHooks("modifyColWidth",C,w,S),C===void 0&&(C=Hd),C},this._getRowHeightFromSettings=function(w){const S=this.view.getDefaultRowHeight();let C=b.rowHeights;if(C!=null){switch(typeof C){case"object":C=C[w];break;case"function":C=C(w);break}typeof C=="string"&&(C=parseInt(C,10))}return C!=null&&C<S?S:C},this.getRowHeight=function(w,S){let C=o._getRowHeightFromSettings(w);return C=o.runHooks("modifyRowHeight",C,w,S),C},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){const w=b.maxCols,S=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(w,S)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=0;return t$(o.countRows()-1,C=>{if(o.isEmptyRow(C))S+=1;else if(w===!0)return!1}),S},this.countEmptyCols=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=0;return t$(o.countCols()-1,C=>{if(o.isEmptyCol(C))S+=1;else if(w===!0)return!1}),S},this.isEmptyRow=function(w){return b.isEmptyRow.call(o,w)},this.isEmptyCol=function(w){return b.isEmptyCol.call(o,w)},this.selectCell=function(w,S,C,F){let B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return en(w)||en(S)?!1:this.selectCells([[w,S,C,F]],B,k)},this.selectCells=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;S===!1&&d.suspend();const F=K.selectCells(w);return F&&C&&o.listen(),d.resume(),F},this.selectColumns=function(w){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,C=arguments.length>2?arguments[2]:void 0;return K.selectColumns(w,S,C)},this.selectRows=function(w){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,C=arguments.length>2?arguments[2]:void 0;return K.selectRows(w,S,C)},this.deselectCell=function(){K.deselect()},this.selectAll=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,C=arguments.length>2?arguments[2]:void 0;d.skipNextScrollCycle(),K.selectAll(w,S,C)};const He=(w,S)=>w.getNearestNotHiddenIndex(S,1,!0);this.scrollViewportTo=function(w,S){if(typeof w=="number"){var C;w={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(C=arguments[4])!==null&&C!==void 0?C:!0}}const{row:F,col:B,considerHiddenIndexes:k}=w??{};let Y=F,G=B;if(Rt(S)&&this.addHookOnce("afterScroll",S),k===void 0||k){const _=Number.isInteger(F)&&F>=0,x=Number.isInteger(B)&&B>=0,A=_?He(this.rowIndexMapper,F):void 0,D=x?He(this.columnIndexMapper,B):void 0;if(A===null||D===null)return!1;Y=_?o.rowIndexMapper.getRenderableFromVisualIndex(A):F,G=x?o.columnIndexMapper.getRenderableFromVisualIndex(D):B}const R=Number.isInteger(Y),M=Number.isInteger(G);let v=!1;return R&&Y>=0&&M&&G>=0?v=o.view.scrollViewport(o._createCellCoords(Y,G),w.horizontalSnap,w.verticalSnap):R&&Y>=0&&(M&&G<0||!M)?v=o.view.scrollViewportVertically(Y,w.verticalSnap):M&&G>=0&&(R&&Y<0||!R)&&(v=o.view.scrollViewportHorizontally(G,w.horizontalSnap)),Rt(S)&&(v?this.view.render():(this.removeHook("afterScroll",S),this._registerMicrotask(()=>S()))),v},this.scrollToFocusedCell=function(w){if(!this.selection.isSelected())return!1;Rt(w)&&this.addHookOnce("afterScroll",w);const{highlight:S}=this.getSelectedRangeLast(),C=this.scrollViewportTo(S.toObject());return C?this.view.render():Rt(w)&&(this.removeHook("afterScroll",w),this._registerMicrotask(()=>w())),C},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),y.clearCache(),Vx.delete(this.guid),Fb(o)){const w=this.rootDocument.querySelector(".hot-display-license-info");w&&w.parentNode.removeChild(w)}Va(o.rootElement),s.destroy(),c&&c.destroy(),o.batchExecution(()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),E.getItems().forEach(w=>{let[,S]=w;S.destroy()}),E.clear(),o.runHooks("afterDestroy")},!0),de.getSingleton().destroy(o),Xe(o,(w,S,C)=>{Rt(w)?C[S]=Ne(S):S!=="guid"&&(C[S]=null)}),o.isDestroyed=!0,a&&a.destroy(),a=null,u=null,K=null,c=null,o=null};function Ne(w){return()=>{throw new Error(`The "${w}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return c.getActiveEditor()},this.getFirstRenderedVisibleRow=function(){return o.view.getFirstRenderedVisibleRow()},this.getLastRenderedVisibleRow=function(){return o.view.getLastRenderedVisibleRow()},this.getFirstRenderedVisibleColumn=function(){return o.view.getFirstRenderedVisibleColumn()},this.getLastRenderedVisibleColumn=function(){return o.view.getLastRenderedVisibleColumn()},this.getFirstFullyVisibleRow=function(){return o.view.getFirstFullyVisibleRow()},this.getLastFullyVisibleRow=function(){return o.view.getLastFullyVisibleRow()},this.getFirstFullyVisibleColumn=function(){return o.view.getFirstFullyVisibleColumn()},this.getLastFullyVisibleColumn=function(){return o.view.getLastFullyVisibleColumn()},this.getFirstPartiallyVisibleRow=function(){return o.view.getFirstPartiallyVisibleRow()},this.getLastPartiallyVisibleRow=function(){return o.view.getLastPartiallyVisibleRow()},this.getFirstPartiallyVisibleColumn=function(){return o.view.getFirstPartiallyVisibleColumn()},this.getLastPartiallyVisibleColumn=function(){return o.view.getLastPartiallyVisibleColumn()},this.getPlugin=function(w){return E.getItem(Fo(w))},this.getPluginName=function(w){return w===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:E.getId(w)},this.getInstance=function(){return o},this.addHook=function(w,S,C){de.getSingleton().add(w,S,o,C)},this.hasHook=function(w){return de.getSingleton().has(w,o)||de.getSingleton().has(w)},this.addHookOnce=function(w,S,C){de.getSingleton().once(w,S,o,C)},this.removeHook=function(w,S){de.getSingleton().remove(w,S,o)},this.runHooks=function(w,S,C,F,B,k,Y){return de.getSingleton().run(o,w,S,C,F,B,k,Y)},this.getTranslatedPhrase=function(w,S){return T3(b.language,w,S)},this.toHTML=()=>sF(this),this.toTableElement=()=>{const w=this.rootDocument.createElement("div");return w.insertAdjacentHTML("afterbegin",sF(this)),w.firstElementChild},this.timeouts=[],this.useTheme=w=>{this.view.getStylesHandler().useTheme(w),this.runHooks("afterSetTheme",w,!!f)},this.getCurrentThemeName=()=>this.view.getStylesHandler().getThemeName(),this._registerTimeout=function(w){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=w;typeof C=="function"&&(C=setTimeout(C,S)),this.timeouts.push(C)},this._clearTimeouts=function(){W(this.timeouts,w=>{clearTimeout(w)})},this.immediates=[],this._registerImmediate=function(w){this.immediates.push(setImmediate(w))},this._clearImmediates=function(){W(this.immediates,w=>{clearImmediate(w)})},this._registerMicrotask=function(w){this.rootWindow.queueMicrotask(()=>{this.isDestroyed||w()})},this._getEditorManager=function(){return c};const Re=z1e({handleEvent(){return o.isListening()},beforeKeyDown:w=>this.runHooks("beforeKeyDown",w),afterKeyDown:w=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",w)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",w=>{w.ctrlKey===!1&&w.metaKey===!1&&Re.releasePressedKeys()}),this.getShortcutManager=function(){return Re},this.getFocusManager=function(){return h},Yz().forEach(w=>{const S=yO(w);E.addItem(w,new S(this))}),Dne(o),Re.setActiveContextName("grid"),de.getSingleton().run(o,"construct")}vo(Bz);xi.editors={BaseEditor:Zd};function xi(t,e){const n=new A3(t,e||{},LI);return n.init(),n}xi.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new A3(t,e,LI)};xi.DefaultSettings=M3();xi.hooks=de.getSingleton();xi.CellCoords=Pc;xi.CellRange=Bp;xi.packageName="handsontable";xi.buildDate="24/04/2025 10:59:00";xi.version="15.3.0";xi.languages={dictionaryKeys:UMe,getLanguageDictionary:x3,getLanguagesDictionaries:qMe,registerLanguageDictionary:E3,getTranslatedPhrase:T3};function Y1e(t,e,n){return(e=q1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){Y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1e(t){var e=K1e(t,"string");return typeof e=="symbol"?e:e+""}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}var Rd=Symbol("unassigned"),X1e="The Handsontable instance bound to this component was destroyed and cannot be used properly.";function eC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function H3(t){var e=xi.hooks.getRegistered(),n={};Object.assign(n,xi.DefaultSettings);for(var r in n)n[r]={default:Rd};for(var i=0;i<e.length;i++)n[e[i]]={default:Rd};return n.settings={default:Rd},t==="HotTable"&&(n.id={type:String,default:"hot-".concat(Math.random().toString(36).substring(5))}),n}function k3(t){var e={},n=t.settings;if(n!==Rd)for(var r in n)eC(n,r)&&n[r]!==Rd&&(e[r]=n[r]);for(var i in t)eC(t,i)&&i!=="settings"&&t[i]!==Rd&&(e[i]=t[i]);return e}function HB(t,e){var n=k3(t),r=t.settings?t.settings:n,i=t.settings?n:null,o={};for(var s in r)eC(r,s)&&r[s]!==void 0&&(!(e&&s!=="data")||!kB(e[s],r[s]))&&(o[s]=r[s]);for(var a in i)eC(i,a)&&a!=="id"&&a!=="settings"&&i[a]!==void 0&&(!(e&&a!=="data")||!kB(e[a],i[a]))&&(o[a]=i[a]);return o}function kB(t,e){var n=function(i){var o=function(){var s=new WeakSet;return function(a,l){if(Cm(l)==="object"&&l!==null){if(s.has(l))return;s.add(l)}return l}}();return JSON.stringify(i,o)};return typeof t=="function"&&typeof e=="function"?t.toString()===e.toString():Cm(t)!==Cm(e)?!1:n(t)===n(e)}var Z1e="15.3.0",VI=Vd({name:"HotTable",props:H3("HotTable"),provide:function(){return{columnsCache:this.columnsCache}},watch:{$props:{handler:function(e){var n=HB(e,this.hotInstance?this.hotInstance.getSettings():void 0);!this.hotInstance||n===void 0||(n.data&&(this.hotInstance.isColumnModificationAllowed()||!this.hotInstance.isColumnModificationAllowed()&&this.hotInstance.countSourceCols()===this.miscCache.currentSourceColumns)&&(this.matchHotMappersSize(),delete n.data),Object.keys(n).length?this.hotInstance.updateSettings(n):this.hotInstance.render(),this.miscCache.currentSourceColumns=this.hotInstance.countSourceCols())},deep:!0,immediate:!0}},data:function(){return{__hotInstance:null,miscCache:{currentSourceColumns:null},columnSettings:null,columnsCache:new Map,get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(console.warn(X1e),null)},set hotInstance(e){this.__hotInstance=e}}},methods:{hotInit:function(){var e=HB(this.$props);e.columns=this.columnSettings?this.columnSettings:e.columns,this.hotInstance=dj(new xi.Core(this.$el,e)),this.hotInstance.init(),this.miscCache.currentSourceColumns=this.hotInstance.countSourceCols()},matchHotMappersSize:function(){var e=this;if(this.hotInstance){var n=this.hotInstance.getSourceData(),r=[],i=[],o=this.hotInstance.rowIndexMapper.getNumberOfIndexes(),s=this.hotInstance.isColumnModificationAllowed(),a=0;if(n&&n.length!==o&&n.length<o)for(var l=n.length;l<o;l++)r.push(l);if(s){var u;if(a=this.hotInstance.columnIndexMapper.getNumberOfIndexes(),n&&n[0]&&((u=n[0])===null||u===void 0?void 0:u.length)!==a&&n[0].length<a)for(var c=n[0].length;c<a;c++)i.push(c)}this.hotInstance.batch(function(){r.length>0?e.hotInstance.rowIndexMapper.removeIndexes(r):e.hotInstance.rowIndexMapper.insertIndexes(o-1,n.length-o),s&&n.length!==0&&(i.length>0?e.hotInstance.columnIndexMapper.removeIndexes(i):e.hotInstance.columnIndexMapper.insertIndexes(a-1,n[0].length-a))})}},getColumnSettings:function(){var e=Array.from(this.columnsCache.values());return e.length?e:void 0}},mounted:function(){this.columnSettings=this.getColumnSettings(),this.hotInit()},beforeUnmount:function(){this.hotInstance&&this.hotInstance.destroy()},version:Z1e}),J1e=["id"];function Q1e(t,e,n,r,i,o){return Ae(),Ve("div",{id:t.id},[Zh(t.$slots,"default")],8,J1e)}VI.render=Q1e;VI.__file="src/HotTable.vue";var ePe=Vd({name:"HotColumn",props:H3("HotColumn"),inject:["columnsCache"],methods:{createColumnSettings:function(){var e=k3(this.$props),n=G1e({},e);e.renderer&&(n.renderer=e.renderer),e.editor&&(n.editor=e.editor),this.columnsCache.set(this,n)}},mounted:function(){this.createColumnSettings()},unmounted:function(){this.columnsCache.delete(this)},render:function(){return null}});ePe.__file="src/HotColumn.vue";const tPe={components:{HotTable:VI},props:["parsedLogs","hotSettings"],data(){return{currentPage:0,pageSize:100,localHotSettings:{...this.hotSettings,height:"calc(100vh - 350px)",width:"100%",renderAllRows:!1,viewportRowRenderingOffset:70,autoRowSize:!1,autoColumnSize:!1,rowHeights:50,currentRowClassName:"current-row",preventOverflow:"horizontal",outsideClickDeselects:!1,colWidths:[80,100,70,100,100,60,60,80,200,150,150,150],afterUpdateSettings:!0,afterRender:!0,afterChange:!0,columns:[{data:"timestamp",title:"Time"},{data:"level",title:"Level"},{data:"signature",title:"Signature",renderer:(t,e,n,r,i,o)=>(e.innerHTML=`<div class="truncate-cell" title="${o}">${o==null?void 0:o.substring(0,8)}...</div>`,e)},{data:"slot",title:"Slot"},{data:"programId",title:"Program",renderer:(t,e,n,r,i,o)=>(e.innerHTML=`<div class="truncate-cell" title="${o}">${o==null?void 0:o.substring(0,8)}...</div>`,e)},{data:"parentProgramId",title:"Parent",renderer:(t,e,n,r,i,o)=>(e.innerHTML=`<div class="truncate-cell" title="${o}">${o==null?void 0:o.substring(0,8)}...</div>`,e)},{data:"depth",title:"Depth"},{data:"instructionIndex",title:"Idx"},{data:"invokeResult",title:"Result"},{data:"logMessages",title:"Logs",renderer:(t,e,n,r,i,o)=>{try{const a=JSON.parse(o).join(`
`);e.innerHTML=`<div class="scrollable-cell" title="${a}">${a}</div>`}catch{e.innerHTML=`<div class="scrollable-cell">${o}</div>`}return e}},{data:"dataLogs",title:"Data",renderer:(t,e,n,r,i,o)=>(e.innerHTML=`<div class="scrollable-cell" title="${o}">${o}</div>`,e)},{data:"rawLogs",title:"Raw Logs",renderer:(t,e,n,r,i,o)=>{try{const a=JSON.parse(o).join(`
`);e.innerHTML=`<div class="scrollable-cell" title="${a}">${a}</div>`}catch{e.innerHTML=`<div class="scrollable-cell">${o}</div>`}return e}},{data:"errors",title:"Errors",renderer:(t,e,n,r,i,o)=>(e.innerHTML=`<div class="scrollable-cell" title="${o}">${o}</div>`,e)},{data:"transactionError",title:"TX Error",renderer:(t,e,n,r,i,o)=>(e.innerHTML=`<div class="scrollable-cell" title="${o}">${o}</div>`,e)}]}}},computed:{paginatedLogs(){const t=this.currentPage*this.pageSize;return this.parsedLogs.slice(t,t+this.pageSize)},totalPages(){return Math.ceil(this.parsedLogs.length/this.pageSize)}},methods:{nextPage(){this.currentPage<this.totalPages-1&&this.currentPage++},prevPage(){this.currentPage>0&&this.currentPage--},goToPage(t){t>=0&&t<this.totalPages&&(this.currentPage=t)}},watch:{paginatedLogs:{handler(t){this.$refs.hotTable&&this.$refs.hotTable.hotInstance.loadData(t)},deep:!0}}},nPe={class:"overflow-x-auto"},rPe={class:"pagination flex items-center justify-between p-4 bg-surface-50 border-t border-surface-200"},iPe={class:"text-sm text-surface-0"},oPe={class:"flex gap-2"},sPe=["disabled"],aPe=["disabled"],lPe={class:"hot"},uPe={class:"pagination flex items-center justify-between p-4 bg-surface-50 border-t border-surface-200"},cPe={class:"text-sm text-surface-600"},hPe={class:"flex gap-2"},dPe=["disabled"],fPe=["disabled"];function gPe(t,e,n,r,i,o){const s=Ps("hot-table");return Ae(),Ve("div",nPe,[te("div",rPe,[te("span",iPe," Showing "+wn(i.currentPage*i.pageSize+1)+" - "+wn(Math.min((i.currentPage+1)*i.pageSize,n.parsedLogs.length))+" of "+wn(n.parsedLogs.length)+" entries ",1),te("div",oPe,[te("button",{onClick:e[0]||(e[0]=(...a)=>o.prevPage&&o.prevPage(...a)),disabled:i.currentPage===0,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,sPe),te("button",{onClick:e[1]||(e[1]=(...a)=>o.nextPage&&o.nextPage(...a)),disabled:i.currentPage>=o.totalPages-1,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,aPe)])]),te("div",lPe,[qt(s,{data:o.paginatedLogs,settings:n.hotSettings,ref:"hotTable"},null,8,["data","settings"])]),te("div",uPe,[te("span",cPe," Showing "+wn(i.currentPage*i.pageSize+1)+" - "+wn(Math.min((i.currentPage+1)*i.pageSize,n.parsedLogs.length))+" of "+wn(n.parsedLogs.length)+" entries ",1),te("div",hPe,[te("button",{onClick:e[2]||(e[2]=(...a)=>o.prevPage&&o.prevPage(...a)),disabled:i.currentPage===0,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,dPe),te("button",{onClick:e[3]||(e[3]=(...a)=>o.nextPage&&o.nextPage(...a)),disabled:i.currentPage>=o.totalPages-1,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,fPe)])])])}const mPe=Xl(tPe,[["render",gPe]]);R_e();const sb=t=>typeof t=="object"?JSON.stringify(t,(e,n)=>typeof n=="string"?n.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):n):typeof t=="string"?t.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):t,pPe={name:"App",components:{Button:DM,ProgramIdForm:k_e,ProgramList:W_e,StatsGrid:hMe,LogsTable:mPe},setup(){return Sp(async()=>{await TK(),console.log("WASM Initialized")}),{}},data(){return{websockets:new Map,connectingWebsockets:new Set,receivingMessages:!1,newProgramId:"",programIds:[],environments:[{key:"Devnet",url:"wss://api.devnet.solana.com"},{key:"Testnet",url:"wss://api.testnet.solana.com"}],customUrl:"",selectedEnvironment:"wss://api.devnet.solana.com",onlyShowErrors:!1,parsedLogs:[],lastUpdateTime:"-",hotSettings:{columns:[{data:"timestamp",title:"Time",width:100,type:"text"},{data:"level",title:"Level",width:80,type:"text"},{data:"signature",title:"Signature",width:200,renderer:function(t,e,n,r,i,o,s){const a=document.createElement("a");return a.href=`https://solscan.io/tx/${o.signature}${o.linkSuffix}`,a.target="_blank",a.textContent=o.signature,e.innerHTML="",e.appendChild(a),e}},{data:"slot",title:"Slot",width:100,renderer:function(t,e,n,r,i,o,s){const a=document.createElement("a");return a.href=`https://solscan.io/block/${o.slot}${o.linkSuffix}`,a.target="_blank",a.textContent=o.slot,e.innerHTML="",e.appendChild(a),e}},{data:"programId",title:"Program ID",width:150,renderer:function(t,e,n,r,i,o,s){const a=document.createElement("a");return a.href=`https://solscan.io/account/${o.programId}${o.linkSuffix}`,a.target="_blank",a.textContent=o.programId,e.innerHTML="",e.appendChild(a),e}},{data:"parentProgramId",title:"Parent Program",width:150,renderer:function(t,e,n,r,i,o,s){const a=document.createElement("a");return a.href=`https://solscan.io/account/${o.parentProgramId}${o.linkSuffix}`,a.target="_blank",a.textContent=o.parentProgramId,e.innerHTML="",e.appendChild(a),e}},{data:"depth",title:"Depth",width:80,type:"numeric"},{data:"instructionIndex",title:"Index",width:80,type:"numeric"},{data:"invokeResult",title:"Result",width:100,type:"text"},{data:"logMessages",title:"Log Messages",width:300,type:"text"},{data:"rawLogs",title:"Raw Logs",width:300,type:"text"},{data:"dataLogs",title:"Data Logs",width:200,type:"text"},{data:"errors",title:"Errors",width:200,type:"text"},{data:"transactionError",title:"TX Error",width:200,type:"text"}],licenseKey:"non-commercial-and-evaluation",columnSorting:!0,filters:!0,dropdownMenu:!0,colHeaders:!0,rowHeaders:!0,width:"100%",manualRowResize:!0,manualColumnResize:!0,autoWrapRow:!0,autoWrapCol:!0,nestedRows:!1,contextMenu:!0,readOnly:!0}}},computed:{uniqueProgramsCount(){return new Set(this.parsedLogs.map(e=>e.programId)).size},getMobileOptimizedHotSettings(){const t={...this.hotSettings};return t.columns=t.columns.map(e=>{const n={...e};return window.innerWidth<768&&(n.width=Math.min(e.width,120),["logMessages","rawLogs","dataLogs","errors"].includes(e.data)&&(n.width=150)),n}),window.innerWidth<768&&(t.colHeaders=!0,t.rowHeaders=!1,t.contextMenu=!1,t.dropdownMenu=!1),t}},methods:{parseLog(t){let e="";this.selectedEnvironment.includes("dev")?e="?cluster=devnet":this.selectedEnvironment.includes("test")&&(e="?cluster=testnet");let n={signature:t.signature,linkSuffix:e},r={slot:t.slot,linkSuffix:e},i={programId:t.solana.program_id,linkSuffix:e},o={parentProgramId:t.solana.parent_program_id,linkSuffix:e};return{timestamp:new Date().toLocaleTimeString(),level:t.solana.transaction_error!==null&&t.solana.transaction_error!==""?"Error":"Info",signature:n,slot:r,programId:i,parentProgramId:o,depth:t.solana.depth,instructionIndex:t.solana.instruction_index,invokeResult:t.solana.invoke_result,logMessages:JSON.stringify(t.solana.log_messages),dataLogs:JSON.stringify(t.solana.data_logs),rawLogs:JSON.stringify(t.solana.raw_logs),errors:JSON.stringify(t.solana.errors),transactionError:t.solana.transaction_error||""}},extractProgramId(t){var n;const e=t.match(/Program (\w+) invoke/);return e?e[1]:((n=t.match(/Program (\w+) success/))==null?void 0:n[1])??null},determineStatus(t){return t.includes("success")?"Success":t.includes("failed")?"Failed":t.includes("invoke")?"Started":"Processing"},async addProgramId(){this.newProgramId&&!this.programIds.includes(this.newProgramId)&&(this.programIds.push(this.newProgramId),await this.connectWebSocketForProgram(this.newProgramId),this.newProgramId="")},async removeProgramId(t){const e=this.programIds[t];await this.disconnectWebSocketForProgram(e),this.programIds.splice(t,1)},handleCustomUrlChange(){this.customUrl&&this.customUrl.startsWith("wss://")?this.handleEnvironmentChange():(alert('Please enter a valid WebSocket URL starting with "wss://"'),this.customUrl="",this.selectedEnvironment="wss://api.devnet.solana.com")},async handleEnvironmentChange(){const t=this.selectedEnvironment==="custom"?this.customUrl:this.selectedEnvironment;console.log(`Switching to environment: ${t}`),this.websockets.size>0&&await this.reconnectToNewEnvironment()},getEnvironmentName(){var t;return this.selectedEnvironment==="custom"?"Custom":((t=this.environments.find(e=>e.url===this.selectedEnvironment))==null?void 0:t.key)||"Unknown"},async reconnectToNewEnvironment(){const t=[...this.programIds];await this.clearAll(),this.programIds=t,await this.startAllWebSockets()},updateTable(t){if(t.method==="logsNotification"){const e=new xK(["*"]),n=t.params.result.value.logs,r=t.params.result.context.slot,i=t.params.result.value.signature,o=t.params.result.value.err===null?null:t.params.result.value.err;try{const s=e.from_rpc_logs_response({signature:i,err:o,logs:n},BigInt(r));let a=[];s.forEach(l=>{const u={signature:sb(i),slot:r,solana:JSON.parse(sb(l))};u.solana.transaction_error!==null&&u.solana.transaction_error,(!this.onlyShowErrors||u.solana.transaction_error!==null&&u.solana.transaction_error!=="")&&a.push(u)});try{const l=a.map(u=>this.parseLog(u));this.parsedLogs.unshift(...l),this.parsedLogs=this.parsedLogs.slice(0,1e3),this.lastUpdateTime=new Date().toLocaleTimeString()}catch(l){console.error("Error parsing logs:",l)}}catch(s){console.log("Error parsing logs",{error:sb(s.message),signature:sb(i),slot:r})}}this.$refs.hotTable&&this.$refs.hotTable.hotInstance.render()},async startAllWebSockets(){console.log("Starting WebSockets for all programs");try{await this.disconnectWebSocket();const t=this.programIds.map(e=>this.connectWebSocketForProgram(e));await Promise.all(t),console.log("All WebSocket connections established")}catch(t){console.error("Error starting WebSocket connections:",t)}},async connectWebSocketForProgram(t){if(this.websockets.has(t)){console.log(`WebSocket already exists for program: ${t}`);return}const e=this.selectedEnvironment==="custom"?this.customUrl:this.selectedEnvironment;return console.log(`Connecting WebSocket for program: ${t} on ${e}`),this.connectingWebsockets.add(t),new Promise((n,r)=>{const i=new WebSocket(e),o=()=>{let s=!1;return a=>{var u,c;const l=JSON.parse(a.data);l.result!==void 0&&!s&&(s=!0,this.connectingWebsockets.delete(t),console.log(`Received first message for program: ${t}`)),(c=(u=l.params)==null?void 0:u.result)!=null&&c.value&&(this.receivingMessages=!0,this.lastUpdateTime=new Date().toLocaleTimeString(),this.updateTable(l))}};i.onopen=()=>{const s={jsonrpc:"2.0",id:Date.now(),method:"logsSubscribe",params:[{mentions:[t]},{commitment:"finalized",encoding:"json"}]};i.send(JSON.stringify(s)),console.log(`WebSocket connected and subscribed for program: ${t}`),this.websockets.set(t,i),n()},i.onmessage=o(),i.onerror=s=>{console.error(`WebSocket error for program ${t}:`,s),this.websockets.delete(t),this.connectingWebsockets.delete(t),r(s)},i.onclose=()=>{console.log(`WebSocket connection closed for program: ${t}`),this.websockets.delete(t),this.connectingWebsockets.delete(t)}})},async disconnectWebSocket(){console.log("Disconnecting all WebSockets");const t=Array.from(this.websockets.keys()).map(e=>this.disconnectWebSocketForProgram(e));await Promise.all(t),this.websockets.clear(),console.log("All WebSocket connections closed")},async disconnectWebSocketForProgram(t){const e=this.websockets.get(t);e&&await new Promise(n=>{e.onclose=()=>{console.log(`WebSocket disconnected for program: ${t}`),this.connectingWebsockets.delete(t),n()},e.close(),this.websockets.delete(t)})},async clearAll(){await this.disconnectWebSocket(),this.parsedLogs=[],this.programIds=[],this.lastUpdateTime="-",this.websockets.clear(),this.connectingWebsockets.clear(),console.log("Cleared all data and connections"),this.$refs.hotTable&&this.$refs.hotTable.hotInstance.render()},downloadLogs(){try{const t=new Date().toISOString().replace(/[:.]/g,"-"),e=this.getEnvironmentName(),n=`solana-logs-${e}-${t}.json`,r={metadata:{exportedAt:new Date().toISOString(),environment:e,url:this.selectedEnvironment==="custom"?this.customUrl:this.selectedEnvironment,programIds:this.programIds,totalLogs:this.parsedLogs.length},logs:this.parsedLogs},i=JSON.stringify(r,null,2),o=new Blob([i],{type:"application/json"}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),console.log(`Downloaded ${r.logs.length} logs to ${n}`)}catch(t){console.error("Error downloading logs:",t),alert("Error downloading logs. Check console for details.")}},watch:{selectedEnvironment(t){console.log(`Environment changed to: ${t}`)}}},beforeUnmount(){this.disconnectWebSocket()}},vPe={class:"container mx-auto p-4"},wPe={class:"space-y-4 mb-6"},bPe={class:"flex flex-col md:flex-row gap-4"},yPe=["value"],CPe={class:"grid grid-cols-2 md:flex gap-2 md:gap-4"},SPe=["disabled"],_Pe={key:0,class:"text-xs md:text-sm opacity-75"},RPe={class:"mb-6 overflow-x-auto"},EPe={class:"flex flex-wrap gap-2 min-w-min"},xPe={class:"truncate max-w-[150px] md:max-w-none"},TPe={key:0,class:"flex items-center gap-2"},MPe={key:1,class:"text-green-500 text-xs md:text-sm"},PPe={key:2,class:"text-green-500 text-xs md:text-sm"},OPe={key:3,class:"text-gray-500 text-xs md:text-sm"},IPe={class:"space-y-4 mb-6"},APe={class:"flex items-center gap-2 mb-4"},HPe={class:"overflow-x-auto"};function kPe(t,e,n,r,i,o){const s=Ps("ProgramIdForm"),a=Ps("ProgramList"),l=Ps("StatsGrid"),u=Ps("LogsTable");return Ae(),Ve("div",null,[te("div",vPe,[e[14]||(e[14]=te("h1",{class:"text-2xl font-bold mb-6 text-[var(--p-text-color)]"}," Solana Log Explorer ",-1)),e[15]||(e[15]=te("p",{class:"mb-6 text-[var(--p-text-color)]"}," Monitor and analyze Solana program logs in real-time across different networks. ",-1)),qt(s,{modelValue:i.newProgramId,"onUpdate:modelValue":e[0]||(e[0]=c=>i.newProgramId=c),onAddProgramId:o.addProgramId,class:"mb-4"},null,8,["modelValue","onAddProgramId"]),te("div",wPe,[te("div",bPe,[Wg(te("select",{"onUpdate:modelValue":e[1]||(e[1]=c=>i.selectedEnvironment=c),onChange:e[2]||(e[2]=(...c)=>o.handleEnvironmentChange&&o.handleEnvironmentChange(...c)),class:"px-4 py-2 border border-surface-200 rounded bg-surface-50 text-surface-800 w-full md:w-auto"},[e[10]||(e[10]=te("option",{value:"custom"},"Custom URL",-1)),(Ae(!0),Ve(Yn,null,fd(i.environments,c=>(Ae(),Ve("option",{key:c.key,value:c.url},wn(c.key),9,yPe))),128))],544),[[H5,i.selectedEnvironment]]),i.selectedEnvironment==="custom"?Wg((Ae(),Ve("input",{key:0,"onUpdate:modelValue":e[3]||(e[3]=c=>i.customUrl=c),onChange:e[4]||(e[4]=(...c)=>o.handleCustomUrlChange&&o.handleCustomUrlChange(...c)),type:"text",placeholder:"Enter WebSocket URL (wss://...)",class:"flex-1 px-4 py-2 border border-surface-200 rounded bg-surface-50 text-surface-800"},null,544)),[[qj,i.customUrl]]):Rc("",!0)]),te("div",CPe,[te("button",{onClick:e[5]||(e[5]=(...c)=>o.disconnectWebSocket&&o.disconnectWebSocket(...c)),class:"px-3 py-2 md:px-4 bg-red-500 text-white rounded hover:bg-red-600 text-sm md:text-base"}," Stop Logs "),te("button",{onClick:e[6]||(e[6]=(...c)=>o.startAllWebSockets&&o.startAllWebSockets(...c)),class:"px-3 py-2 md:px-4 bg-green-500 text-white rounded hover:bg-green-600 text-sm md:text-base flex items-center justify-center gap-2"}," Start Logs "),te("button",{onClick:e[7]||(e[7]=(...c)=>o.clearAll&&o.clearAll(...c)),class:"px-3 py-2 md:px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 text-sm md:text-base flex items-center justify-center gap-2"}," Clear All "),te("button",{onClick:e[8]||(e[8]=(...c)=>o.downloadLogs&&o.downloadLogs(...c)),class:"px-3 py-2 md:px-4 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm md:text-base flex items-center justify-center gap-2",disabled:!i.parsedLogs.length},[e[11]||(e[11]=te("span",null,"Download",-1)),i.parsedLogs.length?Rc("",!0):(Ae(),Ve("span",_Pe,"(No data)"))],8,SPe)])]),te("div",RPe,[te("div",EPe,[(Ae(!0),Ve(Yn,null,fd(i.programIds,c=>(Ae(),Ve("div",{key:c,class:"flex items-center gap-2 bg-gray-100 px-3 py-1 rounded text-sm"},[te("span",xPe,wn(c),1),i.connectingWebsockets.has(c)?(Ae(),Ve("div",TPe,e[12]||(e[12]=[te("span",{class:"text-primary-500 text-xs md:text-sm"},"Connecting...",-1),te("svg",{class:"animate-spin h-4 w-4 text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[te("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),te("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):i.websockets.has(c)&&i.receivingMessages?(Ae(),Ve("span",MPe,"Connected")):i.websockets.has(c)&&!i.receivingMessages?(Ae(),Ve("span",PPe,"Awaiting logs...May take several seconds")):(Ae(),Ve("span",OPe,"Disconnected"))]))),128))])]),te("div",IPe,[qt(a,{programIds:i.programIds,onRemoveProgramId:o.removeProgramId},null,8,["programIds","onRemoveProgramId"]),qt(l,{parsedLogs:i.parsedLogs,uniqueProgramsCount:o.uniqueProgramsCount,lastUpdateTime:i.lastUpdateTime},null,8,["parsedLogs","uniqueProgramsCount","lastUpdateTime"])]),te("div",APe,[Wg(te("input",{type:"checkbox",id:"errorFilter","onUpdate:modelValue":e[9]||(e[9]=c=>i.onlyShowErrors=c),class:"w-4 h-4 text-primary-400 bg-surface-50 border-surface-300 rounded focus:ring-primary-500"},null,512),[[A5,i.onlyShowErrors]]),e[13]||(e[13]=te("label",{for:"errorFilter",class:"text-[var(--p-text-color)] text-sm md:text-base"}," Only show error logs ",-1))]),te("div",HPe,[qt(u,{parsedLogs:i.parsedLogs,hotSettings:o.getMobileOptimizedHotSettings},null,8,["parsedLogs","hotSettings"])])])])}const NPe=Xl(pPe,[["render",kPe],["__scopeId","data-v-f9037540"]]),NB=t=>typeof t=="object"?JSON.stringify(t,(e,n)=>typeof n=="string"?n.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):n):typeof t=="string"?t.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):t,DPe={name:"ConvertView",data(){return{inputLogs:"",convertedLogs:null,error:null,transformer:null}},computed:{formattedOutput(){return this.convertedLogs?JSON.stringify(this.convertedLogs,null,2):""}},mounted(){this.transformer=new xK(["*"])},methods:{handleInput(){this.error=null,this.convertedLogs=null},convertLogs(){try{let t;try{t=JSON.parse(this.inputLogs)}catch{t={logs:this.inputLogs.split(`
`).filter(r=>r.trim()),signature:"unknown",slot:Date.now(),err:null}}let n=this.transformer.from_rpc_logs_response({signature:t.signature||"unknown",err:t.err||null,logs:t.logs||[]},BigInt(t.slot||Date.now())).map(r=>({signature:NB(t.signature),slot:t.slot,solana:JSON.parse(NB(r))}));this.convertedLogs={metadata:{convertedAt:new Date().toISOString(),totalLogs:n.length},logs:n}}catch(t){this.error=`Error converting logs: ${t.message}`,console.error("Error details:",t)}},async copyToClipboard(){try{await navigator.clipboard.writeText(this.formattedOutput)}catch{this.error="Failed to copy to clipboard"}},downloadLogs(){if(!this.convertedLogs)return;const t=new Blob([this.formattedOutput],{type:"application/json"}),e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download=`converted-solana-logs-${new Date().toISOString()}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}}},$Pe={class:"container mx-auto p-4"},LPe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},FPe={class:"space-y-4"},VPe=["disabled"],WPe={class:"space-y-4"},BPe={key:0,class:"h-[600px] p-4 font-mono text-sm rounded-lg border border-surface-200 bg-surface-800 text-white dark:bg-surface-800 dark:border-surface-700 overflow-auto"},jPe={key:1,class:"h-[600px] flex items-center justify-center border border-dashed border-surface-200 dark:border-surface-700 rounded-lg bg-surface-800"},UPe={class:"flex gap-4"},zPe=["disabled"],YPe=["disabled"],GPe={key:0,class:"mt-4 p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 rounded-lg"};function KPe(t,e,n,r,i,o){return Ae(),Ve("div",$Pe,[e[6]||(e[6]=te("h1",{class:"text-2xl font-bold mb-6 text-[var(--p-text-color)]"}," Convert Solana Logs ",-1)),te("div",LPe,[te("div",FPe,[Wg(te("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.inputLogs=s),placeholder:`Paste your raw Solana logs here, for example:

Program 9RX7oz3WN5VRTqekBBHBvEJFVMNRnrCmVy7S6B6S5oU7 invoke [1]
Program log: Instruction: Initialize
Program 11111111111111111111111111111111 invoke [2]
Program 11111111111111111111111111111111 success
Program log: Initialized new event. Current value
Program 9RX7oz3WN5VRTqekBBHBvEJFVMNRnrCmVy7S6B6S5oU7 consumed 59783 of 200000 compute units
Program 9RX7oz3WN5VRTqekBBHBvEJFVMNRnrCmVy7S6B6S5oU7 success
Program AbcdefGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL invoke [1]
Program log: Create
Program AbcdefGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL consumed 5475 of 200000 compute units
Program failed to complete: Invoked an instruction with data that is too large (12178014311288245306 > 10240)
Program AbcdefGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL failed: Program failed to complete`,class:"w-full h-[600px] p-4 font-mono text-sm rounded-lg border border-surface-200 bg-surface-800 text-white dark:bg-surface-800 dark:border-surface-700",onInput:e[1]||(e[1]=(...s)=>o.handleInput&&o.handleInput(...s))},null,544),[[qj,i.inputLogs]]),te("button",{onClick:e[2]||(e[2]=(...s)=>o.convertLogs&&o.convertLogs(...s)),class:"px-4 py-2 bg-primary-500 text-white rounded hover:bg-primary-600 disabled:opacity-50",disabled:!i.inputLogs}," Convert Logs ",8,VPe)]),te("div",WPe,[i.convertedLogs?(Ae(),Ve("div",BPe,[te("pre",null,wn(o.formattedOutput),1)])):(Ae(),Ve("div",jPe,e[5]||(e[5]=[te("span",{class:"text-[var(--p-text-color)]"},"Converted logs will appear here",-1)]))),te("div",UPe,[te("button",{onClick:e[3]||(e[3]=(...s)=>o.downloadLogs&&o.downloadLogs(...s)),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",disabled:!i.convertedLogs}," Download JSON ",8,zPe),te("button",{onClick:e[4]||(e[4]=(...s)=>o.copyToClipboard&&o.copyToClipboard(...s)),class:"px-4 py-2 bg-surface-700 text-white rounded hover:bg-surface-600 disabled:opacity-50",disabled:!i.convertedLogs}," Copy to Clipboard ",8,YPe)])])]),i.error?(Ae(),Ve("div",GPe,wn(i.error),1)):Rc("",!0)])}const qPe=Xl(DPe,[["render",KPe],["__scopeId","data-v-4e4f0b2a"]]),XPe={name:"AboutView"},ZPe={class:"container mx-auto p-4"};function JPe(t,e,n,r,i,o){return Ae(),Ve("div",ZPe,e[0]||(e[0]=[n5('<h1 class="text-2xl font-bold mb-6 text-[var(--p-text-color)]"> About Sologger </h1><div class="max-w-3xl text-[var(--p-text-color)]"><p class="mb-6 text-lg"> Sologger is a real-time Solana program log explorer and analysis tool. It helps developers monitor and debug their Solana programs across different networks. </p><h2 class="text-xl font-bold mt-8 mb-4">Features</h2><ul class="list-disc pl-6 mb-6 space-y-2"><li>Real-time log monitoring</li><li>Multi-program support</li><li>Cross-network compatibility</li><li>Log parsing and analysis</li><li>Data export capabilities</li></ul><h2 class="text-xl font-bold mt-8 mb-4">Getting Started</h2><p class="mb-4"> To begin monitoring your Solana program logs: </p><ol class="list-decimal pl-6 mb-6 space-y-2"><li>Select a network (Devnet, Testnet, or enter your RPC URL (Helius, QuickNode, etc...). In order to listen to logs on Mainnet you must use your own URL </li><li>Enter your program ID</li><li>Click &quot;Start Logs&quot; to begin monitoring</li></ol><h2 class="text-xl font-bold mt-8 mb-4">Contributing</h2><p class="mb-6"> Contributions are welcome! Visit our <a href="https://github.com/brytelands/sologger" target="_blank" rel="noopener noreferrer" class="text-primary-400 hover:text-primary-500 underline"> GitHub repository </a> to get started. </p></div>',2)]))}const QPe=Xl(XPe,[["render",JPe]]),eOe=[{path:"/",name:"home",component:NPe},{path:"/convert",name:"convert",component:qPe},{path:"/about",name:"about",component:QPe}],tOe=K7({history:_7("/sologger/"),routes:eOe}),DB=localStorage.getItem("theme")||"light",nOe=DB==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":DB;document.documentElement.setAttribute("data-theme",nOe);const ev=L5(Y8);ev.use(tOe);ev.component("InputText",r2);ev.component("Button",DM);ev.use(a8,{theme:"none"});ev.mount("#app");
